{"ast":null,"code":"import React,{useState,useEffect}from'react';// Icon components\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SymptomIcon=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})});const NutritionIcon=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01\"})});const MedicationIcon=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z\"})});const AIIcon=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"})});const CameraIcon=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\"})]});const MicrophoneIcon=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"})});const QuickLog=_ref=>{let{onSave,onCancel}=_ref;// State for log type selection - remember last choice\nconst[selectedLogType,setSelectedLogType]=useState('symptom');const[showAIModal,setShowAIModal]=useState(false);const[showSavedToast,setShowSavedToast]=useState(false);// Form states - keeping for backward compatibility but not used in new symptom form\nconst[symptomForm]=useState({symptom:'',severity:3,notes:'',startDate:new Date().toISOString().split('T')[0]});// Detailed symptom form states\nconst[symptomStep,setSymptomStep]=useState(1);const[selectedSymptomType,setSelectedSymptomType]=useState('');const[pinnedSymptomTypes,setPinnedSymptomTypes]=useState([]);const[showManageModal,setShowManageModal]=useState(false);const[showEmergencyModal,setShowEmergencyModal]=useState(false);const[showCancelConfirmModal,setShowCancelConfirmModal]=useState(false);// Core fields\nconst[coreFields,setCoreFields]=useState({startTime:new Date().toISOString().slice(0,16),// Now as default\nduration:'',isOngoing:false,severity:3,contextTags:[],notes:''});// Type-specific fields\nconst[typeSpecificFields,setTypeSpecificFields]=useState({});const[nutritionForm,setNutritionForm]=useState({mealType:'',foodItems:'',notes:'',date:new Date().toISOString().split('T')[0]});const[medicationForm,setMedicationForm]=useState({medication:'',dosage:'',taken:true,notes:'',date:new Date().toISOString().split('T')[0]});// Validation states\nconst[errors,setErrors]=useState({});// Load last selection from localStorage\nuseEffect(()=>{const savedLogType=localStorage.getItem('quickLogType');if(savedLogType==='symptom'||savedLogType==='nutrition'||savedLogType==='medication'){setSelectedLogType(savedLogType);}// Load pinned symptom types\nconst savedPinned=localStorage.getItem('pinnedSymptomTypes');if(savedPinned){setPinnedSymptomTypes(JSON.parse(savedPinned));}},[]);// Save selection to localStorage\nconst handleLogTypeChange=logType=>{setSelectedLogType(logType);localStorage.setItem('quickLogType',logType);setErrors({});// Clear errors when switching\n// Reset symptom form when switching to symptom\nif(logType==='symptom'){setSymptomStep(1);setSelectedSymptomType('');setCoreFields({startTime:new Date().toISOString().slice(0,16),duration:'',isOngoing:false,severity:3,contextTags:[],notes:''});setTypeSpecificFields({});}};// Symptom type management\nconst handlePinSymptomType=type=>{const newPinned=pinnedSymptomTypes.includes(type)?pinnedSymptomTypes.filter(t=>t!==type):[...pinnedSymptomTypes,type].slice(0,5);// Keep only top 5\nsetPinnedSymptomTypes(newPinned);localStorage.setItem('pinnedSymptomTypes',JSON.stringify(newPinned));};const handleSymptomTypeSelect=type=>{setSelectedSymptomType(type);setSymptomStep(2);};const handleNextStep=()=>{if(symptomStep<3){setSymptomStep(symptomStep+1);}};const handlePrevStep=()=>{if(symptomStep>1){setSymptomStep(symptomStep-1);}};// Render type-specific fields\nconst renderTypeSpecificFields=()=>{switch(selectedSymptomType){case'seizure':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Seizure Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:typeSpecificFields.seizureType||'',onChange:e=>setTypeSpecificFields({...typeSpecificFields,seizureType:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"unknown\",children:\"Unknown/New\"}),/*#__PURE__*/_jsx(\"option\",{value:\"focal\",children:\"Focal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"generalized\",children:\"Generalized\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Recovery State\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-3\",children:['OK','Tired','Confused'].map(state=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTypeSpecificFields({...typeSpecificFields,recoveryState:state}),className:`flex-1 py-3 px-4 rounded-lg border-2 transition-colors ${typeSpecificFields.recoveryState===state?'border-indigo-500 bg-indigo-50 text-indigo-700':'border-gray-300 text-gray-700 hover:border-gray-400'}`,children:state},state))})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.clustering||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,clustering:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Clustering (multiple seizures)\"})]})})]});case'sleep':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Sleep Latency (minutes)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:typeSpecificFields.sleepLatency||'',onChange:e=>setTypeSpecificFields({...typeSpecificFields,sleepLatency:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"How long to fall asleep\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Night Awakenings\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:typeSpecificFields.nightAwakenings||'',onChange:e=>setTypeSpecificFields({...typeSpecificFields,nightAwakenings:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Number of times woke up\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.snoring||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,snoring:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Snoring\"})]})})]});case'gi':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Stool Type (Bristol Scale)\"}),/*#__PURE__*/_jsxs(\"select\",{value:typeSpecificFields.stoolType||'',onChange:e=>setTypeSpecificFields({...typeSpecificFields,stoolType:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Type 1 - Separate hard lumps\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Type 2 - Sausage-like but lumpy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Type 3 - Sausage-like with cracks\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"Type 4 - Smooth and soft\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"Type 5 - Soft blobs\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6\",children:\"Type 6 - Mushy consistency\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7\",children:\"Type 7 - Entirely liquid\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.straining||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,straining:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Straining\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.vomiting||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,vomiting:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Vomiting\"})]})]})]});case'pain':return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Pain Indicators\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:['Face grimace','Guarding','Inconsolable cry','Less active'].map(indicator=>{var _typeSpecificFields$p;return/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:((_typeSpecificFields$p=typeSpecificFields.painIndicators)===null||_typeSpecificFields$p===void 0?void 0:_typeSpecificFields$p.includes(indicator))||false,onChange:e=>{const current=typeSpecificFields.painIndicators||[];const newIndicators=e.target.checked?[...current,indicator]:current.filter(i=>i!==indicator);setTypeSpecificFields({...typeSpecificFields,painIndicators:newIndicators});},className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:indicator})]},indicator);})})]})});case'sensory':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Triggers\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:['Sound','Light','Touch'].map(trigger=>{var _typeSpecificFields$t;return/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const current=typeSpecificFields.triggers||[];const newTriggers=current.includes(trigger)?current.filter(t=>t!==trigger):[...current,trigger];setTypeSpecificFields({...typeSpecificFields,triggers:newTriggers});},className:`px-3 py-1 rounded-full text-sm transition-colors ${(_typeSpecificFields$t=typeSpecificFields.triggers)!==null&&_typeSpecificFields$t!==void 0&&_typeSpecificFields$t.includes(trigger)?'bg-indigo-100 text-indigo-700 border border-indigo-300':'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'}`,children:trigger},trigger);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.flushing||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,flushing:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Flushing\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.sweating||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,sweating:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Sweating\"})]})]})]});case'respiratory':return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.cough||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,cough:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Cough\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.wheeze||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,wheeze:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Wheeze\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.runnyNose||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,runnyNose:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Runny nose\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.mouthBreathing||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,mouthBreathing:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Mouth breathing\"})]})]})});case'behavior':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Episode Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:typeSpecificFields.episodeType||'',onChange:e=>setTypeSpecificFields({...typeSpecificFields,episodeType:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"irritability\",children:\"Irritability\"}),/*#__PURE__*/_jsx(\"option\",{value:\"agitation\",children:\"Agitation\"}),/*#__PURE__*/_jsx(\"option\",{value:\"elopement\",children:\"Elopement\"}),/*#__PURE__*/_jsx(\"option\",{value:\"repetitive\",children:\"Repetitive behavior\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Impact\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.stoppedActivity||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,stoppedActivity:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Stopped activity\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.neededSupport||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,neededSupport:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Needed support\"})]})]})]})]});case'motor':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.gaitInstability||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,gaitInstability:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Gait instability\"})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Falls Count\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:typeSpecificFields.fallsCount||'',onChange:e=>setTypeSpecificFields({...typeSpecificFields,fallsCount:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Number of falls\"})]})]});default:return null;}};// Validation functions - keeping for backward compatibility\nconst validateSymptomForm=()=>{const newErrors={};if(!symptomForm.symptom.trim()){newErrors.symptom='Symptom is required';}return newErrors;};const validateNutritionForm=()=>{const newErrors={};if(!nutritionForm.mealType.trim()){newErrors.mealType='Meal type is required';}if(!nutritionForm.foodItems.trim()){newErrors.foodItems='Food items are required';}return newErrors;};const validateMedicationForm=()=>{const newErrors={};if(!medicationForm.medication.trim()){newErrors.medication='Medication name is required';}if(!medicationForm.dosage.trim()){newErrors.dosage='Dosage is required';}return newErrors;};// Save functions\nconst handleSave=()=>{let newErrors={};switch(selectedLogType){case'symptom':if(symptomStep<3){// If not on final step, continue to next step\nhandleNextStep();return;}// Validate required fields for symptom\nif(!selectedSymptomType){newErrors.symptomType='Please select a symptom type';}if(Object.keys(newErrors).length===0){const symptomData={type:'symptom',symptomType:selectedSymptomType,coreFields,typeSpecificFields,timestamp:new Date().toISOString()};onSave(symptomData);setShowSavedToast(true);setTimeout(()=>setShowSavedToast(false),3000);// Reset symptom form\nsetSymptomStep(1);setSelectedSymptomType('');setCoreFields({startTime:new Date().toISOString().slice(0,16),duration:'',isOngoing:false,severity:3,contextTags:[],notes:''});setTypeSpecificFields({});}break;case'nutrition':newErrors=validateNutritionForm();if(Object.keys(newErrors).length===0){onSave({type:'nutrition',data:nutritionForm});setShowSavedToast(true);setTimeout(()=>setShowSavedToast(false),3000);// Reset form\nsetNutritionForm({mealType:'',foodItems:'',notes:'',date:new Date().toISOString().split('T')[0]});}break;case'medication':newErrors=validateMedicationForm();if(Object.keys(newErrors).length===0){onSave({type:'medication',data:medicationForm});setShowSavedToast(true);setTimeout(()=>setShowSavedToast(false),3000);// Reset form\nsetMedicationForm({medication:'',dosage:'',taken:true,notes:'',date:new Date().toISOString().split('T')[0]});}break;}setErrors(newErrors);};const handleSaveAndAddAnother=()=>{handleSave();// Form will be reset after save, so we can stay on the same form\n};// Check if there are unsaved changes\nconst hasUnsavedChanges=()=>{switch(selectedLogType){case'symptom':return selectedSymptomType!==''||coreFields.notes!==''||coreFields.contextTags.length>0||Object.keys(typeSpecificFields).length>0;case'nutrition':return nutritionForm.mealType!==''||nutritionForm.foodItems!==''||nutritionForm.notes!=='';case'medication':return medicationForm.medication!==''||medicationForm.dosage!==''||medicationForm.notes!=='';default:return false;}};const handleCancelClick=()=>{if(hasUnsavedChanges()){setShowCancelConfirmModal(true);}else{onCancel();}};// Symptom type data\nconst symptomTypes=[{id:'seizure',name:'Seizure',icon:'⚡',color:'bg-purple-500'},{id:'sleep',name:'Sleep',icon:'😴',color:'bg-blue-500'},{id:'gi',name:'GI',icon:'🤢',color:'bg-orange-500'},{id:'pain',name:'Pain/Discomfort',icon:'😣',color:'bg-red-500'},{id:'sensory',name:'Sensory/Autonomic',icon:'🌡️',color:'bg-yellow-500'},{id:'respiratory',name:'Respiratory/ENT',icon:'🫁',color:'bg-cyan-500'},{id:'behavior',name:'Behavior Episode',icon:'😤',color:'bg-pink-500'},{id:'motor',name:'Motor',icon:'🏃',color:'bg-green-500'}];// Context tags\nconst contextTags=['therapy day','illness','travel','loud environment','school day','menses'];// Log type tiles\nconst logTypes=[{id:'symptom',title:'Symptom',icon:/*#__PURE__*/_jsx(SymptomIcon,{}),color:'bg-gradient-to-br from-red-500 to-pink-500',description:'Log symptoms and severity'},{id:'nutrition',title:'Nutrition',icon:/*#__PURE__*/_jsx(NutritionIcon,{}),color:'bg-gradient-to-br from-green-500 to-emerald-500',description:'Track meals and food intake'},{id:'medication',title:'Medication',icon:/*#__PURE__*/_jsx(MedicationIcon,{}),color:'bg-gradient-to-br from-blue-500 to-indigo-500',description:'Record medication taken'}];// Render form based on selected type\nconst renderForm=()=>{var _symptomTypes$find;switch(selectedLogType){case'symptom':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center space-x-4 mb-6\",children:[1,2,3].map(step=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${symptomStep>=step?'bg-indigo-600 text-white':'bg-gray-200 text-gray-600'}`,children:step}),step<3&&/*#__PURE__*/_jsx(\"div\",{className:`w-12 h-0.5 mx-2 ${symptomStep>step?'bg-indigo-600':'bg-gray-200'}`})]},step))}),symptomStep===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Choose Symptom Type\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowManageModal(true),className:\"text-sm text-indigo-600 hover:text-indigo-700 font-medium\",children:\"Manage\"})]}),pinnedSymptomTypes.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-700 mb-3\",children:\"Pinned\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-6\",children:pinnedSymptomTypes.map(typeId=>{const type=symptomTypes.find(t=>t.id===typeId);if(!type)return null;return/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSymptomTypeSelect(type.id),className:\"p-4 border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",children:type.icon}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:type.name})]})},type.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-700 mb-3\",children:pinnedSymptomTypes.length>0?'All Types':''}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 gap-3\",children:symptomTypes.map(type=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSymptomTypeSelect(type.id),className:\"p-4 border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",children:type.icon}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:type.name})]})},type.id))})]})]}),symptomStep===2&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Core Information\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevStep,className:\"text-sm text-gray-600 hover:text-gray-800\",children:\"\\u2190 Back\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Start Time\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCoreFields({...coreFields,startTime:new Date().toISOString().slice(0,16)}),className:`px-4 py-2 rounded-lg border-2 transition-colors ${coreFields.startTime===new Date().toISOString().slice(0,16)?'border-indigo-500 bg-indigo-50 text-indigo-700':'border-gray-300 text-gray-700 hover:border-gray-400'}`,children:\"Now\"}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:coreFields.startTime,onChange:e=>setCoreFields({...coreFields,startTime:e.target.value}),className:\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Duration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:coreFields.duration,onChange:e=>setCoreFields({...coreFields,duration:e.target.value}),disabled:coreFields.isOngoing,className:\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100\",placeholder:\"Minutes\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:coreFields.isOngoing,onChange:e=>setCoreFields({...coreFields,isOngoing:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Ongoing\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Severity: \",coreFields.severity,\"/5\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:\"5\",value:coreFields.severity,onChange:e=>setCoreFields({...coreFields,severity:parseInt(e.target.value)}),className:\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-500 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"None\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Severe\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Context (optional)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:contextTags.map(tag=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const newTags=coreFields.contextTags.includes(tag)?coreFields.contextTags.filter(t=>t!==tag):[...coreFields.contextTags,tag];setCoreFields({...coreFields,contextTags:newTags});},className:`px-3 py-1 rounded-full text-sm transition-colors ${coreFields.contextTags.includes(tag)?'bg-indigo-100 text-indigo-700 border border-indigo-300':'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'}`,children:tag},tag))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Notes (optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:coreFields.notes,onChange:e=>setCoreFields({...coreFields,notes:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Describe what you're experiencing...\",rows:3,maxLength:300}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 mt-1 text-right\",children:[coreFields.notes.length,\"/300\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextStep,className:\"w-full px-6 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Continue\"})]}),symptomStep===3&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:[(_symptomTypes$find=symptomTypes.find(t=>t.id===selectedSymptomType))===null||_symptomTypes$find===void 0?void 0:_symptomTypes$find.name,\" Details\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevStep,className:\"text-sm text-gray-600 hover:text-gray-800\",children:\"\\u2190 Back\"})]}),renderTypeSpecificFields()]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-yellow-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-800\",children:\"If you're concerned about safety, contact your clinician or local emergency services.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEmergencyModal(true),className:\"text-sm text-yellow-800 underline hover:text-yellow-900 mt-1\",children:\"View emergency info\"})]})]})})]});case'nutrition':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Meal Type \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:nutritionForm.mealType,onChange:e=>setNutritionForm({...nutritionForm,mealType:e.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${errors.mealType?'border-red-300':'border-gray-300'}`,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select meal type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"breakfast\",children:\"Breakfast\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lunch\",children:\"Lunch\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dinner\",children:\"Dinner\"}),/*#__PURE__*/_jsx(\"option\",{value:\"snack\",children:\"Snack\"})]}),errors.mealType&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.mealType})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Food Items \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"textarea\",{value:nutritionForm.foodItems,onChange:e=>setNutritionForm({...nutritionForm,foodItems:e.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${errors.foodItems?'border-red-300':'border-gray-300'}`,placeholder:\"List the foods you ate...\",rows:3}),errors.foodItems&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.foodItems})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Notes (optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:nutritionForm.notes,onChange:e=>setNutritionForm({...nutritionForm,notes:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Any observations or reactions...\",rows:2})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:nutritionForm.date,onChange:e=>setNutritionForm({...nutritionForm,date:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"})]})]});case'medication':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Medication Name \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:medicationForm.medication,onChange:e=>setMedicationForm({...medicationForm,medication:e.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${errors.medication?'border-red-300':'border-gray-300'}`,placeholder:\"e.g., Tylenol, Aspirin\"}),errors.medication&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.medication})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Dosage \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:medicationForm.dosage,onChange:e=>setMedicationForm({...medicationForm,dosage:e.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${errors.dosage?'border-red-300':'border-gray-300'}`,placeholder:\"e.g., 500mg, 1 tablet\"}),errors.dosage&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.dosage})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Taken\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMedicationForm({...medicationForm,taken:true}),className:`flex-1 py-3 px-4 rounded-lg border-2 transition-colors ${medicationForm.taken?'border-green-500 bg-green-50 text-green-700':'border-gray-300 text-gray-700 hover:border-gray-400'}`,children:\"Yes, taken\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMedicationForm({...medicationForm,taken:false}),className:`flex-1 py-3 px-4 rounded-lg border-2 transition-colors ${!medicationForm.taken?'border-red-500 bg-red-50 text-red-700':'border-gray-300 text-gray-700 hover:border-gray-400'}`,children:\"Missed dose\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Notes (optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:medicationForm.notes,onChange:e=>setMedicationForm({...medicationForm,notes:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Any side effects or observations...\",rows:2})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:medicationForm.date,onChange:e=>setMedicationForm({...medicationForm,date:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"})]})]});default:return null;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200 px-4 py-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"What would you like to log?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-4\",children:logTypes.map(logType=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleLogTypeChange(logType.id),className:`p-6 rounded-xl border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${selectedLogType===logType.id?'border-indigo-500 bg-indigo-50 shadow-md':'border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`inline-flex p-3 rounded-lg ${logType.color} text-white mb-3`,children:logType.icon}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-1\",children:logType.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:logType.description})]})},logType.id))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200 px-4 py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-3\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAIModal(true),className:\"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:[/*#__PURE__*/_jsx(AIIcon,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Use AI to fill fields\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 relative group\",title:\"Media capture coming soon\",children:[/*#__PURE__*/_jsx(CameraIcon,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-full right-0 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10\",children:[\"Media capture coming soon\",/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full right-2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 relative group\",title:\"Media capture coming soon\",children:[/*#__PURE__*/_jsx(MicrophoneIcon,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-full right-0 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10\",children:[\"Media capture coming soon\",/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full right-2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"})]})]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6 pb-40\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto\",children:renderForm()})}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-indigo-500 px-4 py-4 z-50 shadow-xl backdrop-blur-sm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:selectedLogType==='symptom'&&symptomStep<3?'Continue':'Save'}),selectedLogType==='symptom'&&symptomStep===3&&/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveAndAddAnother,className:\"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\",children:\"Save & add another\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCancelClick,className:\"px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\",children:\"Cancel\"})]})})}),showAIModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"AI Assistant\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-6\",children:\"Paste text, upload photo/video, or record voice (coming soon).\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-yellow-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-800\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Enable in Settings when available.\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end space-x-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAIModal(false),className:\"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\",children:\"Close\"})})]})})}),showManageModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Manage Pinned Types\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-6\",children:\"Pin your most-used symptom types for quick access (max 5).\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:symptomTypes.map(type=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl mr-3\",children:type.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900\",children:type.name})]}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:pinnedSymptomTypes.includes(type.id),onChange:()=>handlePinSymptomType(type.id),className:\"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500\"})]},type.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowManageModal(false),className:\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Done\"})})]})})}),showEmergencyModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-red-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"ml-3 text-lg font-semibold text-gray-900\",children:\"Emergency Information\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-red-800 mb-2\",children:\"Emergency Services\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-700 mb-2\",children:\"Call 911 immediately if you need emergency medical assistance.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-700\",children:\"For non-emergency concerns, contact your healthcare provider.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-blue-800 mb-2\",children:\"Your Care Team\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-700 mb-2\",children:\"Primary Care: Dr. Smith - (555) 123-4567\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-700\",children:\"Specialist: Dr. Johnson - (555) 987-6543\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 border border-green-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-green-800 mb-2\",children:\"24/7 Nurse Line\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-700\",children:\"Available for medical advice: (555) 456-7890\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEmergencyModal(false),className:\"px-4 py-2 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\",children:\"Close\"})})]})})}),showCancelConfirmModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-yellow-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"ml-3 text-lg font-semibold text-gray-900\",children:\"Unsaved Changes\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-6\",children:\"You have unsaved changes. Are you sure you want to cancel? Your progress will be lost.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCancelConfirmModal(false),className:\"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\",children:\"Continue Editing\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowCancelConfirmModal(false);onCancel();},className:\"px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2\",children:\"Cancel Anyway\"})]})]})})}),showSavedToast&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-20 left-1/2 transform -translate-x-1/2 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Symptom saved. You can find it in Journal.\"})]})})]});};export default QuickLog;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","SymptomIcon","className","fill","stroke","viewBox","children","strokeLinecap","strokeLinejoin","strokeWidth","d","NutritionIcon","MedicationIcon","AIIcon","CameraIcon","MicrophoneIcon","QuickLog","_ref","onSave","onCancel","selectedLogType","setSelectedLogType","showAIModal","setShowAIModal","showSavedToast","setShowSavedToast","symptomForm","symptom","severity","notes","startDate","Date","toISOString","split","symptomStep","setSymptomStep","selectedSymptomType","setSelectedSymptomType","pinnedSymptomTypes","setPinnedSymptomTypes","showManageModal","setShowManageModal","showEmergencyModal","setShowEmergencyModal","showCancelConfirmModal","setShowCancelConfirmModal","coreFields","setCoreFields","startTime","slice","duration","isOngoing","contextTags","typeSpecificFields","setTypeSpecificFields","nutritionForm","setNutritionForm","mealType","foodItems","date","medicationForm","setMedicationForm","medication","dosage","taken","errors","setErrors","savedLogType","localStorage","getItem","savedPinned","JSON","parse","handleLogTypeChange","logType","setItem","handlePinSymptomType","type","newPinned","includes","filter","t","stringify","handleSymptomTypeSelect","handleNextStep","handlePrevStep","renderTypeSpecificFields","value","seizureType","onChange","e","target","map","state","onClick","recoveryState","checked","clustering","sleepLatency","placeholder","nightAwakenings","snoring","stoolType","straining","vomiting","indicator","_typeSpecificFields$p","painIndicators","current","newIndicators","i","trigger","_typeSpecificFields$t","triggers","newTriggers","flushing","sweating","cough","wheeze","runnyNose","mouthBreathing","episodeType","stoppedActivity","neededSupport","gaitInstability","fallsCount","validateSymptomForm","newErrors","trim","validateNutritionForm","validateMedicationForm","handleSave","symptomType","Object","keys","length","symptomData","timestamp","setTimeout","data","handleSaveAndAddAnother","hasUnsavedChanges","handleCancelClick","symptomTypes","id","name","icon","color","logTypes","title","description","renderForm","_symptomTypes$find","step","typeId","find","disabled","min","max","parseInt","tag","newTags","rows","maxLength"],"sources":["C:/Users/girip/OneDrive/Desktop/PTS-Consulting/CareGene/src/components/QuickLog.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\n// Icon components\r\nconst SymptomIcon = () => (\r\n  <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n  </svg>\r\n);\r\n\r\nconst NutritionIcon = () => (\r\n  <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01\" />\r\n  </svg>\r\n);\r\n\r\nconst MedicationIcon = () => (\r\n  <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z\" />\r\n  </svg>\r\n);\r\n\r\nconst AIIcon = () => (\r\n  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\r\n  </svg>\r\n);\r\n\r\nconst CameraIcon = () => (\r\n  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\" />\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n  </svg>\r\n);\r\n\r\nconst MicrophoneIcon = () => (\r\n  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\" />\r\n  </svg>\r\n);\r\n\r\ninterface QuickLogProps {\r\n  onSave: (data: any) => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nconst QuickLog: React.FC<QuickLogProps> = ({ onSave, onCancel }) => {\r\n  // State for log type selection - remember last choice\r\n  const [selectedLogType, setSelectedLogType] = useState<'symptom' | 'nutrition' | 'medication'>('symptom');\r\n  const [showAIModal, setShowAIModal] = useState(false);\r\n  const [showSavedToast, setShowSavedToast] = useState(false);\r\n  \r\n  // Form states - keeping for backward compatibility but not used in new symptom form\r\n  const [symptomForm] = useState({\r\n    symptom: '',\r\n    severity: 3,\r\n    notes: '',\r\n    startDate: new Date().toISOString().split('T')[0]\r\n  });\r\n\r\n  // Detailed symptom form states\r\n  const [symptomStep, setSymptomStep] = useState<1 | 2 | 3>(1);\r\n  const [selectedSymptomType, setSelectedSymptomType] = useState<string>('');\r\n  const [pinnedSymptomTypes, setPinnedSymptomTypes] = useState<string[]>([]);\r\n  const [showManageModal, setShowManageModal] = useState(false);\r\n  const [showEmergencyModal, setShowEmergencyModal] = useState(false);\r\n  const [showCancelConfirmModal, setShowCancelConfirmModal] = useState(false);\r\n  \r\n  // Core fields\r\n  const [coreFields, setCoreFields] = useState({\r\n    startTime: new Date().toISOString().slice(0, 16), // Now as default\r\n    duration: '',\r\n    isOngoing: false,\r\n    severity: 3,\r\n    contextTags: [] as string[],\r\n    notes: ''\r\n  });\r\n\r\n  // Type-specific fields\r\n  const [typeSpecificFields, setTypeSpecificFields] = useState<any>({});\r\n  \r\n  const [nutritionForm, setNutritionForm] = useState({\r\n    mealType: '',\r\n    foodItems: '',\r\n    notes: '',\r\n    date: new Date().toISOString().split('T')[0]\r\n  });\r\n  \r\n  const [medicationForm, setMedicationForm] = useState({\r\n    medication: '',\r\n    dosage: '',\r\n    taken: true,\r\n    notes: '',\r\n    date: new Date().toISOString().split('T')[0]\r\n  });\r\n\r\n  // Validation states\r\n  const [errors, setErrors] = useState<{[key: string]: string}>({});\r\n\r\n  // Load last selection from localStorage\r\n  useEffect(() => {\r\n    const savedLogType = localStorage.getItem('quickLogType');\r\n    if (savedLogType === 'symptom' || savedLogType === 'nutrition' || savedLogType === 'medication') {\r\n      setSelectedLogType(savedLogType);\r\n    }\r\n    \r\n    // Load pinned symptom types\r\n    const savedPinned = localStorage.getItem('pinnedSymptomTypes');\r\n    if (savedPinned) {\r\n      setPinnedSymptomTypes(JSON.parse(savedPinned));\r\n    }\r\n  }, []);\r\n\r\n  // Save selection to localStorage\r\n  const handleLogTypeChange = (logType: 'symptom' | 'nutrition' | 'medication') => {\r\n    setSelectedLogType(logType);\r\n    localStorage.setItem('quickLogType', logType);\r\n    setErrors({}); // Clear errors when switching\r\n    \r\n    // Reset symptom form when switching to symptom\r\n    if (logType === 'symptom') {\r\n      setSymptomStep(1);\r\n      setSelectedSymptomType('');\r\n      setCoreFields({\r\n        startTime: new Date().toISOString().slice(0, 16),\r\n        duration: '',\r\n        isOngoing: false,\r\n        severity: 3,\r\n        contextTags: [],\r\n        notes: ''\r\n      });\r\n      setTypeSpecificFields({});\r\n    }\r\n  };\r\n\r\n  // Symptom type management\r\n  const handlePinSymptomType = (type: string) => {\r\n    const newPinned = pinnedSymptomTypes.includes(type)\r\n      ? pinnedSymptomTypes.filter(t => t !== type)\r\n      : [...pinnedSymptomTypes, type].slice(0, 5); // Keep only top 5\r\n    setPinnedSymptomTypes(newPinned);\r\n    localStorage.setItem('pinnedSymptomTypes', JSON.stringify(newPinned));\r\n  };\r\n\r\n  const handleSymptomTypeSelect = (type: string) => {\r\n    setSelectedSymptomType(type);\r\n    setSymptomStep(2);\r\n  };\r\n\r\n  const handleNextStep = () => {\r\n    if (symptomStep < 3) {\r\n      setSymptomStep(symptomStep + 1 as 1 | 2 | 3);\r\n    }\r\n  };\r\n\r\n  const handlePrevStep = () => {\r\n    if (symptomStep > 1) {\r\n      setSymptomStep(symptomStep - 1 as 1 | 2 | 3);\r\n    }\r\n  };\r\n\r\n  // Render type-specific fields\r\n  const renderTypeSpecificFields = () => {\r\n    switch (selectedSymptomType) {\r\n      case 'seizure':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Seizure Type\r\n              </label>\r\n              <select\r\n                value={typeSpecificFields.seizureType || ''}\r\n                onChange={(e) => setTypeSpecificFields({...typeSpecificFields, seizureType: e.target.value})}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n              >\r\n                <option value=\"\">Select type</option>\r\n                <option value=\"unknown\">Unknown/New</option>\r\n                <option value=\"focal\">Focal</option>\r\n                <option value=\"generalized\">Generalized</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Recovery State\r\n              </label>\r\n              <div className=\"flex space-x-3\">\r\n                {['OK', 'Tired', 'Confused'].map((state) => (\r\n                  <button\r\n                    key={state}\r\n                    onClick={() => setTypeSpecificFields({...typeSpecificFields, recoveryState: state})}\r\n                    className={`flex-1 py-3 px-4 rounded-lg border-2 transition-colors ${\r\n                      typeSpecificFields.recoveryState === state\r\n                        ? 'border-indigo-500 bg-indigo-50 text-indigo-700'\r\n                        : 'border-gray-300 text-gray-700 hover:border-gray-400'\r\n                    }`}\r\n                  >\r\n                    {state}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={typeSpecificFields.clustering || false}\r\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, clustering: e.target.checked})}\r\n                  className=\"mr-2\"\r\n                />\r\n                <span className=\"text-sm text-gray-700\">Clustering (multiple seizures)</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'sleep':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Sleep Latency (minutes)\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                value={typeSpecificFields.sleepLatency || ''}\r\n                onChange={(e) => setTypeSpecificFields({...typeSpecificFields, sleepLatency: e.target.value})}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n                placeholder=\"How long to fall asleep\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Night Awakenings\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                value={typeSpecificFields.nightAwakenings || ''}\r\n                onChange={(e) => setTypeSpecificFields({...typeSpecificFields, nightAwakenings: e.target.value})}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n                placeholder=\"Number of times woke up\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={typeSpecificFields.snoring || false}\r\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, snoring: e.target.checked})}\r\n                  className=\"mr-2\"\r\n                />\r\n                <span className=\"text-sm text-gray-700\">Snoring</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'gi':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Stool Type (Bristol Scale)\r\n              </label>\r\n              <select\r\n                value={typeSpecificFields.stoolType || ''}\r\n                onChange={(e) => setTypeSpecificFields({...typeSpecificFields, stoolType: e.target.value})}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n              >\r\n                <option value=\"\">Select type</option>\r\n                <option value=\"1\">Type 1 - Separate hard lumps</option>\r\n                <option value=\"2\">Type 2 - Sausage-like but lumpy</option>\r\n                <option value=\"3\">Type 3 - Sausage-like with cracks</option>\r\n                <option value=\"4\">Type 4 - Smooth and soft</option>\r\n                <option value=\"5\">Type 5 - Soft blobs</option>\r\n                <option value=\"6\">Type 6 - Mushy consistency</option>\r\n                <option value=\"7\">Type 7 - Entirely liquid</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={typeSpecificFields.straining || false}\r\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, straining: e.target.checked})}\r\n                  className=\"mr-2\"\r\n                />\r\n                <span className=\"text-sm text-gray-700\">Straining</span>\r\n              </label>\r\n\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={typeSpecificFields.vomiting || false}\r\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, vomiting: e.target.checked})}\r\n                  className=\"mr-2\"\r\n                />\r\n                <span className=\"text-sm text-gray-700\">Vomiting</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'pain':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Pain Indicators\r\n              </label>\r\n              <div className=\"space-y-3\">\r\n                {['Face grimace', 'Guarding', 'Inconsolable cry', 'Less active'].map((indicator) => (\r\n                  <label key={indicator} className=\"flex items-center\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={typeSpecificFields.painIndicators?.includes(indicator) || false}\r\n                      onChange={(e) => {\r\n                        const current = typeSpecificFields.painIndicators || [];\r\n                                                 const newIndicators = e.target.checked\r\n                           ? [...current, indicator]\r\n                           : current.filter((i: string) => i !== indicator);\r\n                        setTypeSpecificFields({...typeSpecificFields, painIndicators: newIndicators});\r\n                      }}\r\n                      className=\"mr-2\"\r\n                    />\r\n                    <span className=\"text-sm text-gray-700\">{indicator}</span>\r\n                  </label>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'sensory':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Triggers\r\n              </label>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {['Sound', 'Light', 'Touch'].map((trigger) => (\r\n                  <button\r\n                    key={trigger}\r\n                    onClick={() => {\r\n                      const current = typeSpecificFields.triggers || [];\r\n                                             const newTriggers = current.includes(trigger)\r\n                         ? current.filter((t: string) => t !== trigger)\r\n                         : [...current, trigger];\r\n                      setTypeSpecificFields({...typeSpecificFields, triggers: newTriggers});\r\n                    }}\r\n                    className={`px-3 py-1 rounded-full text-sm transition-colors ${\r\n                      typeSpecificFields.triggers?.includes(trigger)\r\n                        ? 'bg-indigo-100 text-indigo-700 border border-indigo-300'\r\n                        : 'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'\r\n                    }`}\r\n                  >\r\n                    {trigger}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={typeSpecificFields.flushing || false}\r\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, flushing: e.target.checked})}\r\n                  className=\"mr-2\"\r\n                />\r\n                <span className=\"text-sm text-gray-700\">Flushing</span>\r\n              </label>\r\n\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={typeSpecificFields.sweating || false}\r\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, sweating: e.target.checked})}\r\n                  className=\"mr-2\"\r\n                />\r\n                <span className=\"text-sm text-gray-700\">Sweating</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'respiratory':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"space-y-3\">\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={typeSpecificFields.cough || false}\r\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, cough: e.target.checked})}\r\n                  className=\"mr-2\"\r\n                />\r\n                <span className=\"text-sm text-gray-700\">Cough</span>\r\n              </label>\r\n\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={typeSpecificFields.wheeze || false}\r\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, wheeze: e.target.checked})}\r\n                  className=\"mr-2\"\r\n                />\r\n                <span className=\"text-sm text-gray-700\">Wheeze</span>\r\n              </label>\r\n\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={typeSpecificFields.runnyNose || false}\r\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, runnyNose: e.target.checked})}\r\n                  className=\"mr-2\"\r\n                />\r\n                <span className=\"text-sm text-gray-700\">Runny nose</span>\r\n              </label>\r\n\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={typeSpecificFields.mouthBreathing || false}\r\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, mouthBreathing: e.target.checked})}\r\n                  className=\"mr-2\"\r\n                />\r\n                <span className=\"text-sm text-gray-700\">Mouth breathing</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'behavior':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Episode Type\r\n              </label>\r\n              <select\r\n                value={typeSpecificFields.episodeType || ''}\r\n                onChange={(e) => setTypeSpecificFields({...typeSpecificFields, episodeType: e.target.value})}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n              >\r\n                <option value=\"\">Select type</option>\r\n                <option value=\"irritability\">Irritability</option>\r\n                <option value=\"agitation\">Agitation</option>\r\n                <option value=\"elopement\">Elopement</option>\r\n                <option value=\"repetitive\">Repetitive behavior</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Impact\r\n              </label>\r\n              <div className=\"space-y-3\">\r\n                <label className=\"flex items-center\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={typeSpecificFields.stoppedActivity || false}\r\n                    onChange={(e) => setTypeSpecificFields({...typeSpecificFields, stoppedActivity: e.target.checked})}\r\n                    className=\"mr-2\"\r\n                  />\r\n                  <span className=\"text-sm text-gray-700\">Stopped activity</span>\r\n                </label>\r\n\r\n                <label className=\"flex items-center\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={typeSpecificFields.neededSupport || false}\r\n                    onChange={(e) => setTypeSpecificFields({...typeSpecificFields, neededSupport: e.target.checked})}\r\n                    className=\"mr-2\"\r\n                  />\r\n                  <span className=\"text-sm text-gray-700\">Needed support</span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'motor':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div>\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={typeSpecificFields.gaitInstability || false}\r\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, gaitInstability: e.target.checked})}\r\n                  className=\"mr-2\"\r\n                />\r\n                <span className=\"text-sm text-gray-700\">Gait instability</span>\r\n              </label>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Falls Count\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                value={typeSpecificFields.fallsCount || ''}\r\n                onChange={(e) => setTypeSpecificFields({...typeSpecificFields, fallsCount: e.target.value})}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n                placeholder=\"Number of falls\"\r\n              />\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  // Validation functions - keeping for backward compatibility\r\n  const validateSymptomForm = () => {\r\n    const newErrors: {[key: string]: string} = {};\r\n    if (!symptomForm.symptom.trim()) {\r\n      newErrors.symptom = 'Symptom is required';\r\n    }\r\n    return newErrors;\r\n  };\r\n\r\n  const validateNutritionForm = () => {\r\n    const newErrors: {[key: string]: string} = {};\r\n    if (!nutritionForm.mealType.trim()) {\r\n      newErrors.mealType = 'Meal type is required';\r\n    }\r\n    if (!nutritionForm.foodItems.trim()) {\r\n      newErrors.foodItems = 'Food items are required';\r\n    }\r\n    return newErrors;\r\n  };\r\n\r\n  const validateMedicationForm = () => {\r\n    const newErrors: {[key: string]: string} = {};\r\n    if (!medicationForm.medication.trim()) {\r\n      newErrors.medication = 'Medication name is required';\r\n    }\r\n    if (!medicationForm.dosage.trim()) {\r\n      newErrors.dosage = 'Dosage is required';\r\n    }\r\n    return newErrors;\r\n  };\r\n\r\n  // Save functions\r\n  const handleSave = () => {\r\n    let newErrors = {};\r\n    \r\n    switch (selectedLogType) {\r\n      case 'symptom':\r\n        if (symptomStep < 3) {\r\n          // If not on final step, continue to next step\r\n          handleNextStep();\r\n          return;\r\n        }\r\n        \r\n        // Validate required fields for symptom\r\n        if (!selectedSymptomType) {\r\n          (newErrors as any).symptomType = 'Please select a symptom type';\r\n        }\r\n        \r\n        if (Object.keys(newErrors).length === 0) {\r\n          const symptomData = {\r\n            type: 'symptom',\r\n            symptomType: selectedSymptomType,\r\n            coreFields,\r\n            typeSpecificFields,\r\n            timestamp: new Date().toISOString()\r\n          };\r\n          \r\n          onSave(symptomData);\r\n          setShowSavedToast(true);\r\n          setTimeout(() => setShowSavedToast(false), 3000);\r\n          \r\n          // Reset symptom form\r\n          setSymptomStep(1);\r\n          setSelectedSymptomType('');\r\n          setCoreFields({\r\n            startTime: new Date().toISOString().slice(0, 16),\r\n            duration: '',\r\n            isOngoing: false,\r\n            severity: 3,\r\n            contextTags: [],\r\n            notes: ''\r\n          });\r\n          setTypeSpecificFields({});\r\n        }\r\n        break;\r\n        \r\n      case 'nutrition':\r\n        newErrors = validateNutritionForm();\r\n        if (Object.keys(newErrors).length === 0) {\r\n          onSave({ type: 'nutrition', data: nutritionForm });\r\n          setShowSavedToast(true);\r\n          setTimeout(() => setShowSavedToast(false), 3000);\r\n          // Reset form\r\n          setNutritionForm({\r\n            mealType: '',\r\n            foodItems: '',\r\n            notes: '',\r\n            date: new Date().toISOString().split('T')[0]\r\n          });\r\n        }\r\n        break;\r\n        \r\n      case 'medication':\r\n        newErrors = validateMedicationForm();\r\n        if (Object.keys(newErrors).length === 0) {\r\n          onSave({ type: 'medication', data: medicationForm });\r\n          setShowSavedToast(true);\r\n          setTimeout(() => setShowSavedToast(false), 3000);\r\n          // Reset form\r\n          setMedicationForm({\r\n            medication: '',\r\n            dosage: '',\r\n            taken: true,\r\n            notes: '',\r\n            date: new Date().toISOString().split('T')[0]\r\n          });\r\n        }\r\n        break;\r\n    }\r\n    \r\n    setErrors(newErrors);\r\n  };\r\n\r\n  const handleSaveAndAddAnother = () => {\r\n    handleSave();\r\n    // Form will be reset after save, so we can stay on the same form\r\n  };\r\n\r\n  // Check if there are unsaved changes\r\n  const hasUnsavedChanges = () => {\r\n    switch (selectedLogType) {\r\n      case 'symptom':\r\n        return selectedSymptomType !== '' || \r\n               coreFields.notes !== '' || \r\n               coreFields.contextTags.length > 0 ||\r\n               Object.keys(typeSpecificFields).length > 0;\r\n      case 'nutrition':\r\n        return nutritionForm.mealType !== '' || \r\n               nutritionForm.foodItems !== '' || \r\n               nutritionForm.notes !== '';\r\n      case 'medication':\r\n        return medicationForm.medication !== '' || \r\n               medicationForm.dosage !== '' || \r\n               medicationForm.notes !== '';\r\n      default:\r\n        return false;\r\n    }\r\n  };\r\n\r\n  const handleCancelClick = () => {\r\n    if (hasUnsavedChanges()) {\r\n      setShowCancelConfirmModal(true);\r\n    } else {\r\n      onCancel();\r\n    }\r\n  };\r\n\r\n  // Symptom type data\r\n  const symptomTypes = [\r\n    { id: 'seizure', name: 'Seizure', icon: '⚡', color: 'bg-purple-500' },\r\n    { id: 'sleep', name: 'Sleep', icon: '😴', color: 'bg-blue-500' },\r\n    { id: 'gi', name: 'GI', icon: '🤢', color: 'bg-orange-500' },\r\n    { id: 'pain', name: 'Pain/Discomfort', icon: '😣', color: 'bg-red-500' },\r\n    { id: 'sensory', name: 'Sensory/Autonomic', icon: '🌡️', color: 'bg-yellow-500' },\r\n    { id: 'respiratory', name: 'Respiratory/ENT', icon: '🫁', color: 'bg-cyan-500' },\r\n    { id: 'behavior', name: 'Behavior Episode', icon: '😤', color: 'bg-pink-500' },\r\n    { id: 'motor', name: 'Motor', icon: '🏃', color: 'bg-green-500' }\r\n  ];\r\n\r\n  // Context tags\r\n  const contextTags = [\r\n    'therapy day', 'illness', 'travel', 'loud environment', 'school day', 'menses'\r\n  ];\r\n\r\n  // Log type tiles\r\n  const logTypes = [\r\n    {\r\n      id: 'symptom',\r\n      title: 'Symptom',\r\n      icon: <SymptomIcon />,\r\n      color: 'bg-gradient-to-br from-red-500 to-pink-500',\r\n      description: 'Log symptoms and severity'\r\n    },\r\n    {\r\n      id: 'nutrition',\r\n      title: 'Nutrition',\r\n      icon: <NutritionIcon />,\r\n      color: 'bg-gradient-to-br from-green-500 to-emerald-500',\r\n      description: 'Track meals and food intake'\r\n    },\r\n    {\r\n      id: 'medication',\r\n      title: 'Medication',\r\n      icon: <MedicationIcon />,\r\n      color: 'bg-gradient-to-br from-blue-500 to-indigo-500',\r\n      description: 'Record medication taken'\r\n    }\r\n  ];\r\n\r\n  // Render form based on selected type\r\n  const renderForm = () => {\r\n    switch (selectedLogType) {\r\n             case 'symptom':\r\n         return (\r\n           <div className=\"space-y-6\">\r\n             {/* Step Indicator */}\r\n             <div className=\"flex items-center justify-center space-x-4 mb-6\">\r\n               {[1, 2, 3].map((step) => (\r\n                 <div key={step} className=\"flex items-center\">\r\n                   <div className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${\r\n                     symptomStep >= step \r\n                       ? 'bg-indigo-600 text-white' \r\n                       : 'bg-gray-200 text-gray-600'\r\n                   }`}>\r\n                     {step}\r\n                   </div>\r\n                   {step < 3 && (\r\n                     <div className={`w-12 h-0.5 mx-2 ${\r\n                       symptomStep > step ? 'bg-indigo-600' : 'bg-gray-200'\r\n                     }`} />\r\n                   )}\r\n                 </div>\r\n               ))}\r\n             </div>\r\n\r\n             {/* Step 1: Choose Symptom Type */}\r\n             {symptomStep === 1 && (\r\n               <div className=\"space-y-6\">\r\n                 <div className=\"flex items-center justify-between\">\r\n                   <h3 className=\"text-lg font-semibold text-gray-900\">Choose Symptom Type</h3>\r\n                   <button\r\n                     onClick={() => setShowManageModal(true)}\r\n                     className=\"text-sm text-indigo-600 hover:text-indigo-700 font-medium\"\r\n                   >\r\n                     Manage\r\n                   </button>\r\n                 </div>\r\n\r\n                 {/* Pinned Types */}\r\n                 {pinnedSymptomTypes.length > 0 && (\r\n                   <div>\r\n                     <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Pinned</h4>\r\n                     <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-6\">\r\n                       {pinnedSymptomTypes.map((typeId) => {\r\n                         const type = symptomTypes.find(t => t.id === typeId);\r\n                         if (!type) return null;\r\n                         return (\r\n                           <button\r\n                             key={type.id}\r\n                             onClick={() => handleSymptomTypeSelect(type.id)}\r\n                             className=\"p-4 border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                           >\r\n                             <div className=\"text-center\">\r\n                               <div className=\"text-2xl mb-2\">{type.icon}</div>\r\n                               <div className=\"text-sm font-medium text-gray-900\">{type.name}</div>\r\n                             </div>\r\n                           </button>\r\n                         );\r\n                       })}\r\n                     </div>\r\n                   </div>\r\n                 )}\r\n\r\n                 {/* All Types */}\r\n                 <div>\r\n                   <h4 className=\"text-sm font-medium text-gray-700 mb-3\">\r\n                     {pinnedSymptomTypes.length > 0 ? 'All Types' : ''}\r\n                   </h4>\r\n                   <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3\">\r\n                     {symptomTypes.map((type) => (\r\n                       <button\r\n                         key={type.id}\r\n                         onClick={() => handleSymptomTypeSelect(type.id)}\r\n                         className=\"p-4 border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                       >\r\n                         <div className=\"text-center\">\r\n                           <div className=\"text-2xl mb-2\">{type.icon}</div>\r\n                           <div className=\"text-sm font-medium text-gray-900\">{type.name}</div>\r\n                         </div>\r\n                       </button>\r\n                     ))}\r\n                   </div>\r\n                 </div>\r\n               </div>\r\n             )}\r\n\r\n             {/* Step 2: Core Fields */}\r\n             {symptomStep === 2 && (\r\n               <div className=\"space-y-6\">\r\n                 <div className=\"flex items-center justify-between\">\r\n                   <h3 className=\"text-lg font-semibold text-gray-900\">Core Information</h3>\r\n                   <button\r\n                     onClick={handlePrevStep}\r\n                     className=\"text-sm text-gray-600 hover:text-gray-800\"\r\n                   >\r\n                     ← Back\r\n                   </button>\r\n                 </div>\r\n\r\n                 {/* Start Time */}\r\n                 <div>\r\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                     Start Time\r\n                   </label>\r\n                   <div className=\"flex space-x-3\">\r\n                     <button\r\n                       onClick={() => setCoreFields({...coreFields, startTime: new Date().toISOString().slice(0, 16)})}\r\n                       className={`px-4 py-2 rounded-lg border-2 transition-colors ${\r\n                         coreFields.startTime === new Date().toISOString().slice(0, 16)\r\n                           ? 'border-indigo-500 bg-indigo-50 text-indigo-700'\r\n                           : 'border-gray-300 text-gray-700 hover:border-gray-400'\r\n                       }`}\r\n                     >\r\n                       Now\r\n                     </button>\r\n                     <input\r\n                       type=\"datetime-local\"\r\n                       value={coreFields.startTime}\r\n                       onChange={(e) => setCoreFields({...coreFields, startTime: e.target.value})}\r\n                       className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n                     />\r\n                   </div>\r\n                 </div>\r\n\r\n                 {/* Duration */}\r\n                 <div>\r\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                     Duration\r\n                   </label>\r\n                   <div className=\"flex items-center space-x-3\">\r\n                     <input\r\n                       type=\"number\"\r\n                       value={coreFields.duration}\r\n                       onChange={(e) => setCoreFields({...coreFields, duration: e.target.value})}\r\n                       disabled={coreFields.isOngoing}\r\n                       className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100\"\r\n                       placeholder=\"Minutes\"\r\n                     />\r\n                     <label className=\"flex items-center\">\r\n                       <input\r\n                         type=\"checkbox\"\r\n                         checked={coreFields.isOngoing}\r\n                         onChange={(e) => setCoreFields({...coreFields, isOngoing: e.target.checked})}\r\n                         className=\"mr-2\"\r\n                       />\r\n                       <span className=\"text-sm text-gray-700\">Ongoing</span>\r\n                     </label>\r\n                   </div>\r\n                 </div>\r\n\r\n                 {/* Severity */}\r\n                 <div>\r\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                     Severity: {coreFields.severity}/5\r\n                   </label>\r\n                   <input\r\n                     type=\"range\"\r\n                     min=\"0\"\r\n                     max=\"5\"\r\n                     value={coreFields.severity}\r\n                     onChange={(e) => setCoreFields({...coreFields, severity: parseInt(e.target.value)})}\r\n                     className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider\"\r\n                   />\r\n                   <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\r\n                     <span>None</span>\r\n                     <span>Severe</span>\r\n                   </div>\r\n                 </div>\r\n\r\n                 {/* Context Tags */}\r\n                 <div>\r\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                     Context (optional)\r\n                   </label>\r\n                   <div className=\"flex flex-wrap gap-2\">\r\n                     {contextTags.map((tag) => (\r\n                       <button\r\n                         key={tag}\r\n                         onClick={() => {\r\n                           const newTags = coreFields.contextTags.includes(tag)\r\n                             ? coreFields.contextTags.filter(t => t !== tag)\r\n                             : [...coreFields.contextTags, tag];\r\n                           setCoreFields({...coreFields, contextTags: newTags});\r\n                         }}\r\n                         className={`px-3 py-1 rounded-full text-sm transition-colors ${\r\n                           coreFields.contextTags.includes(tag)\r\n                             ? 'bg-indigo-100 text-indigo-700 border border-indigo-300'\r\n                             : 'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'\r\n                         }`}\r\n                       >\r\n                         {tag}\r\n                       </button>\r\n                     ))}\r\n                   </div>\r\n                 </div>\r\n\r\n                 {/* Notes */}\r\n                 <div>\r\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                     Notes (optional)\r\n                   </label>\r\n                   <textarea\r\n                     value={coreFields.notes}\r\n                     onChange={(e) => setCoreFields({...coreFields, notes: e.target.value})}\r\n                     className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n                     placeholder=\"Describe what you're experiencing...\"\r\n                     rows={3}\r\n                     maxLength={300}\r\n                   />\r\n                   <div className=\"text-xs text-gray-500 mt-1 text-right\">\r\n                     {coreFields.notes.length}/300\r\n                   </div>\r\n                 </div>\r\n\r\n                 <button\r\n                   onClick={handleNextStep}\r\n                   className=\"w-full px-6 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\r\n                 >\r\n                   Continue\r\n                 </button>\r\n               </div>\r\n             )}\r\n\r\n             {/* Step 3: Type-specific Fields */}\r\n             {symptomStep === 3 && (\r\n               <div className=\"space-y-6\">\r\n                 <div className=\"flex items-center justify-between\">\r\n                   <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                     {symptomTypes.find(t => t.id === selectedSymptomType)?.name} Details\r\n                   </h3>\r\n                   <button\r\n                     onClick={handlePrevStep}\r\n                     className=\"text-sm text-gray-600 hover:text-gray-800\"\r\n                   >\r\n                     ← Back\r\n                   </button>\r\n                 </div>\r\n\r\n                 {/* Render type-specific fields based on selectedSymptomType */}\r\n                 {renderTypeSpecificFields()}\r\n               </div>\r\n             )}\r\n\r\n                           {/* Safety Strip */}\r\n              <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-20\">\r\n                <div className=\"flex items-start\">\r\n                  <div className=\"flex-shrink-0\">\r\n                    <svg className=\"w-5 h-5 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\" />\r\n                    </svg>\r\n                  </div>\r\n                  <div className=\"ml-3\">\r\n                    <p className=\"text-sm text-yellow-800\">\r\n                      If you're concerned about safety, contact your clinician or local emergency services.\r\n                    </p>\r\n                    <button\r\n                      onClick={() => setShowEmergencyModal(true)}\r\n                      className=\"text-sm text-yellow-800 underline hover:text-yellow-900 mt-1\"\r\n                    >\r\n                      View emergency info\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n           </div>\r\n         );\r\n\r\n      case 'nutrition':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Meal Type <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <select\r\n                value={nutritionForm.mealType}\r\n                onChange={(e) => setNutritionForm({...nutritionForm, mealType: e.target.value})}\r\n                className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${\r\n                  errors.mealType ? 'border-red-300' : 'border-gray-300'\r\n                }`}\r\n              >\r\n                <option value=\"\">Select meal type</option>\r\n                <option value=\"breakfast\">Breakfast</option>\r\n                <option value=\"lunch\">Lunch</option>\r\n                <option value=\"dinner\">Dinner</option>\r\n                <option value=\"snack\">Snack</option>\r\n              </select>\r\n              {errors.mealType && (\r\n                <p className=\"mt-1 text-sm text-red-600\">{errors.mealType}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Food Items <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <textarea\r\n                value={nutritionForm.foodItems}\r\n                onChange={(e) => setNutritionForm({...nutritionForm, foodItems: e.target.value})}\r\n                className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${\r\n                  errors.foodItems ? 'border-red-300' : 'border-gray-300'\r\n                }`}\r\n                placeholder=\"List the foods you ate...\"\r\n                rows={3}\r\n              />\r\n              {errors.foodItems && (\r\n                <p className=\"mt-1 text-sm text-red-600\">{errors.foodItems}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Notes (optional)\r\n              </label>\r\n              <textarea\r\n                value={nutritionForm.notes}\r\n                onChange={(e) => setNutritionForm({...nutritionForm, notes: e.target.value})}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n                placeholder=\"Any observations or reactions...\"\r\n                rows={2}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Date\r\n              </label>\r\n              <input\r\n                type=\"date\"\r\n                value={nutritionForm.date}\r\n                onChange={(e) => setNutritionForm({...nutritionForm, date: e.target.value})}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n              />\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'medication':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Medication Name <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={medicationForm.medication}\r\n                onChange={(e) => setMedicationForm({...medicationForm, medication: e.target.value})}\r\n                className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${\r\n                  errors.medication ? 'border-red-300' : 'border-gray-300'\r\n                }`}\r\n                placeholder=\"e.g., Tylenol, Aspirin\"\r\n              />\r\n              {errors.medication && (\r\n                <p className=\"mt-1 text-sm text-red-600\">{errors.medication}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Dosage <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={medicationForm.dosage}\r\n                onChange={(e) => setMedicationForm({...medicationForm, dosage: e.target.value})}\r\n                className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${\r\n                  errors.dosage ? 'border-red-300' : 'border-gray-300'\r\n                }`}\r\n                placeholder=\"e.g., 500mg, 1 tablet\"\r\n              />\r\n              {errors.dosage && (\r\n                <p className=\"mt-1 text-sm text-red-600\">{errors.dosage}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Taken\r\n              </label>\r\n              <div className=\"flex space-x-4\">\r\n                <button\r\n                  onClick={() => setMedicationForm({...medicationForm, taken: true})}\r\n                  className={`flex-1 py-3 px-4 rounded-lg border-2 transition-colors ${\r\n                    medicationForm.taken\r\n                      ? 'border-green-500 bg-green-50 text-green-700'\r\n                      : 'border-gray-300 text-gray-700 hover:border-gray-400'\r\n                  }`}\r\n                >\r\n                  Yes, taken\r\n                </button>\r\n                <button\r\n                  onClick={() => setMedicationForm({...medicationForm, taken: false})}\r\n                  className={`flex-1 py-3 px-4 rounded-lg border-2 transition-colors ${\r\n                    !medicationForm.taken\r\n                      ? 'border-red-500 bg-red-50 text-red-700'\r\n                      : 'border-gray-300 text-gray-700 hover:border-gray-400'\r\n                  }`}\r\n                >\r\n                  Missed dose\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Notes (optional)\r\n              </label>\r\n              <textarea\r\n                value={medicationForm.notes}\r\n                onChange={(e) => setMedicationForm({...medicationForm, notes: e.target.value})}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n                placeholder=\"Any side effects or observations...\"\r\n                rows={2}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Date\r\n              </label>\r\n              <input\r\n                type=\"date\"\r\n                value={medicationForm.date}\r\n                onChange={(e) => setMedicationForm({...medicationForm, date: e.target.value})}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n              />\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 relative\">\r\n      {/* Log Type Selection Tiles */}\r\n      <div className=\"bg-white border-b border-gray-200 px-4 py-6\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">What would you like to log?</h2>\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n            {logTypes.map((logType) => (\r\n              <button\r\n                key={logType.id}\r\n                onClick={() => handleLogTypeChange(logType.id as 'symptom' | 'nutrition' | 'medication')}\r\n                className={`p-6 rounded-xl border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${\r\n                  selectedLogType === logType.id\r\n                    ? 'border-indigo-500 bg-indigo-50 shadow-md'\r\n                    : 'border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm'\r\n                }`}\r\n              >\r\n                <div className=\"text-center\">\r\n                  <div className={`inline-flex p-3 rounded-lg ${logType.color} text-white mb-3`}>\r\n                    {logType.icon}\r\n                  </div>\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">{logType.title}</h3>\r\n                  <p className=\"text-sm text-gray-600\">{logType.description}</p>\r\n                </div>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* AI and Media Capture Tools */}\r\n      <div className=\"bg-white border-b border-gray-200 px-4 py-4\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <button\r\n                onClick={() => setShowAIModal(true)}\r\n                className=\"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\r\n              >\r\n                <AIIcon />\r\n                <span>Use AI to fill fields</span>\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center space-x-2\">\r\n              <button\r\n                className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 relative group\"\r\n                title=\"Media capture coming soon\"\r\n              >\r\n                <CameraIcon />\r\n                <div className=\"absolute bottom-full right-0 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10\">\r\n                  Media capture coming soon\r\n                  <div className=\"absolute top-full right-2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"></div>\r\n                </div>\r\n              </button>\r\n              <button\r\n                className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 relative group\"\r\n                title=\"Media capture coming soon\"\r\n              >\r\n                <MicrophoneIcon />\r\n                <div className=\"absolute bottom-full right-0 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10\">\r\n                  Media capture coming soon\r\n                  <div className=\"absolute top-full right-2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"></div>\r\n                </div>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Form Content */}\r\n      <div className=\"px-4 py-6 pb-40\">\r\n        <div className=\"max-w-2xl mx-auto\">\r\n          {renderForm()}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Footer Actions */}\r\n      <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-indigo-500 px-4 py-4 z-50 shadow-xl backdrop-blur-sm\">\r\n        <div className=\"max-w-2xl mx-auto\">\r\n          <div className=\"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3\">\r\n            <button\r\n              onClick={handleSave}\r\n              className=\"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\r\n            >\r\n              {selectedLogType === 'symptom' && symptomStep < 3 ? 'Continue' : 'Save'}\r\n            </button>\r\n            {selectedLogType === 'symptom' && symptomStep === 3 && (\r\n              <button\r\n                onClick={handleSaveAndAddAnother}\r\n                className=\"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\r\n              >\r\n                Save & add another\r\n              </button>\r\n            )}\r\n            <button\r\n              onClick={handleCancelClick}\r\n              className=\"px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* AI Modal */}\r\n      {showAIModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-xl max-w-md w-full\">\r\n            <div className=\"p-6\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">AI Assistant</h3>\r\n              <p className=\"text-sm text-gray-600 mb-6\">\r\n                Paste text, upload photo/video, or record voice (coming soon).\r\n              </p>\r\n              \r\n              <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\">\r\n                <div className=\"flex items-start\">\r\n                  <div className=\"flex-shrink-0\">\r\n                    <svg className=\"w-5 h-5 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\" />\r\n                    </svg>\r\n                  </div>\r\n                  <div className=\"ml-3\">\r\n                    <p className=\"text-sm text-yellow-800\">\r\n                      <strong>Enable in Settings when available.</strong>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex justify-end space-x-3\">\r\n                <button\r\n                  onClick={() => setShowAIModal(false)}\r\n                  className=\"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n             {/* Manage Modal */}\r\n       {showManageModal && (\r\n         <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n           <div className=\"bg-white rounded-xl shadow-xl max-w-md w-full\">\r\n             <div className=\"p-6\">\r\n               <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Manage Pinned Types</h3>\r\n               <p className=\"text-sm text-gray-600 mb-6\">\r\n                 Pin your most-used symptom types for quick access (max 5).\r\n               </p>\r\n               \r\n               <div className=\"space-y-3\">\r\n                 {symptomTypes.map((type) => (\r\n                   <label key={type.id} className=\"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50\">\r\n                     <div className=\"flex items-center\">\r\n                       <span className=\"text-xl mr-3\">{type.icon}</span>\r\n                       <span className=\"text-sm font-medium text-gray-900\">{type.name}</span>\r\n                     </div>\r\n                     <input\r\n                       type=\"checkbox\"\r\n                       checked={pinnedSymptomTypes.includes(type.id)}\r\n                       onChange={() => handlePinSymptomType(type.id)}\r\n                       className=\"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500\"\r\n                     />\r\n                   </label>\r\n                 ))}\r\n               </div>\r\n               \r\n               <div className=\"flex justify-end mt-6\">\r\n                 <button\r\n                   onClick={() => setShowManageModal(false)}\r\n                   className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\r\n                 >\r\n                   Done\r\n                 </button>\r\n               </div>\r\n             </div>\r\n           </div>\r\n         </div>\r\n       )}\r\n\r\n       {/* Emergency Modal */}\r\n       {showEmergencyModal && (\r\n         <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n           <div className=\"bg-white rounded-xl shadow-xl max-w-md w-full\">\r\n             <div className=\"p-6\">\r\n               <div className=\"flex items-center mb-4\">\r\n                 <div className=\"flex-shrink-0\">\r\n                   <svg className=\"w-6 h-6 text-red-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                     <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\" />\r\n                   </svg>\r\n                 </div>\r\n                 <h3 className=\"ml-3 text-lg font-semibold text-gray-900\">Emergency Information</h3>\r\n               </div>\r\n               \r\n               <div className=\"space-y-4\">\r\n                 <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n                   <h4 className=\"font-medium text-red-800 mb-2\">Emergency Services</h4>\r\n                   <p className=\"text-sm text-red-700 mb-2\">Call 911 immediately if you need emergency medical assistance.</p>\r\n                   <p className=\"text-sm text-red-700\">For non-emergency concerns, contact your healthcare provider.</p>\r\n                 </div>\r\n                 \r\n                 <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n                   <h4 className=\"font-medium text-blue-800 mb-2\">Your Care Team</h4>\r\n                   <p className=\"text-sm text-blue-700 mb-2\">Primary Care: Dr. Smith - (555) 123-4567</p>\r\n                   <p className=\"text-sm text-blue-700\">Specialist: Dr. Johnson - (555) 987-6543</p>\r\n                 </div>\r\n                 \r\n                 <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\r\n                   <h4 className=\"font-medium text-green-800 mb-2\">24/7 Nurse Line</h4>\r\n                   <p className=\"text-sm text-green-700\">Available for medical advice: (555) 456-7890</p>\r\n                 </div>\r\n               </div>\r\n               \r\n               <div className=\"flex justify-end mt-6\">\r\n                 <button\r\n                   onClick={() => setShowEmergencyModal(false)}\r\n                   className=\"px-4 py-2 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\r\n                 >\r\n                   Close\r\n                 </button>\r\n               </div>\r\n             </div>\r\n           </div>\r\n         </div>\r\n       )}\r\n\r\n               {/* Cancel Confirmation Modal */}\r\n        {showCancelConfirmModal && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n            <div className=\"bg-white rounded-xl shadow-xl max-w-md w-full\">\r\n              <div className=\"p-6\">\r\n                <div className=\"flex items-center mb-4\">\r\n                  <div className=\"flex-shrink-0\">\r\n                    <svg className=\"w-6 h-6 text-yellow-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\" />\r\n                    </svg>\r\n                  </div>\r\n                  <h3 className=\"ml-3 text-lg font-semibold text-gray-900\">Unsaved Changes</h3>\r\n                </div>\r\n                \r\n                <p className=\"text-sm text-gray-600 mb-6\">\r\n                  You have unsaved changes. Are you sure you want to cancel? Your progress will be lost.\r\n                </p>\r\n                \r\n                <div className=\"flex justify-end space-x-3\">\r\n                  <button\r\n                    onClick={() => setShowCancelConfirmModal(false)}\r\n                    className=\"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\r\n                  >\r\n                    Continue Editing\r\n                  </button>\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowCancelConfirmModal(false);\r\n                      onCancel();\r\n                    }}\r\n                    className=\"px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2\"\r\n                  >\r\n                    Cancel Anyway\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Saved Toast */}\r\n        {showSavedToast && (\r\n          <div className=\"fixed bottom-20 left-1/2 transform -translate-x-1/2 z-50\">\r\n            <div className=\"bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg flex items-center space-x-2\">\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n              <span className=\"font-medium\">Symptom saved. You can find it in Journal.</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n     </div>\r\n   );\r\n };\r\n\r\nexport default QuickLog;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}