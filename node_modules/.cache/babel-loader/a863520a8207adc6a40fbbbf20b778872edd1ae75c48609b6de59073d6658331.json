{"ast":null,"code":"import React,{useState,useEffect}from'react';import{AIFillFieldsModal}from'./shared/SharedModals';import Toast from'./shared/Toast';// Icon components\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SymptomIcon=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})});const NutritionIcon=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01\"})});const MedicationIcon=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z\"})});const AIIcon=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"})});const CameraIcon=()=>/*#__PURE__*/_jsxs(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\"})]});const MicrophoneIcon=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"})});const QuickLog=_ref=>{let{onSave,onCancel}=_ref;// State for log type selection - remember last choice\nconst[selectedLogType,setSelectedLogType]=useState('symptom');// Form states\n// Symptom form states\nconst[symptomStep,setSymptomStep]=useState(1);const[selectedSymptomType,setSelectedSymptomType]=useState('');const[pinnedSymptomTypes,setPinnedSymptomTypes]=useState([]);const[showManageModal,setShowManageModal]=useState(false);const[showEmergencyModal,setShowEmergencyModal]=useState(false);const[showCancelConfirmModal,setShowCancelConfirmModal]=useState(false);// Core fields\nconst[coreFields,setCoreFields]=useState({startTime:new Date().toISOString().slice(0,16),// Now as default\nduration:'',isOngoing:false,severity:3,contextTags:[],notes:''});// Type-specific fields\nconst[typeSpecificFields,setTypeSpecificFields]=useState({});// Nutrition form states\nconst[nutritionStep,setNutritionStep]=useState(1);const[selectedIntakeType,setSelectedIntakeType]=useState('');const[showBarcodeModal,setShowBarcodeModal]=useState(false);const[showPhotoModal,setShowPhotoModal]=useState(false);const[showMixingGuideModal,setShowMixingGuideModal]=useState(false);// Nutrition intake form\nconst[nutritionIntakeForm,setNutritionIntakeForm]=useState({time:new Date().toISOString().slice(0,16),notes:''});// Type-specific nutrition fields\nconst[nutritionTypeFields,setNutritionTypeFields]=useState({});// Medication form states\nconst[medicationAction,setMedicationAction]=useState('record');// Record dose form\nconst[recordDoseForm,setRecordDoseForm]=useState({medicationName:'',doseTaken:'',scheduledWindow:'',actualTime:new Date().toISOString().slice(0,16),lotBottle:'Current bottle',notes:''});// Add medication form\nconst[addMedicationForm,setAddMedicationForm]=useState({name:'',form:'',strength:'',directions:'',scheduleWindows:[],pharmacy:''});// Medication data\nconst[medications,setMedications]=useState([{name:'Tylenol',form:'tablet',strength:'500mg'},{name:'Amoxicillin',form:'liquid',strength:'125mg/5mL'},{name:'Albuterol',form:'inhaler',strength:'90mcg'}]);// Modal states\nconst[showScanModal,setShowScanModal]=useState(false);const[showSyringeModal,setShowSyringeModal]=useState(false);const[showAIModal,setShowAIModal]=useState(false);// Toast state\nconst[toast,setToast]=useState({type:'info',message:'',isVisible:false});// Validation state\nconst[validationErrors,setValidationErrors]=useState({});// Validation states\nconst[errors,setErrors]=useState({});// Show toast function\nconst showToast=(type,message)=>{setToast({type,message,isVisible:true});};// Clear toast function\nconst clearToast=()=>{setToast(prev=>({...prev,isVisible:false}));};// Clear validation errors\nconst clearValidationErrors=()=>{setValidationErrors({});setErrors({});};// Helper function to display validation errors\nconst getValidationError=fieldName=>{return validationErrors[fieldName]||errors[fieldName];};// Validation functions\nconst validateSymptomForm=()=>{const newErrors={};if(!selectedSymptomType){newErrors.symptomType='Please choose a Symptom type';}if(!coreFields.startTime){newErrors.startTime='Please select a start time';}if(coreFields.duration===''&&!coreFields.isOngoing){newErrors.duration='Please enter duration or mark as ongoing';}if(coreFields.severity===null){newErrors.severity='Please select severity level';}setValidationErrors(newErrors);return Object.keys(newErrors).length===0;};const validateNutritionForm=()=>{const newErrors={};if(!selectedIntakeType){newErrors.intakeType='Please choose an Intake type';}if(!nutritionIntakeForm.time){newErrors.time='Please select a time';}// Type-specific validation\nif(selectedIntakeType==='Meal/Snack'){if(!nutritionTypeFields.foods||nutritionTypeFields.foods.length===0){newErrors.foods='Please enter at least one food item';}if(!nutritionTypeFields.portionSize){newErrors.portionSize='Please select portion size';}}else if(selectedIntakeType==='Drink'){if(!nutritionTypeFields.beverage){newErrors.beverage='Please select beverage type';}if(!nutritionTypeFields.volume){newErrors.volume='Please enter volume';}}else if(selectedIntakeType==='Enteral feed'){if(!nutritionTypeFields.formulaBrand){newErrors.formulaBrand='Please enter formula brand';}if(!nutritionTypeFields.volume){newErrors.volume='Please enter volume';}}else if(selectedIntakeType==='Supplement'){if(!nutritionTypeFields.name){newErrors.name='Please enter supplement name';}if(!nutritionTypeFields.amount){newErrors.amount='Please enter amount';}}setValidationErrors(newErrors);return Object.keys(newErrors).length===0;};const validateMedicationForm=()=>{const newErrors={};if(medicationAction==='record'){if(!recordDoseForm.medicationName){newErrors.medicationName='Please select or enter medication name';}if(!recordDoseForm.doseTaken){newErrors.doseTaken='Please enter dose taken';}if(!recordDoseForm.actualTime){newErrors.actualTime='Please select actual time';}}else if(medicationAction==='add'){if(!addMedicationForm.name){newErrors.name='Please enter medication name';}if(!addMedicationForm.form){newErrors.form='Please select form';}if(!addMedicationForm.strength){newErrors.strength='Please enter strength';}if(!addMedicationForm.directions){newErrors.directions='Please enter directions';}}setValidationErrors(newErrors);return Object.keys(newErrors).length===0;};// Load last selection from localStorage\nuseEffect(()=>{const savedLogType=localStorage.getItem('quickLogType');if(savedLogType==='symptom'||savedLogType==='nutrition'||savedLogType==='medication'){setSelectedLogType(savedLogType);}// Load pinned symptom types\nconst savedPinned=localStorage.getItem('pinnedSymptomTypes');if(savedPinned){setPinnedSymptomTypes(JSON.parse(savedPinned));}},[]);// Save selection to localStorage\nconst handleLogTypeChange=logType=>{setSelectedLogType(logType);localStorage.setItem('quickLogType',logType);setErrors({});// Clear errors when switching\n// Reset symptom form when switching to symptom\nif(logType==='symptom'){setSymptomStep(1);setSelectedSymptomType('');setCoreFields({startTime:new Date().toISOString().slice(0,16),duration:'',isOngoing:false,severity:3,contextTags:[],notes:''});setTypeSpecificFields({});}// Reset nutrition form when switching to nutrition\nif(logType==='nutrition'){setNutritionStep(1);setSelectedIntakeType('');setNutritionIntakeForm({time:new Date().toISOString().slice(0,16),notes:''});setNutritionTypeFields({});}// Reset medication form when switching to medication\nif(logType==='medication'){setMedicationAction('record');setRecordDoseForm({medicationName:'',doseTaken:'',scheduledWindow:'',actualTime:new Date().toISOString().slice(0,16),lotBottle:'Current bottle',notes:''});setAddMedicationForm({name:'',form:'',strength:'',directions:'',scheduleWindows:[],pharmacy:''});}};// Symptom type management\nconst handlePinSymptomType=type=>{const newPinned=pinnedSymptomTypes.includes(type)?pinnedSymptomTypes.filter(t=>t!==type):[...pinnedSymptomTypes,type].slice(0,5);// Keep only top 5\nsetPinnedSymptomTypes(newPinned);localStorage.setItem('pinnedSymptomTypes',JSON.stringify(newPinned));};const handleSymptomTypeSelect=type=>{setSelectedSymptomType(type);setSymptomStep(2);};const handleNextStep=()=>{if(symptomStep<3){setSymptomStep(symptomStep+1);}};const handlePrevStep=()=>{if(symptomStep>1){setSymptomStep(symptomStep-1);}};// Nutrition intake type management\nconst handleIntakeTypeSelect=type=>{setSelectedIntakeType(type);setNutritionStep(2);};const handleNutritionNextStep=()=>{if(nutritionStep<2){setNutritionStep(nutritionStep+1);}};const handleNutritionPrevStep=()=>{if(nutritionStep>1){setNutritionStep(nutritionStep-1);}};// Medication form handlers\nconst handleMedicationActionSelect=action=>{setMedicationAction(action);};const handleScheduleWindowToggle=window=>{const current=addMedicationForm.scheduleWindows;const newWindows=current.includes(window)?current.filter(w=>w!==window):[...current,window];setAddMedicationForm({...addMedicationForm,scheduleWindows:newWindows});};// Render type-specific fields\nconst renderTypeSpecificFields=()=>{switch(selectedSymptomType){case'seizure':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Seizure Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:typeSpecificFields.seizureType||'',onChange:e=>setTypeSpecificFields({...typeSpecificFields,seizureType:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"unknown\",children:\"Unknown/New\"}),/*#__PURE__*/_jsx(\"option\",{value:\"focal\",children:\"Focal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"generalized\",children:\"Generalized\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Recovery State\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-3\",children:['OK','Tired','Confused'].map(state=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTypeSpecificFields({...typeSpecificFields,recoveryState:state}),className:`flex-1 py-3 px-4 rounded-lg border-2 transition-colors ${typeSpecificFields.recoveryState===state?'border-indigo-500 bg-indigo-50 text-indigo-700':'border-gray-300 text-gray-700 hover:border-gray-400'}`,children:state},state))})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.clustering||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,clustering:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Clustering (multiple seizures)\"})]})})]});case'sleep':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Sleep Latency (minutes)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:typeSpecificFields.sleepLatency||'',onChange:e=>setTypeSpecificFields({...typeSpecificFields,sleepLatency:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"How long to fall asleep\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Night Awakenings\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:typeSpecificFields.nightAwakenings||'',onChange:e=>setTypeSpecificFields({...typeSpecificFields,nightAwakenings:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Number of times woke up\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.snoring||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,snoring:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Snoring\"})]})})]});case'gi':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Stool Type (Bristol Scale)\"}),/*#__PURE__*/_jsxs(\"select\",{value:typeSpecificFields.stoolType||'',onChange:e=>setTypeSpecificFields({...typeSpecificFields,stoolType:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Type 1 - Separate hard lumps\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Type 2 - Sausage-like but lumpy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Type 3 - Sausage-like with cracks\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"Type 4 - Smooth and soft\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"Type 5 - Soft blobs\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6\",children:\"Type 6 - Mushy consistency\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7\",children:\"Type 7 - Entirely liquid\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.straining||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,straining:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Straining\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.vomiting||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,vomiting:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Vomiting\"})]})]})]});case'pain':return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Pain Indicators\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:['Face grimace','Guarding','Inconsolable cry','Less active'].map(indicator=>{var _typeSpecificFields$p;return/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:((_typeSpecificFields$p=typeSpecificFields.painIndicators)===null||_typeSpecificFields$p===void 0?void 0:_typeSpecificFields$p.includes(indicator))||false,onChange:e=>{const current=typeSpecificFields.painIndicators||[];const newIndicators=e.target.checked?[...current,indicator]:current.filter(i=>i!==indicator);setTypeSpecificFields({...typeSpecificFields,painIndicators:newIndicators});},className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:indicator})]},indicator);})})]})});case'sensory':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Triggers\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:['Sound','Light','Touch'].map(trigger=>{var _typeSpecificFields$t;return/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const current=typeSpecificFields.triggers||[];const newTriggers=current.includes(trigger)?current.filter(t=>t!==trigger):[...current,trigger];setTypeSpecificFields({...typeSpecificFields,triggers:newTriggers});},className:`px-3 py-1 rounded-full text-sm transition-colors ${(_typeSpecificFields$t=typeSpecificFields.triggers)!==null&&_typeSpecificFields$t!==void 0&&_typeSpecificFields$t.includes(trigger)?'bg-indigo-100 text-indigo-700 border border-indigo-300':'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'}`,children:trigger},trigger);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.flushing||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,flushing:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Flushing\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.sweating||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,sweating:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Sweating\"})]})]})]});case'respiratory':return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.cough||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,cough:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Cough\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.wheeze||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,wheeze:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Wheeze\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.runnyNose||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,runnyNose:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Runny nose\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.mouthBreathing||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,mouthBreathing:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Mouth breathing\"})]})]})});case'behavior':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Episode Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:typeSpecificFields.episodeType||'',onChange:e=>setTypeSpecificFields({...typeSpecificFields,episodeType:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"irritability\",children:\"Irritability\"}),/*#__PURE__*/_jsx(\"option\",{value:\"agitation\",children:\"Agitation\"}),/*#__PURE__*/_jsx(\"option\",{value:\"elopement\",children:\"Elopement\"}),/*#__PURE__*/_jsx(\"option\",{value:\"repetitive\",children:\"Repetitive behavior\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Impact\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.stoppedActivity||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,stoppedActivity:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Stopped activity\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.neededSupport||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,neededSupport:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Needed support\"})]})]})]})]});case'motor':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:typeSpecificFields.gaitInstability||false,onChange:e=>setTypeSpecificFields({...typeSpecificFields,gaitInstability:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Gait instability\"})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Falls Count\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:typeSpecificFields.fallsCount||'',onChange:e=>setTypeSpecificFields({...typeSpecificFields,fallsCount:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Number of falls\"})]})]});default:return null;}};// Render nutrition type-specific fields\nconst renderNutritionTypeFields=()=>{switch(selectedIntakeType){case'meal':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Foods \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:nutritionTypeFields.foods||'',onChange:e=>setNutritionTypeFields({...nutritionTypeFields,foods:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Type food items...\"}),nutritionTypeFields.foods&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-lg shadow-lg z-10 max-h-48 overflow-y-auto\",children:foodSuggestions.filter(food=>food.toLowerCase().includes(nutritionTypeFields.foods.toLowerCase())).slice(0,5).map(food=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNutritionTypeFields({...nutritionTypeFields,foods:food}),className:\"w-full px-4 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none\",children:food},food))})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Portion Size\"}),/*#__PURE__*/_jsxs(\"select\",{value:nutritionTypeFields.portionSize||'',onChange:e=>setNutritionTypeFields({...nutritionTypeFields,portionSize:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select portion size\"}),/*#__PURE__*/_jsx(\"option\",{value:\"small\",children:\"Small\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"large\",children:\"Large\"}),/*#__PURE__*/_jsx(\"option\",{value:\"grams\",children:\"Grams\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ounces\",children:\"Ounces\"})]}),(nutritionTypeFields.portionSize==='grams'||nutritionTypeFields.portionSize==='ounces')&&/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:nutritionTypeFields.portionAmount||'',onChange:e=>setNutritionTypeFields({...nutritionTypeFields,portionAmount:e.target.value}),className:\"w-full mt-2 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:`Amount in ${nutritionTypeFields.portionSize}`})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Texture\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:textureOptions.map(texture=>{var _nutritionTypeFields$;return/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const current=nutritionTypeFields.textures||[];const newTextures=current.includes(texture)?current.filter(t=>t!==texture):[...current,texture];setNutritionTypeFields({...nutritionTypeFields,textures:newTextures});},className:`px-3 py-1 rounded-full text-sm transition-colors ${(_nutritionTypeFields$=nutritionTypeFields.textures)!==null&&_nutritionTypeFields$!==void 0&&_nutritionTypeFields$.includes(texture)?'bg-indigo-100 text-indigo-700 border border-indigo-300':'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'}`,children:texture},texture);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Setting\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:settingOptions.map(setting=>{var _nutritionTypeFields$2;return/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const current=nutritionTypeFields.settings||[];const newSettings=current.includes(setting)?current.filter(s=>s!==setting):[...current,setting];setNutritionTypeFields({...nutritionTypeFields,settings:newSettings});},className:`px-3 py-1 rounded-full text-sm transition-colors ${(_nutritionTypeFields$2=nutritionTypeFields.settings)!==null&&_nutritionTypeFields$2!==void 0&&_nutritionTypeFields$2.includes(setting)?'bg-indigo-100 text-indigo-700 border border-indigo-300':'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'}`,children:setting},setting);})})]})]});case'drink':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Beverage \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:nutritionTypeFields.beverage||'',onChange:e=>setNutritionTypeFields({...nutritionTypeFields,beverage:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select beverage\"}),beverageOptions.map(beverage=>/*#__PURE__*/_jsx(\"option\",{value:beverage.toLowerCase(),children:beverage},beverage))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Volume \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:nutritionTypeFields.volume||'',onChange:e=>setNutritionTypeFields({...nutritionTypeFields,volume:e.target.value}),className:\"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Amount\"}),/*#__PURE__*/_jsxs(\"select\",{value:nutritionTypeFields.volumeUnit||'ml',onChange:e=>setNutritionTypeFields({...nutritionTypeFields,volumeUnit:e.target.value}),className:\"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"ml\",children:\"mL\"}),/*#__PURE__*/_jsx(\"option\",{value:\"oz\",children:\"oz\"})]})]})]})]});case'enteral':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Formula Brand \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:nutritionTypeFields.formulaBrand||'',onChange:e=>setNutritionTypeFields({...nutritionTypeFields,formulaBrand:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"e.g., Pediasure, Ensure, etc.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Concentration\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:nutritionTypeFields.concentration||'',onChange:e=>setNutritionTypeFields({...nutritionTypeFields,concentration:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"e.g., 1.0 kcal/mL or 2 scoops to 100mL water\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Volume (mL) \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:nutritionTypeFields.volume||'',onChange:e=>setNutritionTypeFields({...nutritionTypeFields,volume:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Volume in mL\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Delivery Method\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNutritionTypeFields({...nutritionTypeFields,delivery:'bolus'}),className:`flex-1 py-3 px-4 rounded-lg border-2 transition-colors ${nutritionTypeFields.delivery==='bolus'?'border-indigo-500 bg-indigo-50 text-indigo-700':'border-gray-300 text-gray-700 hover:border-gray-400'}`,children:\"Bolus\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNutritionTypeFields({...nutritionTypeFields,delivery:'continuous'}),className:`flex-1 py-3 px-4 rounded-lg border-2 transition-colors ${nutritionTypeFields.delivery==='continuous'?'border-indigo-500 bg-indigo-50 text-indigo-700':'border-gray-300 text-gray-700 hover:border-gray-400'}`,children:\"Continuous\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-blue-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-800\",children:\"Need help with mixing ratios?\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMixingGuideModal(true),className:\"text-sm text-blue-800 underline hover:text-blue-900 mt-1\",children:\"View mixing guide\"})]})]})})]});case'supplement':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Supplement Name \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:nutritionTypeFields.supplementName||'',onChange:e=>setNutritionTypeFields({...nutritionTypeFields,supplementName:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"e.g., Vitamin D, Iron, etc.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Form\"}),/*#__PURE__*/_jsxs(\"select\",{value:nutritionTypeFields.form||'',onChange:e=>setNutritionTypeFields({...nutritionTypeFields,form:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select form\"}),supplementForms.map(form=>/*#__PURE__*/_jsx(\"option\",{value:form.toLowerCase(),children:form},form))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Strength per Unit\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:nutritionTypeFields.strength||'',onChange:e=>setNutritionTypeFields({...nutritionTypeFields,strength:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"e.g., 400 IU, 50mg, etc.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Amount Given \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:nutritionTypeFields.amount||'',onChange:e=>setNutritionTypeFields({...nutritionTypeFields,amount:e.target.value}),className:\"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:nutritionTypeFields.amountUnit||'',onChange:e=>setNutritionTypeFields({...nutritionTypeFields,amountUnit:e.target.value}),className:\"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Units or mL\"})]})]})]});default:return null;}};// Save functions\nconst handleSave=()=>{clearValidationErrors();switch(selectedLogType){case'symptom':if(symptomStep<3){// If not on final step, continue to next step\nhandleNextStep();return;}// Validate symptom form\nif(!validateSymptomForm()){showToast('error','Please fix the errors before saving');return;}const symptomData={type:'symptom',symptomType:selectedSymptomType,coreFields,typeSpecificFields,timestamp:new Date().toISOString()};onSave(symptomData);showToast('success','Symptom saved. You can find it in Journal.');// Reset symptom form\nsetSymptomStep(1);setSelectedSymptomType('');setCoreFields({startTime:new Date().toISOString().slice(0,16),duration:'',isOngoing:false,severity:3,contextTags:[],notes:''});setTypeSpecificFields({});break;case'nutrition':if(nutritionStep<2){// If not on final step, continue to next step\nhandleNutritionNextStep();return;}// Validate nutrition form\nif(!validateNutritionForm()){showToast('error','Please fix the errors before saving');return;}const nutritionData={type:'nutrition',intakeType:selectedIntakeType,time:nutritionIntakeForm.time,notes:nutritionIntakeForm.notes,typeSpecificFields:nutritionTypeFields,timestamp:new Date().toISOString()};onSave(nutritionData);showToast('success','Nutrition entry saved. You can find it in Journal.');// Reset nutrition form\nsetNutritionStep(1);setSelectedIntakeType('');setNutritionIntakeForm({time:new Date().toISOString().slice(0,16),notes:''});setNutritionTypeFields({});break;case'medication':// Validate medication form\nif(!validateMedicationForm()){showToast('error','Please fix the errors before saving');return;}if(medicationAction==='record'){const doseData={type:'medication_dose',...recordDoseForm,timestamp:new Date().toISOString()};onSave(doseData);showToast('success','Dose recorded.');// Reset form\nsetRecordDoseForm({medicationName:'',doseTaken:'',scheduledWindow:'',actualTime:new Date().toISOString().slice(0,16),lotBottle:'Current bottle',notes:''});}else{const medicationData={type:'medication_add',...addMedicationForm,timestamp:new Date().toISOString()};onSave(medicationData);showToast('success','Medication added. You can now record doses.');// Reset form\nsetAddMedicationForm({name:'',form:'',strength:'',directions:'',scheduleWindows:[],pharmacy:''});}break;}};const handleSaveAndAddAnother=()=>{handleSave();// Form will be reset after save, so we can stay on the same form\n};// Check if there are unsaved changes\nconst hasUnsavedChanges=()=>{switch(selectedLogType){case'symptom':return selectedSymptomType!==''||coreFields.notes!==''||coreFields.contextTags.length>0||Object.keys(typeSpecificFields).length>0;case'nutrition':return selectedIntakeType!==''||nutritionIntakeForm.notes!==''||Object.keys(nutritionTypeFields).length>0;case'medication':return medicationAction==='record'?recordDoseForm.medicationName!==''||recordDoseForm.doseTaken!==''||recordDoseForm.notes!=='':addMedicationForm.name!==''||addMedicationForm.strength!==''||addMedicationForm.directions!=='';default:return false;}};const handleCancelClick=()=>{if(hasUnsavedChanges()){setShowCancelConfirmModal(true);}else{onCancel();}};// Symptom type data\nconst symptomTypes=[{id:'seizure',name:'Seizure',icon:'⚡',color:'bg-purple-500'},{id:'sleep',name:'Sleep',icon:'😴',color:'bg-blue-500'},{id:'gi',name:'GI',icon:'🤢',color:'bg-orange-500'},{id:'pain',name:'Pain/Discomfort',icon:'😣',color:'bg-red-500'},{id:'sensory',name:'Sensory/Autonomic',icon:'🌡️',color:'bg-yellow-500'},{id:'respiratory',name:'Respiratory/ENT',icon:'🫁',color:'bg-cyan-500'},{id:'behavior',name:'Behavior Episode',icon:'😤',color:'bg-pink-500'},{id:'motor',name:'Motor',icon:'🏃',color:'bg-green-500'}];// Context tags\nconst contextTags=['therapy day','illness','travel','loud environment','school day','menses'];// Nutrition intake types\nconst intakeTypes=[{id:'meal',name:'Meal/Snack',icon:'🍽️',color:'bg-orange-500'},{id:'drink',name:'Drink',icon:'🥤',color:'bg-blue-500'},{id:'enteral',name:'Enteral Feed',icon:'💉',color:'bg-purple-500'},{id:'supplement',name:'Supplement',icon:'💊',color:'bg-green-500'}];// Food suggestions for autocomplete\nconst foodSuggestions=['Apple','Banana','Chicken','Rice','Broccoli','Carrots','Yogurt','Cheese','Bread','Pasta','Fish','Beef','Pork','Eggs','Milk','Juice','Water','Crackers','Cereal','Oatmeal','Soup','Salad','Pizza','Hamburger'];// Beverage options\nconst beverageOptions=['Water','Milk','Juice','Formula','Other'];// Texture options\nconst textureOptions=['Puree','Soft','Regular'];// Setting options\nconst settingOptions=['Home','School','Therapy'];// Supplement forms\nconst supplementForms=['Liquid','Tablet','Chewable','Powder'];// Medication forms\nconst medicationForms=['Tablet','Liquid','Inhaler','Patch','Topical','Other'];// Schedule windows\nconst scheduleWindows=['AM','Noon','PM','HS'];// Lot/bottle options\nconst lotBottleOptions=['Current bottle','New bottle opened','Lot #12345','Lot #67890'];// Log type tiles\nconst logTypes=[{id:'symptom',title:'Symptom',icon:/*#__PURE__*/_jsx(SymptomIcon,{}),color:'bg-gradient-to-br from-red-500 to-pink-500',description:'Log symptoms and severity'},{id:'nutrition',title:'Nutrition',icon:/*#__PURE__*/_jsx(NutritionIcon,{}),color:'bg-gradient-to-br from-green-500 to-emerald-500',description:'Track meals and food intake'},{id:'medication',title:'Medication',icon:/*#__PURE__*/_jsx(MedicationIcon,{}),color:'bg-gradient-to-br from-blue-500 to-indigo-500',description:'Record medication taken'}];// Render form based on selected type\nconst renderForm=()=>{var _symptomTypes$find,_intakeTypes$find;switch(selectedLogType){case'symptom':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center space-x-4 mb-6\",children:[1,2,3].map(step=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${symptomStep>=step?'bg-indigo-600 text-white':'bg-gray-200 text-gray-600'}`,children:step}),step<3&&/*#__PURE__*/_jsx(\"div\",{className:`w-12 h-0.5 mx-2 ${symptomStep>step?'bg-indigo-600':'bg-gray-200'}`})]},step))}),symptomStep===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Choose Symptom Type\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowManageModal(true),className:\"text-sm text-indigo-600 hover:text-indigo-700 font-medium\",children:\"Manage\"})]}),pinnedSymptomTypes.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-700 mb-3\",children:\"Pinned\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-6\",children:pinnedSymptomTypes.map(typeId=>{const type=symptomTypes.find(t=>t.id===typeId);if(!type)return null;return/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSymptomTypeSelect(type.id),className:\"p-4 border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",children:type.icon}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:type.name})]})},type.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-700 mb-3\",children:pinnedSymptomTypes.length>0?'All Types':''}),getValidationError('symptomType')&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 text-sm mb-3\",children:getValidationError('symptomType')}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 gap-3\",children:symptomTypes.map(type=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSymptomTypeSelect(type.id),className:\"p-4 border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",children:type.icon}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:type.name})]})},type.id))})]})]}),symptomStep===2&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Core Information\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevStep,className:\"text-sm text-gray-600 hover:text-gray-800\",children:\"\\u2190 Back\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Start Time \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),getValidationError('startTime')&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 text-sm mb-2\",children:getValidationError('startTime')}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCoreFields({...coreFields,startTime:new Date().toISOString().slice(0,16)}),className:`px-4 py-2 rounded-lg border-2 transition-colors ${coreFields.startTime===new Date().toISOString().slice(0,16)?'border-indigo-500 bg-indigo-50 text-indigo-700':'border-gray-300 text-gray-700 hover:border-gray-400'}`,children:\"Now\"}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:coreFields.startTime,onChange:e=>setCoreFields({...coreFields,startTime:e.target.value}),className:\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Duration \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),getValidationError('duration')&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 text-sm mb-2\",children:getValidationError('duration')}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:coreFields.duration,onChange:e=>setCoreFields({...coreFields,duration:e.target.value}),disabled:coreFields.isOngoing,className:\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100\",placeholder:\"Minutes\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:coreFields.isOngoing,onChange:e=>setCoreFields({...coreFields,isOngoing:e.target.checked}),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Ongoing\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Severity: \",coreFields.severity,\"/5 \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),getValidationError('severity')&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 text-sm mb-2\",children:getValidationError('severity')}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:\"5\",value:coreFields.severity,onChange:e=>setCoreFields({...coreFields,severity:parseInt(e.target.value)}),className:\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-500 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"None\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Severe\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Context (optional)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:contextTags.map(tag=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const newTags=coreFields.contextTags.includes(tag)?coreFields.contextTags.filter(t=>t!==tag):[...coreFields.contextTags,tag];setCoreFields({...coreFields,contextTags:newTags});},className:`px-3 py-1 rounded-full text-sm transition-colors ${coreFields.contextTags.includes(tag)?'bg-indigo-100 text-indigo-700 border border-indigo-300':'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'}`,children:tag},tag))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Notes (optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:coreFields.notes,onChange:e=>setCoreFields({...coreFields,notes:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Describe what you're experiencing...\",rows:3,maxLength:300}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 mt-1 text-right\",children:[coreFields.notes.length,\"/300\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleNextStep,className:\"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Continue\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCancelClick,className:\"px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\",children:\"Cancel\"})]})]}),symptomStep===3&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:[(_symptomTypes$find=symptomTypes.find(t=>t.id===selectedSymptomType))===null||_symptomTypes$find===void 0?void 0:_symptomTypes$find.name,\" Details\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevStep,className:\"text-sm text-gray-600 hover:text-gray-800\",children:\"\\u2190 Back\"})]}),renderTypeSpecificFields(),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveAndAddAnother,className:\"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\",children:\"Save & add another\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCancelClick,className:\"px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\",children:\"Cancel\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-yellow-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-800\",children:\"If you're concerned about safety, contact your clinician or local emergency services.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEmergencyModal(true),className:\"text-sm text-yellow-800 underline hover:text-yellow-900 mt-1\",children:\"View emergency info\"})]})]})})]});case'nutrition':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center space-x-4 mb-6\",children:[1,2].map(step=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${nutritionStep>=step?'bg-indigo-600 text-white':'bg-gray-200 text-gray-600'}`,children:step}),step<2&&/*#__PURE__*/_jsx(\"div\",{className:`w-12 h-0.5 mx-2 ${nutritionStep>step?'bg-indigo-600':'bg-gray-200'}`})]},step))}),nutritionStep===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Choose Intake Type\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-4\",children:intakeTypes.map(type=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleIntakeTypeSelect(type.id),className:\"p-6 border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl mb-3\",children:type.icon}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:type.name})]})},type.id))})]}),nutritionStep===2&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:[(_intakeTypes$find=intakeTypes.find(t=>t.id===selectedIntakeType))===null||_intakeTypes$find===void 0?void 0:_intakeTypes$find.name,\" Details\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNutritionPrevStep,className:\"text-sm text-gray-600 hover:text-gray-800\",children:\"\\u2190 Back\"})]}),renderNutritionTypeFields(),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Time\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNutritionIntakeForm({...nutritionIntakeForm,time:new Date().toISOString().slice(0,16)}),className:`px-4 py-2 rounded-lg border-2 transition-colors ${nutritionIntakeForm.time===new Date().toISOString().slice(0,16)?'border-indigo-500 bg-indigo-50 text-indigo-700':'border-gray-300 text-gray-700 hover:border-gray-400'}`,children:\"Now\"}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:nutritionIntakeForm.time,onChange:e=>setNutritionIntakeForm({...nutritionIntakeForm,time:e.target.value}),className:\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Notes (optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:nutritionIntakeForm.notes,onChange:e=>setNutritionIntakeForm({...nutritionIntakeForm,notes:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Logistics only (no symptoms)...\",rows:3})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 border border-gray-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center space-x-2 px-3 py-2 text-gray-500 hover:text-gray-700 transition-colors\",title:\"Scan barcode coming soon\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Scan barcode\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center space-x-2 px-3 py-2 text-gray-500 hover:text-gray-700 transition-colors\",title:\"Photo plate recognition coming soon\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Photo recognition\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Coming soon\"})]})})]})]});case'medication':return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Choose Action\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleMedicationActionSelect('record'),className:`p-4 border-2 rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500 ${medicationAction==='record'?'border-indigo-500 bg-indigo-50 text-indigo-700':'border-gray-300 text-gray-700 hover:border-gray-400'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",children:\"\\uD83D\\uDC8A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:\"Record a dose\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleMedicationActionSelect('add'),className:`p-4 border-2 rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500 ${medicationAction==='add'?'border-indigo-500 bg-indigo-50 text-indigo-700':'border-gray-300 text-gray-700 hover:border-gray-400'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",children:\"\\u2795\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:\"Add new medication\"})]})})]})]}),medicationAction==='record'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Medication Name \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:recordDoseForm.medicationName,onChange:e=>setRecordDoseForm({...recordDoseForm,medicationName:e.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${errors.medicationName?'border-red-300':'border-gray-300'}`,placeholder:\"Search medications...\"}),recordDoseForm.medicationName&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-lg shadow-lg z-10 max-h-48 overflow-y-auto\",children:[medications.filter(med=>med.name.toLowerCase().includes(recordDoseForm.medicationName.toLowerCase())).map(med=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setRecordDoseForm({...recordDoseForm,medicationName:med.name}),className:\"w-full px-4 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:med.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[med.strength,\" \",med.form]})]},med.name)),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleMedicationActionSelect('add'),className:\"w-full px-4 py-2 text-left text-indigo-600 hover:bg-indigo-50 focus:bg-indigo-50 focus:outline-none font-medium\",children:\"+ Add new medication\"})]})]}),errors.medicationName&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.medicationName})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Dose Taken \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:recordDoseForm.doseTaken,onChange:e=>setRecordDoseForm({...recordDoseForm,doseTaken:e.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${errors.doseTaken?'border-red-300':'border-gray-300'}`,placeholder:\"e.g., 1 tablet, 5 mL, 2 puffs\"}),errors.doseTaken&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.doseTaken})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Scheduled Window\"}),/*#__PURE__*/_jsxs(\"select\",{value:recordDoseForm.scheduledWindow,onChange:e=>setRecordDoseForm({...recordDoseForm,scheduledWindow:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select window\"}),scheduleWindows.map(window=>/*#__PURE__*/_jsx(\"option\",{value:window,children:window},window))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Actual Time\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setRecordDoseForm({...recordDoseForm,actualTime:new Date().toISOString().slice(0,16)}),className:`px-4 py-2 rounded-lg border-2 transition-colors ${recordDoseForm.actualTime===new Date().toISOString().slice(0,16)?'border-indigo-500 bg-indigo-50 text-indigo-700':'border-gray-300 text-gray-700 hover:border-gray-400'}`,children:\"Now\"}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:recordDoseForm.actualTime,onChange:e=>setRecordDoseForm({...recordDoseForm,actualTime:e.target.value}),className:\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Lot/Bottle (optional)\"}),/*#__PURE__*/_jsx(\"select\",{value:recordDoseForm.lotBottle,onChange:e=>setRecordDoseForm({...recordDoseForm,lotBottle:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",children:lotBottleOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option,children:option},option))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Notes (optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:recordDoseForm.notes,onChange:e=>setRecordDoseForm({...recordDoseForm,notes:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Logistics only (e.g., 'new bottle opened')...\",rows:2})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 border border-gray-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center space-x-2 px-3 py-2 text-gray-500 hover:text-gray-700 transition-colors\",title:\"Scan label to auto-fill coming soon\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Scan label\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center space-x-2 px-3 py-2 text-gray-500 hover:text-gray-700 transition-colors\",title:\"AR syringe guide coming soon\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"AR syringe guide\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Coming soon\"})]})})]}),medicationAction==='add'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Name (brand/generic) \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:addMedicationForm.name,onChange:e=>setAddMedicationForm({...addMedicationForm,name:e.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${errors.name?'border-red-300':'border-gray-300'}`,placeholder:\"e.g., Tylenol, Acetaminophen\"}),errors.name&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Form \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:addMedicationForm.form,onChange:e=>setAddMedicationForm({...addMedicationForm,form:e.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${errors.form?'border-red-300':'border-gray-300'}`,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select form\"}),medicationForms.map(form=>/*#__PURE__*/_jsx(\"option\",{value:form.toLowerCase(),children:form},form))]}),errors.form&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.form})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Strength \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:addMedicationForm.strength,onChange:e=>setAddMedicationForm({...addMedicationForm,strength:e.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${errors.strength?'border-red-300':'border-gray-300'}`,placeholder:\"e.g., 5 mg or 125 mg/5 mL\"}),errors.strength&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.strength})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Directions (SIG)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:addMedicationForm.directions,onChange:e=>setAddMedicationForm({...addMedicationForm,directions:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"e.g., 5 mL twice daily\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Schedule Windows\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:scheduleWindows.map(window=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleScheduleWindowToggle(window),className:`px-3 py-1 rounded-full text-sm transition-colors ${addMedicationForm.scheduleWindows.includes(window)?'bg-indigo-100 text-indigo-700 border border-indigo-300':'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'}`,children:window},window))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Pharmacy (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:addMedicationForm.pharmacy,onChange:e=>setAddMedicationForm({...addMedicationForm,pharmacy:e.target.value}),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Pharmacy name\"})]})]})]});default:return null;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200 px-4 py-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"What would you like to log?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-4\",children:logTypes.map(logType=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleLogTypeChange(logType.id),className:`p-6 rounded-xl border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${selectedLogType===logType.id?'border-indigo-500 bg-indigo-50 shadow-md':'border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`inline-flex p-3 rounded-lg ${logType.color} text-white mb-3`,children:logType.icon}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-1\",children:logType.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:logType.description})]})},logType.id))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200 px-4 py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-3\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{showToast('info','AI features coming soon! Enable in Settings when available.');setShowAIModal(true);},className:\"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:[/*#__PURE__*/_jsx(AIIcon,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Use AI to fill fields\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 relative group\",title:\"Media capture coming soon\",children:[/*#__PURE__*/_jsx(CameraIcon,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-full right-0 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10\",children:[\"Media capture coming soon\",/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full right-2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 relative group\",title:\"Media capture coming soon\",children:[/*#__PURE__*/_jsx(MicrophoneIcon,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-full right-0 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10\",children:[\"Media capture coming soon\",/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full right-2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"})]})]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto\",children:renderForm()})}),(selectedLogType==='symptom'&&symptomStep===3||selectedLogType==='nutrition'&&nutritionStep===2||selectedLogType==='medication')&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveAndAddAnother,className:\"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\",children:\"Save & add another\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCancelClick,className:\"px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\",children:\"Cancel\"})]})})}),/*#__PURE__*/_jsx(AIFillFieldsModal,{isOpen:showAIModal,onClose:()=>setShowAIModal(false)}),showManageModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Manage Pinned Types\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-6\",children:\"Pin your most-used symptom types for quick access (max 5).\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:symptomTypes.map(type=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl mr-3\",children:type.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900\",children:type.name})]}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:pinnedSymptomTypes.includes(type.id),onChange:()=>handlePinSymptomType(type.id),className:\"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500\"})]},type.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowManageModal(false),className:\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Done\"})})]})})}),showEmergencyModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-red-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"ml-3 text-lg font-semibold text-gray-900\",children:\"Emergency Information\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-red-800 mb-2\",children:\"Emergency Services\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-700 mb-2\",children:\"Call 911 immediately if you need emergency medical assistance.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-700\",children:\"For non-emergency concerns, contact your healthcare provider.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-blue-800 mb-2\",children:\"Your Care Team\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-700 mb-2\",children:\"Primary Care: Dr. Smith - (555) 123-4567\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-700\",children:\"Specialist: Dr. Johnson - (555) 987-6543\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 border border-green-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-green-800 mb-2\",children:\"24/7 Nurse Line\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-700\",children:\"Available for medical advice: (555) 456-7890\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEmergencyModal(false),className:\"px-4 py-2 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\",children:\"Close\"})})]})})}),showCancelConfirmModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-yellow-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"ml-3 text-lg font-semibold text-gray-900\",children:\"Unsaved Changes\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-6\",children:\"You have unsaved changes. Are you sure you want to cancel? Your progress will be lost.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCancelConfirmModal(false),className:\"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\",children:\"Continue Editing\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowCancelConfirmModal(false);onCancel();},className:\"px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2\",children:\"Cancel Anyway\"})]})]})})}),showBarcodeModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Scan Barcode\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-6\",children:\"Point your camera at a food product barcode to automatically fill nutrition information.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-yellow-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-yellow-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Coming soon!\"}),\" This feature will be available in a future update.\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end space-x-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowBarcodeModal(false),className:\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Got it\"})})]})})}),showPhotoModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Photo Plate Recognition\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-6\",children:\"Take a photo of your meal and AI will help identify and log the foods automatically.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-yellow-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-yellow-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Coming soon!\"}),\" This feature will be available in a future update.\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end space-x-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPhotoModal(false),className:\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Got it\"})})]})})}),showMixingGuideModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Enteral Feeding Mixing Guide\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMixingGuideModal(false),className:\"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-blue-800 mb-2\",children:\"Important Safety Notes\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-sm text-blue-700 space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Always follow your healthcare provider's specific instructions\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Use clean, sterile equipment\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Check expiration dates on all products\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Store prepared formula according to manufacturer guidelines\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:\"Common Mixing Ratios\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium text-gray-800 mb-2\",children:\"Pediasure 1.0 kcal/mL\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Ready to use - no mixing required\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium text-gray-800 mb-2\",children:\"Pediasure 1.5 kcal/mL\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Mix 1 can with 1/3 can of water\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium text-gray-800 mb-2\",children:\"Ensure 1.0 kcal/mL\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Ready to use - no mixing required\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium text-gray-800 mb-2\",children:\"Ensure 1.5 kcal/mL\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Mix 1 can with 1/3 can of water\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-yellow-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-yellow-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" These are general guidelines. Always consult your healthcare provider for specific instructions for your child's needs.\"]})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMixingGuideModal(false),className:\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Close\"})})]})})}),showScanModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Scan Label\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-6\",children:\"Point your camera at a medication label to automatically fill information.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-yellow-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-yellow-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Coming soon!\"}),\" This feature will be available in a future update.\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end space-x-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowScanModal(false),className:\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Got it\"})})]})})}),showSyringeModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-xl max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"AR Syringe Guide\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-6\",children:\"Use augmented reality to help measure the correct dose with a syringe.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-yellow-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-yellow-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Coming soon!\"}),\" This feature will be available in a future update.\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end space-x-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSyringeModal(false),className:\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:\"Got it\"})})]})})}),/*#__PURE__*/_jsx(Toast,{type:toast.type,message:toast.message,isVisible:toast.isVisible,onClose:clearToast})]});};export default QuickLog;","map":{"version":3,"names":["React","useState","useEffect","AIFillFieldsModal","Toast","jsx","_jsx","jsxs","_jsxs","SymptomIcon","className","fill","stroke","viewBox","children","strokeLinecap","strokeLinejoin","strokeWidth","d","NutritionIcon","MedicationIcon","AIIcon","CameraIcon","MicrophoneIcon","QuickLog","_ref","onSave","onCancel","selectedLogType","setSelectedLogType","symptomStep","setSymptomStep","selectedSymptomType","setSelectedSymptomType","pinnedSymptomTypes","setPinnedSymptomTypes","showManageModal","setShowManageModal","showEmergencyModal","setShowEmergencyModal","showCancelConfirmModal","setShowCancelConfirmModal","coreFields","setCoreFields","startTime","Date","toISOString","slice","duration","isOngoing","severity","contextTags","notes","typeSpecificFields","setTypeSpecificFields","nutritionStep","setNutritionStep","selectedIntakeType","setSelectedIntakeType","showBarcodeModal","setShowBarcodeModal","showPhotoModal","setShowPhotoModal","showMixingGuideModal","setShowMixingGuideModal","nutritionIntakeForm","setNutritionIntakeForm","time","nutritionTypeFields","setNutritionTypeFields","medicationAction","setMedicationAction","recordDoseForm","setRecordDoseForm","medicationName","doseTaken","scheduledWindow","actualTime","lotBottle","addMedicationForm","setAddMedicationForm","name","form","strength","directions","scheduleWindows","pharmacy","medications","setMedications","showScanModal","setShowScanModal","showSyringeModal","setShowSyringeModal","showAIModal","setShowAIModal","toast","setToast","type","message","isVisible","validationErrors","setValidationErrors","errors","setErrors","showToast","clearToast","prev","clearValidationErrors","getValidationError","fieldName","validateSymptomForm","newErrors","symptomType","Object","keys","length","validateNutritionForm","intakeType","foods","portionSize","beverage","volume","formulaBrand","amount","validateMedicationForm","savedLogType","localStorage","getItem","savedPinned","JSON","parse","handleLogTypeChange","logType","setItem","handlePinSymptomType","newPinned","includes","filter","t","stringify","handleSymptomTypeSelect","handleNextStep","handlePrevStep","handleIntakeTypeSelect","handleNutritionNextStep","handleNutritionPrevStep","handleMedicationActionSelect","action","handleScheduleWindowToggle","window","current","newWindows","w","renderTypeSpecificFields","value","seizureType","onChange","e","target","map","state","onClick","recoveryState","checked","clustering","sleepLatency","placeholder","nightAwakenings","snoring","stoolType","straining","vomiting","indicator","_typeSpecificFields$p","painIndicators","newIndicators","i","trigger","_typeSpecificFields$t","triggers","newTriggers","flushing","sweating","cough","wheeze","runnyNose","mouthBreathing","episodeType","stoppedActivity","neededSupport","gaitInstability","fallsCount","renderNutritionTypeFields","foodSuggestions","food","toLowerCase","portionAmount","textureOptions","texture","_nutritionTypeFields$","textures","newTextures","settingOptions","setting","_nutritionTypeFields$2","settings","newSettings","s","beverageOptions","volumeUnit","concentration","delivery","supplementName","supplementForms","amountUnit","handleSave","symptomData","timestamp","nutritionData","doseData","medicationData","handleSaveAndAddAnother","hasUnsavedChanges","handleCancelClick","symptomTypes","id","icon","color","intakeTypes","medicationForms","lotBottleOptions","logTypes","title","description","renderForm","_symptomTypes$find","_intakeTypes$find","step","typeId","find","disabled","min","max","parseInt","tag","newTags","rows","maxLength","med","option","isOpen","onClose"],"sources":["C:/Users/girip/OneDrive/Desktop/PTS-Consulting/CareGene/src/components/QuickLog.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { AIFillFieldsModal } from './shared/SharedModals';\nimport Toast, { ToastType } from './shared/Toast';\n\n// Icon components\nconst SymptomIcon = () => (\n  <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n  </svg>\n);\n\nconst NutritionIcon = () => (\n  <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01\" />\n  </svg>\n);\n\nconst MedicationIcon = () => (\n  <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z\" />\n  </svg>\n);\n\nconst AIIcon = () => (\n  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n  </svg>\n);\n\nconst CameraIcon = () => (\n  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\" />\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\" />\n  </svg>\n);\n\nconst MicrophoneIcon = () => (\n  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\" />\n  </svg>\n);\n\ninterface QuickLogProps {\n  onSave: (data: any) => void;\n  onCancel: () => void;\n}\n\nconst QuickLog: React.FC<QuickLogProps> = ({ onSave, onCancel }) => {\n  // State for log type selection - remember last choice\n  const [selectedLogType, setSelectedLogType] = useState<'symptom' | 'nutrition' | 'medication'>('symptom');\n\n  \n  // Form states\n\n\n  // Symptom form states\n  const [symptomStep, setSymptomStep] = useState<1 | 2 | 3>(1);\n  const [selectedSymptomType, setSelectedSymptomType] = useState<string>('');\n  const [pinnedSymptomTypes, setPinnedSymptomTypes] = useState<string[]>([]);\n  const [showManageModal, setShowManageModal] = useState(false);\n  const [showEmergencyModal, setShowEmergencyModal] = useState(false);\n  const [showCancelConfirmModal, setShowCancelConfirmModal] = useState(false);\n  \n  // Core fields\n  const [coreFields, setCoreFields] = useState({\n    startTime: new Date().toISOString().slice(0, 16), // Now as default\n    duration: '',\n    isOngoing: false,\n    severity: 3,\n    contextTags: [] as string[],\n    notes: ''\n  });\n\n  // Type-specific fields\n  const [typeSpecificFields, setTypeSpecificFields] = useState<any>({});\n\n  // Nutrition form states\n  const [nutritionStep, setNutritionStep] = useState<1 | 2>(1);\n  const [selectedIntakeType, setSelectedIntakeType] = useState<string>('');\n  const [showBarcodeModal, setShowBarcodeModal] = useState(false);\n  const [showPhotoModal, setShowPhotoModal] = useState(false);\n  const [showMixingGuideModal, setShowMixingGuideModal] = useState(false);\n  \n\n\n  // Nutrition intake form\n  const [nutritionIntakeForm, setNutritionIntakeForm] = useState({\n    time: new Date().toISOString().slice(0, 16),\n    notes: ''\n  });\n\n  // Type-specific nutrition fields\n  const [nutritionTypeFields, setNutritionTypeFields] = useState<any>({});\n  \n  // Medication form states\n  const [medicationAction, setMedicationAction] = useState<'record' | 'add'>('record');\n\n\n  // Record dose form\n  const [recordDoseForm, setRecordDoseForm] = useState({\n    medicationName: '',\n    doseTaken: '',\n    scheduledWindow: '',\n    actualTime: new Date().toISOString().slice(0, 16),\n    lotBottle: 'Current bottle',\n    notes: ''\n  });\n\n  // Add medication form\n  const [addMedicationForm, setAddMedicationForm] = useState({\n    name: '',\n    form: '',\n    strength: '',\n    directions: '',\n    scheduleWindows: [] as string[],\n    pharmacy: ''\n  });\n\n  // Medication data\n  const [medications, setMedications] = useState([\n    { name: 'Tylenol', form: 'tablet', strength: '500mg' },\n    { name: 'Amoxicillin', form: 'liquid', strength: '125mg/5mL' },\n    { name: 'Albuterol', form: 'inhaler', strength: '90mcg' }\n  ]);\n\n  // Modal states\n  const [showScanModal, setShowScanModal] = useState(false);\n  const [showSyringeModal, setShowSyringeModal] = useState(false);\n  const [showAIModal, setShowAIModal] = useState(false);\n  \n  // Toast state\n  const [toast, setToast] = useState<{\n    type: ToastType;\n    message: string;\n    isVisible: boolean;\n  }>({\n    type: 'info',\n    message: '',\n    isVisible: false\n  });\n\n  // Validation state\n  const [validationErrors, setValidationErrors] = useState<{\n    [key: string]: string;\n  }>({});\n\n  // Validation states\n  const [errors, setErrors] = useState<{[key: string]: string}>({});\n\n  // Show toast function\n  const showToast = (type: ToastType, message: string) => {\n    setToast({ type, message, isVisible: true });\n  };\n\n  // Clear toast function\n  const clearToast = () => {\n    setToast(prev => ({ ...prev, isVisible: false }));\n  };\n\n  // Clear validation errors\n  const clearValidationErrors = () => {\n    setValidationErrors({});\n    setErrors({});\n  };\n\n  // Helper function to display validation errors\n  const getValidationError = (fieldName: string) => {\n    return validationErrors[fieldName] || errors[fieldName];\n  };\n\n  // Validation functions\n  const validateSymptomForm = () => {\n    const newErrors: {[key: string]: string} = {};\n    \n    if (!selectedSymptomType) {\n      newErrors.symptomType = 'Please choose a Symptom type';\n    }\n    \n    if (!coreFields.startTime) {\n      newErrors.startTime = 'Please select a start time';\n    }\n    \n    if (coreFields.duration === '' && !coreFields.isOngoing) {\n      newErrors.duration = 'Please enter duration or mark as ongoing';\n    }\n    \n    if (coreFields.severity === null) {\n      newErrors.severity = 'Please select severity level';\n    }\n    \n    setValidationErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const validateNutritionForm = () => {\n    const newErrors: {[key: string]: string} = {};\n    \n    if (!selectedIntakeType) {\n      newErrors.intakeType = 'Please choose an Intake type';\n    }\n    \n    if (!nutritionIntakeForm.time) {\n      newErrors.time = 'Please select a time';\n    }\n    \n    // Type-specific validation\n    if (selectedIntakeType === 'Meal/Snack') {\n      if (!nutritionTypeFields.foods || nutritionTypeFields.foods.length === 0) {\n        newErrors.foods = 'Please enter at least one food item';\n      }\n      if (!nutritionTypeFields.portionSize) {\n        newErrors.portionSize = 'Please select portion size';\n      }\n    } else if (selectedIntakeType === 'Drink') {\n      if (!nutritionTypeFields.beverage) {\n        newErrors.beverage = 'Please select beverage type';\n      }\n      if (!nutritionTypeFields.volume) {\n        newErrors.volume = 'Please enter volume';\n      }\n    } else if (selectedIntakeType === 'Enteral feed') {\n      if (!nutritionTypeFields.formulaBrand) {\n        newErrors.formulaBrand = 'Please enter formula brand';\n      }\n      if (!nutritionTypeFields.volume) {\n        newErrors.volume = 'Please enter volume';\n      }\n    } else if (selectedIntakeType === 'Supplement') {\n      if (!nutritionTypeFields.name) {\n        newErrors.name = 'Please enter supplement name';\n      }\n      if (!nutritionTypeFields.amount) {\n        newErrors.amount = 'Please enter amount';\n      }\n    }\n    \n    setValidationErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const validateMedicationForm = () => {\n    const newErrors: {[key: string]: string} = {};\n    \n    if (medicationAction === 'record') {\n      if (!recordDoseForm.medicationName) {\n        newErrors.medicationName = 'Please select or enter medication name';\n      }\n      if (!recordDoseForm.doseTaken) {\n        newErrors.doseTaken = 'Please enter dose taken';\n      }\n      if (!recordDoseForm.actualTime) {\n        newErrors.actualTime = 'Please select actual time';\n      }\n    } else if (medicationAction === 'add') {\n      if (!addMedicationForm.name) {\n        newErrors.name = 'Please enter medication name';\n      }\n      if (!addMedicationForm.form) {\n        newErrors.form = 'Please select form';\n      }\n      if (!addMedicationForm.strength) {\n        newErrors.strength = 'Please enter strength';\n      }\n      if (!addMedicationForm.directions) {\n        newErrors.directions = 'Please enter directions';\n      }\n    }\n    \n    setValidationErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Load last selection from localStorage\n  useEffect(() => {\n    const savedLogType = localStorage.getItem('quickLogType');\n    if (savedLogType === 'symptom' || savedLogType === 'nutrition' || savedLogType === 'medication') {\n      setSelectedLogType(savedLogType);\n    }\n    \n    // Load pinned symptom types\n    const savedPinned = localStorage.getItem('pinnedSymptomTypes');\n    if (savedPinned) {\n      setPinnedSymptomTypes(JSON.parse(savedPinned));\n    }\n  }, []);\n\n  // Save selection to localStorage\n  const handleLogTypeChange = (logType: 'symptom' | 'nutrition' | 'medication') => {\n    setSelectedLogType(logType);\n    localStorage.setItem('quickLogType', logType);\n    setErrors({}); // Clear errors when switching\n    \n    // Reset symptom form when switching to symptom\n    if (logType === 'symptom') {\n      setSymptomStep(1);\n      setSelectedSymptomType('');\n      setCoreFields({\n        startTime: new Date().toISOString().slice(0, 16),\n        duration: '',\n        isOngoing: false,\n        severity: 3,\n        contextTags: [],\n        notes: ''\n      });\n      setTypeSpecificFields({});\n    }\n    \n         // Reset nutrition form when switching to nutrition\n     if (logType === 'nutrition') {\n       setNutritionStep(1);\n       setSelectedIntakeType('');\n       setNutritionIntakeForm({\n         time: new Date().toISOString().slice(0, 16),\n         notes: ''\n       });\n       setNutritionTypeFields({});\n     }\n     \n     // Reset medication form when switching to medication\n     if (logType === 'medication') {\n       setMedicationAction('record');\n       setRecordDoseForm({\n         medicationName: '',\n         doseTaken: '',\n         scheduledWindow: '',\n         actualTime: new Date().toISOString().slice(0, 16),\n         lotBottle: 'Current bottle',\n         notes: ''\n       });\n       setAddMedicationForm({\n         name: '',\n         form: '',\n         strength: '',\n         directions: '',\n         scheduleWindows: [],\n         pharmacy: ''\n       });\n     }\n  };\n\n  // Symptom type management\n  const handlePinSymptomType = (type: string) => {\n    const newPinned = pinnedSymptomTypes.includes(type)\n      ? pinnedSymptomTypes.filter(t => t !== type)\n      : [...pinnedSymptomTypes, type].slice(0, 5); // Keep only top 5\n    setPinnedSymptomTypes(newPinned);\n    localStorage.setItem('pinnedSymptomTypes', JSON.stringify(newPinned));\n  };\n\n  const handleSymptomTypeSelect = (type: string) => {\n    setSelectedSymptomType(type);\n    setSymptomStep(2);\n  };\n\n  const handleNextStep = () => {\n    if (symptomStep < 3) {\n      setSymptomStep(symptomStep + 1 as 1 | 2 | 3);\n    }\n  };\n\n  const handlePrevStep = () => {\n    if (symptomStep > 1) {\n      setSymptomStep(symptomStep - 1 as 1 | 2 | 3);\n    }\n  };\n\n  // Nutrition intake type management\n  const handleIntakeTypeSelect = (type: string) => {\n    setSelectedIntakeType(type);\n    setNutritionStep(2);\n  };\n\n  const handleNutritionNextStep = () => {\n    if (nutritionStep < 2) {\n      setNutritionStep(nutritionStep + 1 as 1 | 2);\n    }\n  };\n\n  const handleNutritionPrevStep = () => {\n    if (nutritionStep > 1) {\n      setNutritionStep(nutritionStep - 1 as 1 | 2);\n    }\n  };\n\n  // Medication form handlers\n  const handleMedicationActionSelect = (action: 'record' | 'add') => {\n    setMedicationAction(action);\n  };\n\n\n\n  const handleScheduleWindowToggle = (window: string) => {\n    const current = addMedicationForm.scheduleWindows;\n    const newWindows = current.includes(window)\n      ? current.filter(w => w !== window)\n      : [...current, window];\n    setAddMedicationForm({...addMedicationForm, scheduleWindows: newWindows});\n  };\n\n  // Render type-specific fields\n  const renderTypeSpecificFields = () => {\n    switch (selectedSymptomType) {\n      case 'seizure':\n        return (\n          <div className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Seizure Type\n              </label>\n              <select\n                value={typeSpecificFields.seizureType || ''}\n                onChange={(e) => setTypeSpecificFields({...typeSpecificFields, seizureType: e.target.value})}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              >\n                <option value=\"\">Select type</option>\n                <option value=\"unknown\">Unknown/New</option>\n                <option value=\"focal\">Focal</option>\n                <option value=\"generalized\">Generalized</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Recovery State\n              </label>\n              <div className=\"flex space-x-3\">\n                {['OK', 'Tired', 'Confused'].map((state) => (\n                  <button\n                    key={state}\n                    onClick={() => setTypeSpecificFields({...typeSpecificFields, recoveryState: state})}\n                    className={`flex-1 py-3 px-4 rounded-lg border-2 transition-colors ${\n                      typeSpecificFields.recoveryState === state\n                        ? 'border-indigo-500 bg-indigo-50 text-indigo-700'\n                        : 'border-gray-300 text-gray-700 hover:border-gray-400'\n                    }`}\n                  >\n                    {state}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            <div>\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={typeSpecificFields.clustering || false}\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, clustering: e.target.checked})}\n                  className=\"mr-2\"\n                />\n                <span className=\"text-sm text-gray-700\">Clustering (multiple seizures)</span>\n              </label>\n            </div>\n          </div>\n        );\n\n      case 'sleep':\n        return (\n          <div className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Sleep Latency (minutes)\n              </label>\n              <input\n                type=\"number\"\n                value={typeSpecificFields.sleepLatency || ''}\n                onChange={(e) => setTypeSpecificFields({...typeSpecificFields, sleepLatency: e.target.value})}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                placeholder=\"How long to fall asleep\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Night Awakenings\n              </label>\n              <input\n                type=\"number\"\n                value={typeSpecificFields.nightAwakenings || ''}\n                onChange={(e) => setTypeSpecificFields({...typeSpecificFields, nightAwakenings: e.target.value})}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                placeholder=\"Number of times woke up\"\n              />\n            </div>\n\n            <div>\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={typeSpecificFields.snoring || false}\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, snoring: e.target.checked})}\n                  className=\"mr-2\"\n                />\n                <span className=\"text-sm text-gray-700\">Snoring</span>\n              </label>\n            </div>\n          </div>\n        );\n\n      case 'gi':\n        return (\n          <div className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Stool Type (Bristol Scale)\n              </label>\n              <select\n                value={typeSpecificFields.stoolType || ''}\n                onChange={(e) => setTypeSpecificFields({...typeSpecificFields, stoolType: e.target.value})}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              >\n                <option value=\"\">Select type</option>\n                <option value=\"1\">Type 1 - Separate hard lumps</option>\n                <option value=\"2\">Type 2 - Sausage-like but lumpy</option>\n                <option value=\"3\">Type 3 - Sausage-like with cracks</option>\n                <option value=\"4\">Type 4 - Smooth and soft</option>\n                <option value=\"5\">Type 5 - Soft blobs</option>\n                <option value=\"6\">Type 6 - Mushy consistency</option>\n                <option value=\"7\">Type 7 - Entirely liquid</option>\n              </select>\n            </div>\n\n            <div className=\"space-y-3\">\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={typeSpecificFields.straining || false}\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, straining: e.target.checked})}\n                  className=\"mr-2\"\n                />\n                <span className=\"text-sm text-gray-700\">Straining</span>\n              </label>\n\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={typeSpecificFields.vomiting || false}\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, vomiting: e.target.checked})}\n                  className=\"mr-2\"\n                />\n                <span className=\"text-sm text-gray-700\">Vomiting</span>\n              </label>\n            </div>\n          </div>\n        );\n\n      case 'pain':\n        return (\n          <div className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Pain Indicators\n              </label>\n              <div className=\"space-y-3\">\n                {['Face grimace', 'Guarding', 'Inconsolable cry', 'Less active'].map((indicator) => (\n                  <label key={indicator} className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      checked={typeSpecificFields.painIndicators?.includes(indicator) || false}\n                      onChange={(e) => {\n                        const current = typeSpecificFields.painIndicators || [];\n                        const newIndicators = e.target.checked\n                          ? [...current, indicator]\n                          : current.filter((i: string) => i !== indicator);\n                        setTypeSpecificFields({...typeSpecificFields, painIndicators: newIndicators});\n                      }}\n                      className=\"mr-2\"\n                    />\n                    <span className=\"text-sm text-gray-700\">{indicator}</span>\n                  </label>\n                ))}\n              </div>\n            </div>\n          </div>\n        );\n\n      case 'sensory':\n        return (\n          <div className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Triggers\n              </label>\n              <div className=\"flex flex-wrap gap-2\">\n                {['Sound', 'Light', 'Touch'].map((trigger) => (\n                  <button\n                    key={trigger}\n                    onClick={() => {\n                      const current = typeSpecificFields.triggers || [];\n                      const newTriggers = current.includes(trigger)\n                        ? current.filter((t: string) => t !== trigger)\n                        : [...current, trigger];\n                      setTypeSpecificFields({...typeSpecificFields, triggers: newTriggers});\n                    }}\n                    className={`px-3 py-1 rounded-full text-sm transition-colors ${\n                      typeSpecificFields.triggers?.includes(trigger)\n                        ? 'bg-indigo-100 text-indigo-700 border border-indigo-300'\n                        : 'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'\n                    }`}\n                  >\n                    {trigger}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            <div className=\"space-y-3\">\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={typeSpecificFields.flushing || false}\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, flushing: e.target.checked})}\n                  className=\"mr-2\"\n                />\n                <span className=\"text-sm text-gray-700\">Flushing</span>\n              </label>\n\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={typeSpecificFields.sweating || false}\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, sweating: e.target.checked})}\n                  className=\"mr-2\"\n                />\n                <span className=\"text-sm text-gray-700\">Sweating</span>\n              </label>\n            </div>\n          </div>\n        );\n\n      case 'respiratory':\n        return (\n          <div className=\"space-y-6\">\n            <div className=\"space-y-3\">\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={typeSpecificFields.cough || false}\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, cough: e.target.checked})}\n                  className=\"mr-2\"\n                />\n                <span className=\"text-sm text-gray-700\">Cough</span>\n              </label>\n\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={typeSpecificFields.wheeze || false}\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, wheeze: e.target.checked})}\n                  className=\"mr-2\"\n                />\n                <span className=\"text-sm text-gray-700\">Wheeze</span>\n              </label>\n\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={typeSpecificFields.runnyNose || false}\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, runnyNose: e.target.checked})}\n                  className=\"mr-2\"\n                />\n                <span className=\"text-sm text-gray-700\">Runny nose</span>\n              </label>\n\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={typeSpecificFields.mouthBreathing || false}\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, mouthBreathing: e.target.checked})}\n                  className=\"mr-2\"\n                />\n                <span className=\"text-sm text-gray-700\">Mouth breathing</span>\n              </label>\n            </div>\n          </div>\n        );\n\n      case 'behavior':\n        return (\n          <div className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Episode Type\n              </label>\n              <select\n                value={typeSpecificFields.episodeType || ''}\n                onChange={(e) => setTypeSpecificFields({...typeSpecificFields, episodeType: e.target.value})}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              >\n                <option value=\"\">Select type</option>\n                <option value=\"irritability\">Irritability</option>\n                <option value=\"agitation\">Agitation</option>\n                <option value=\"elopement\">Elopement</option>\n                <option value=\"repetitive\">Repetitive behavior</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Impact\n              </label>\n              <div className=\"space-y-3\">\n                <label className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={typeSpecificFields.stoppedActivity || false}\n                    onChange={(e) => setTypeSpecificFields({...typeSpecificFields, stoppedActivity: e.target.checked})}\n                    className=\"mr-2\"\n                  />\n                  <span className=\"text-sm text-gray-700\">Stopped activity</span>\n                </label>\n\n                <label className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={typeSpecificFields.neededSupport || false}\n                    onChange={(e) => setTypeSpecificFields({...typeSpecificFields, neededSupport: e.target.checked})}\n                    className=\"mr-2\"\n                  />\n                  <span className=\"text-sm text-gray-700\">Needed support</span>\n                </label>\n              </div>\n            </div>\n          </div>\n        );\n\n      case 'motor':\n        return (\n          <div className=\"space-y-6\">\n            <div>\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={typeSpecificFields.gaitInstability || false}\n                  onChange={(e) => setTypeSpecificFields({...typeSpecificFields, gaitInstability: e.target.checked})}\n                  className=\"mr-2\"\n                />\n                <span className=\"text-sm text-gray-700\">Gait instability</span>\n              </label>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Falls Count\n              </label>\n              <input\n                type=\"number\"\n                value={typeSpecificFields.fallsCount || ''}\n                onChange={(e) => setTypeSpecificFields({...typeSpecificFields, fallsCount: e.target.value})}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                placeholder=\"Number of falls\"\n              />\n            </div>\n          </div>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  // Render nutrition type-specific fields\n  const renderNutritionTypeFields = () => {\n    switch (selectedIntakeType) {\n      case 'meal':\n        return (\n          <div className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Foods <span className=\"text-red-500\">*</span>\n              </label>\n              <div className=\"relative\">\n                <input\n                  type=\"text\"\n                  value={nutritionTypeFields.foods || ''}\n                  onChange={(e) => setNutritionTypeFields({...nutritionTypeFields, foods: e.target.value})}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                  placeholder=\"Type food items...\"\n                />\n                {nutritionTypeFields.foods && (\n                  <div className=\"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-lg shadow-lg z-10 max-h-48 overflow-y-auto\">\n                    {foodSuggestions\n                      .filter(food => food.toLowerCase().includes(nutritionTypeFields.foods.toLowerCase()))\n                      .slice(0, 5)\n                      .map((food) => (\n                        <button\n                          key={food}\n                          onClick={() => setNutritionTypeFields({...nutritionTypeFields, foods: food})}\n                          className=\"w-full px-4 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none\"\n                        >\n                          {food}\n                        </button>\n                      ))}\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Portion Size\n              </label>\n              <select\n                value={nutritionTypeFields.portionSize || ''}\n                onChange={(e) => setNutritionTypeFields({...nutritionTypeFields, portionSize: e.target.value})}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              >\n                <option value=\"\">Select portion size</option>\n                <option value=\"small\">Small</option>\n                <option value=\"medium\">Medium</option>\n                <option value=\"large\">Large</option>\n                <option value=\"grams\">Grams</option>\n                <option value=\"ounces\">Ounces</option>\n              </select>\n              {(nutritionTypeFields.portionSize === 'grams' || nutritionTypeFields.portionSize === 'ounces') && (\n                <input\n                  type=\"number\"\n                  value={nutritionTypeFields.portionAmount || ''}\n                  onChange={(e) => setNutritionTypeFields({...nutritionTypeFields, portionAmount: e.target.value})}\n                  className=\"w-full mt-2 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                  placeholder={`Amount in ${nutritionTypeFields.portionSize}`}\n                />\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Texture\n              </label>\n              <div className=\"flex flex-wrap gap-2\">\n                {textureOptions.map((texture) => (\n                  <button\n                    key={texture}\n                    onClick={() => {\n                      const current = nutritionTypeFields.textures || [];\n                      const newTextures = current.includes(texture)\n                        ? current.filter((t: string) => t !== texture)\n                        : [...current, texture];\n                      setNutritionTypeFields({...nutritionTypeFields, textures: newTextures});\n                    }}\n                    className={`px-3 py-1 rounded-full text-sm transition-colors ${\n                      nutritionTypeFields.textures?.includes(texture)\n                        ? 'bg-indigo-100 text-indigo-700 border border-indigo-300'\n                        : 'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'\n                    }`}\n                  >\n                    {texture}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Setting\n              </label>\n              <div className=\"flex flex-wrap gap-2\">\n                {settingOptions.map((setting) => (\n                  <button\n                    key={setting}\n                    onClick={() => {\n                      const current = nutritionTypeFields.settings || [];\n                      const newSettings = current.includes(setting)\n                        ? current.filter((s: string) => s !== setting)\n                        : [...current, setting];\n                      setNutritionTypeFields({...nutritionTypeFields, settings: newSettings});\n                    }}\n                    className={`px-3 py-1 rounded-full text-sm transition-colors ${\n                      nutritionTypeFields.settings?.includes(setting)\n                        ? 'bg-indigo-100 text-indigo-700 border border-indigo-300'\n                        : 'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'\n                    }`}\n                  >\n                    {setting}\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n        );\n\n      case 'drink':\n        return (\n          <div className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Beverage <span className=\"text-red-500\">*</span>\n              </label>\n              <select\n                value={nutritionTypeFields.beverage || ''}\n                onChange={(e) => setNutritionTypeFields({...nutritionTypeFields, beverage: e.target.value})}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              >\n                <option value=\"\">Select beverage</option>\n                {beverageOptions.map((beverage) => (\n                  <option key={beverage} value={beverage.toLowerCase()}>{beverage}</option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Volume <span className=\"text-red-500\">*</span>\n              </label>\n              <div className=\"flex space-x-3\">\n                <input\n                  type=\"number\"\n                  value={nutritionTypeFields.volume || ''}\n                  onChange={(e) => setNutritionTypeFields({...nutritionTypeFields, volume: e.target.value})}\n                  className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                  placeholder=\"Amount\"\n                />\n                <select\n                  value={nutritionTypeFields.volumeUnit || 'ml'}\n                  onChange={(e) => setNutritionTypeFields({...nutritionTypeFields, volumeUnit: e.target.value})}\n                  className=\"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                >\n                  <option value=\"ml\">mL</option>\n                  <option value=\"oz\">oz</option>\n                </select>\n              </div>\n            </div>\n          </div>\n        );\n\n      case 'enteral':\n        return (\n          <div className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Formula Brand <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                value={nutritionTypeFields.formulaBrand || ''}\n                onChange={(e) => setNutritionTypeFields({...nutritionTypeFields, formulaBrand: e.target.value})}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                placeholder=\"e.g., Pediasure, Ensure, etc.\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Concentration\n              </label>\n              <input\n                type=\"text\"\n                value={nutritionTypeFields.concentration || ''}\n                onChange={(e) => setNutritionTypeFields({...nutritionTypeFields, concentration: e.target.value})}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                placeholder=\"e.g., 1.0 kcal/mL or 2 scoops to 100mL water\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Volume (mL) <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"number\"\n                value={nutritionTypeFields.volume || ''}\n                onChange={(e) => setNutritionTypeFields({...nutritionTypeFields, volume: e.target.value})}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                placeholder=\"Volume in mL\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Delivery Method\n              </label>\n              <div className=\"flex space-x-4\">\n                <button\n                  onClick={() => setNutritionTypeFields({...nutritionTypeFields, delivery: 'bolus'})}\n                  className={`flex-1 py-3 px-4 rounded-lg border-2 transition-colors ${\n                    nutritionTypeFields.delivery === 'bolus'\n                      ? 'border-indigo-500 bg-indigo-50 text-indigo-700'\n                      : 'border-gray-300 text-gray-700 hover:border-gray-400'\n                  }`}\n                >\n                  Bolus\n                </button>\n                <button\n                  onClick={() => setNutritionTypeFields({...nutritionTypeFields, delivery: 'continuous'})}\n                  className={`flex-1 py-3 px-4 rounded-lg border-2 transition-colors ${\n                    nutritionTypeFields.delivery === 'continuous'\n                      ? 'border-indigo-500 bg-indigo-50 text-indigo-700'\n                      : 'border-gray-300 text-gray-700 hover:border-gray-400'\n                  }`}\n                >\n                  Continuous\n                </button>\n              </div>\n            </div>\n\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n              <div className=\"flex items-start\">\n                <div className=\"flex-shrink-0\">\n                  <svg className=\"w-5 h-5 text-blue-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </div>\n                <div className=\"ml-3\">\n                  <p className=\"text-sm text-blue-800\">\n                    Need help with mixing ratios?\n                  </p>\n                  <button\n                    onClick={() => setShowMixingGuideModal(true)}\n                    className=\"text-sm text-blue-800 underline hover:text-blue-900 mt-1\"\n                  >\n                    View mixing guide\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n\n      case 'supplement':\n        return (\n          <div className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Supplement Name <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                value={nutritionTypeFields.supplementName || ''}\n                onChange={(e) => setNutritionTypeFields({...nutritionTypeFields, supplementName: e.target.value})}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                placeholder=\"e.g., Vitamin D, Iron, etc.\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Form\n              </label>\n              <select\n                value={nutritionTypeFields.form || ''}\n                onChange={(e) => setNutritionTypeFields({...nutritionTypeFields, form: e.target.value})}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              >\n                <option value=\"\">Select form</option>\n                {supplementForms.map((form) => (\n                  <option key={form} value={form.toLowerCase()}>{form}</option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Strength per Unit\n              </label>\n              <input\n                type=\"text\"\n                value={nutritionTypeFields.strength || ''}\n                onChange={(e) => setNutritionTypeFields({...nutritionTypeFields, strength: e.target.value})}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                placeholder=\"e.g., 400 IU, 50mg, etc.\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Amount Given <span className=\"text-red-500\">*</span>\n              </label>\n              <div className=\"flex space-x-3\">\n                <input\n                  type=\"number\"\n                  value={nutritionTypeFields.amount || ''}\n                  onChange={(e) => setNutritionTypeFields({...nutritionTypeFields, amount: e.target.value})}\n                  className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                  placeholder=\"Amount\"\n                />\n                <input\n                  type=\"text\"\n                  value={nutritionTypeFields.amountUnit || ''}\n                  onChange={(e) => setNutritionTypeFields({...nutritionTypeFields, amountUnit: e.target.value})}\n                  className=\"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                  placeholder=\"Units or mL\"\n                />\n              </div>\n            </div>\n          </div>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n\n\n  // Save functions\n  const handleSave = () => {\n    clearValidationErrors();\n    \n    switch (selectedLogType) {\n      case 'symptom':\n        if (symptomStep < 3) {\n          // If not on final step, continue to next step\n          handleNextStep();\n          return;\n        }\n        \n        // Validate symptom form\n        if (!validateSymptomForm()) {\n          showToast('error', 'Please fix the errors before saving');\n          return;\n        }\n        \n        const symptomData = {\n          type: 'symptom',\n          symptomType: selectedSymptomType,\n          coreFields,\n          typeSpecificFields,\n          timestamp: new Date().toISOString()\n        };\n        \n        onSave(symptomData);\n        showToast('success', 'Symptom saved. You can find it in Journal.');\n        \n        // Reset symptom form\n        setSymptomStep(1);\n        setSelectedSymptomType('');\n        setCoreFields({\n          startTime: new Date().toISOString().slice(0, 16),\n          duration: '',\n          isOngoing: false,\n          severity: 3,\n          contextTags: [],\n          notes: ''\n        });\n        setTypeSpecificFields({});\n        break;\n      case 'nutrition':\n        if (nutritionStep < 2) {\n          // If not on final step, continue to next step\n          handleNutritionNextStep();\n          return;\n        }\n        \n        // Validate nutrition form\n        if (!validateNutritionForm()) {\n          showToast('error', 'Please fix the errors before saving');\n          return;\n        }\n        \n        const nutritionData = {\n          type: 'nutrition',\n          intakeType: selectedIntakeType,\n          time: nutritionIntakeForm.time,\n          notes: nutritionIntakeForm.notes,\n          typeSpecificFields: nutritionTypeFields,\n          timestamp: new Date().toISOString()\n        };\n        \n        onSave(nutritionData);\n        showToast('success', 'Nutrition entry saved. You can find it in Journal.');\n        \n        // Reset nutrition form\n        setNutritionStep(1);\n        setSelectedIntakeType('');\n        setNutritionIntakeForm({\n          time: new Date().toISOString().slice(0, 16),\n          notes: ''\n        });\n        setNutritionTypeFields({});\n        break;\n      case 'medication':\n        // Validate medication form\n        if (!validateMedicationForm()) {\n          showToast('error', 'Please fix the errors before saving');\n          return;\n        }\n        \n        if (medicationAction === 'record') {\n          const doseData = {\n            type: 'medication_dose',\n            ...recordDoseForm,\n            timestamp: new Date().toISOString()\n          };\n          \n          onSave(doseData);\n          showToast('success', 'Dose recorded.');\n          \n          // Reset form\n          setRecordDoseForm({\n            medicationName: '',\n            doseTaken: '',\n            scheduledWindow: '',\n            actualTime: new Date().toISOString().slice(0, 16),\n            lotBottle: 'Current bottle',\n            notes: ''\n          });\n        } else {\n          const medicationData = {\n            type: 'medication_add',\n            ...addMedicationForm,\n            timestamp: new Date().toISOString()\n          };\n          \n          onSave(medicationData);\n          showToast('success', 'Medication added. You can now record doses.');\n          \n          // Reset form\n          setAddMedicationForm({\n            name: '',\n            form: '',\n            strength: '',\n            directions: '',\n            scheduleWindows: [],\n            pharmacy: ''\n          });\n        }\n        break;\n    }\n  };\n\n  const handleSaveAndAddAnother = () => {\n    handleSave();\n    // Form will be reset after save, so we can stay on the same form\n  };\n\n  // Check if there are unsaved changes\n  const hasUnsavedChanges = () => {\n    switch (selectedLogType) {\n      case 'symptom':\n        return selectedSymptomType !== '' || \n               coreFields.notes !== '' || \n               coreFields.contextTags.length > 0 ||\n               Object.keys(typeSpecificFields).length > 0;\n      case 'nutrition':\n        return selectedIntakeType !== '' || \n               nutritionIntakeForm.notes !== '' ||\n               Object.keys(nutritionTypeFields).length > 0;\n      case 'medication':\n        return medicationAction === 'record' ? \n               (recordDoseForm.medicationName !== '' || recordDoseForm.doseTaken !== '' || recordDoseForm.notes !== '') :\n               (addMedicationForm.name !== '' || addMedicationForm.strength !== '' || addMedicationForm.directions !== '');\n      default:\n        return false;\n    }\n  };\n\n  const handleCancelClick = () => {\n    if (hasUnsavedChanges()) {\n      setShowCancelConfirmModal(true);\n    } else {\n      onCancel();\n    }\n  };\n\n  // Symptom type data\n  const symptomTypes = [\n    { id: 'seizure', name: 'Seizure', icon: '⚡', color: 'bg-purple-500' },\n    { id: 'sleep', name: 'Sleep', icon: '😴', color: 'bg-blue-500' },\n    { id: 'gi', name: 'GI', icon: '🤢', color: 'bg-orange-500' },\n    { id: 'pain', name: 'Pain/Discomfort', icon: '😣', color: 'bg-red-500' },\n    { id: 'sensory', name: 'Sensory/Autonomic', icon: '🌡️', color: 'bg-yellow-500' },\n    { id: 'respiratory', name: 'Respiratory/ENT', icon: '🫁', color: 'bg-cyan-500' },\n    { id: 'behavior', name: 'Behavior Episode', icon: '😤', color: 'bg-pink-500' },\n    { id: 'motor', name: 'Motor', icon: '🏃', color: 'bg-green-500' }\n  ];\n\n  // Context tags\n  const contextTags = [\n    'therapy day', 'illness', 'travel', 'loud environment', 'school day', 'menses'\n  ];\n\n  // Nutrition intake types\n  const intakeTypes = [\n    { id: 'meal', name: 'Meal/Snack', icon: '🍽️', color: 'bg-orange-500' },\n    { id: 'drink', name: 'Drink', icon: '🥤', color: 'bg-blue-500' },\n    { id: 'enteral', name: 'Enteral Feed', icon: '💉', color: 'bg-purple-500' },\n    { id: 'supplement', name: 'Supplement', icon: '💊', color: 'bg-green-500' }\n  ];\n\n  // Food suggestions for autocomplete\n  const foodSuggestions = [\n    'Apple', 'Banana', 'Chicken', 'Rice', 'Broccoli', 'Carrots', 'Yogurt', 'Cheese',\n    'Bread', 'Pasta', 'Fish', 'Beef', 'Pork', 'Eggs', 'Milk', 'Juice', 'Water',\n    'Crackers', 'Cereal', 'Oatmeal', 'Soup', 'Salad', 'Pizza', 'Hamburger'\n  ];\n\n  // Beverage options\n  const beverageOptions = [\n    'Water', 'Milk', 'Juice', 'Formula', 'Other'\n  ];\n\n  // Texture options\n  const textureOptions = [\n    'Puree', 'Soft', 'Regular'\n  ];\n\n  // Setting options\n  const settingOptions = [\n    'Home', 'School', 'Therapy'\n  ];\n\n  // Supplement forms\n  const supplementForms = [\n    'Liquid', 'Tablet', 'Chewable', 'Powder'\n  ];\n\n  // Medication forms\n  const medicationForms = [\n    'Tablet', 'Liquid', 'Inhaler', 'Patch', 'Topical', 'Other'\n  ];\n\n  // Schedule windows\n  const scheduleWindows = ['AM', 'Noon', 'PM', 'HS'];\n\n  // Lot/bottle options\n  const lotBottleOptions = [\n    'Current bottle',\n    'New bottle opened',\n    'Lot #12345',\n    'Lot #67890'\n  ];\n\n  // Log type tiles\n  const logTypes = [\n    {\n      id: 'symptom',\n      title: 'Symptom',\n      icon: <SymptomIcon />,\n      color: 'bg-gradient-to-br from-red-500 to-pink-500',\n      description: 'Log symptoms and severity'\n    },\n    {\n      id: 'nutrition',\n      title: 'Nutrition',\n      icon: <NutritionIcon />,\n      color: 'bg-gradient-to-br from-green-500 to-emerald-500',\n      description: 'Track meals and food intake'\n    },\n    {\n      id: 'medication',\n      title: 'Medication',\n      icon: <MedicationIcon />,\n      color: 'bg-gradient-to-br from-blue-500 to-indigo-500',\n      description: 'Record medication taken'\n    }\n  ];\n\n  // Render form based on selected type\n  const renderForm = () => {\n    switch (selectedLogType) {\n      case 'symptom':\n        return (\n          <div className=\"space-y-6\">\n            {/* Step Indicator */}\n            <div className=\"flex items-center justify-center space-x-4 mb-6\">\n              {[1, 2, 3].map((step) => (\n                <div key={step} className=\"flex items-center\">\n                  <div className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${\n                    symptomStep >= step \n                      ? 'bg-indigo-600 text-white' \n                      : 'bg-gray-200 text-gray-600'\n                  }`}>\n                    {step}\n                  </div>\n                  {step < 3 && (\n                    <div className={`w-12 h-0.5 mx-2 ${\n                      symptomStep > step ? 'bg-indigo-600' : 'bg-gray-200'\n                    }`} />\n                  )}\n                </div>\n              ))}\n            </div>\n\n            {/* Step 1: Choose Symptom Type */}\n            {symptomStep === 1 && (\n              <div className=\"space-y-6\">\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-lg font-semibold text-gray-900\">Choose Symptom Type</h3>\n                  <button\n                    onClick={() => setShowManageModal(true)}\n                    className=\"text-sm text-indigo-600 hover:text-indigo-700 font-medium\"\n                  >\n                    Manage\n                  </button>\n                </div>\n\n                {/* Pinned Types */}\n                {pinnedSymptomTypes.length > 0 && (\n                  <div>\n                    <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Pinned</h4>\n                    <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-6\">\n                      {pinnedSymptomTypes.map((typeId) => {\n                        const type = symptomTypes.find(t => t.id === typeId);\n                        if (!type) return null;\n                        return (\n                          <button\n                            key={type.id}\n                            onClick={() => handleSymptomTypeSelect(type.id)}\n                            className=\"p-4 border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n                          >\n                            <div className=\"text-center\">\n                              <div className=\"text-2xl mb-2\">{type.icon}</div>\n                              <div className=\"text-sm font-medium text-gray-900\">{type.name}</div>\n                            </div>\n                          </button>\n                        );\n                      })}\n                    </div>\n                  </div>\n                )}\n\n                {/* All Types */}\n                <div>\n                  <h4 className=\"text-sm font-medium text-gray-700 mb-3\">\n                    {pinnedSymptomTypes.length > 0 ? 'All Types' : ''}\n                  </h4>\n                  {getValidationError('symptomType') && (\n                    <div className=\"text-red-600 text-sm mb-3\">{getValidationError('symptomType')}</div>\n                  )}\n                  <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3\">\n                    {symptomTypes.map((type) => (\n                      <button\n                        key={type.id}\n                        onClick={() => handleSymptomTypeSelect(type.id)}\n                        className=\"p-4 border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n                      >\n                        <div className=\"text-center\">\n                          <div className=\"text-2xl mb-2\">{type.icon}</div>\n                          <div className=\"text-sm font-medium text-gray-900\">{type.name}</div>\n                        </div>\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Step 2: Core Fields */}\n            {symptomStep === 2 && (\n              <div className=\"space-y-6\">\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-lg font-semibold text-gray-900\">Core Information</h3>\n                  <button\n                    onClick={handlePrevStep}\n                    className=\"text-sm text-gray-600 hover:text-gray-800\"\n                  >\n                    ← Back\n                  </button>\n                </div>\n\n                {/* Start Time */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Start Time <span className=\"text-red-500\">*</span>\n                  </label>\n                  {getValidationError('startTime') && (\n                    <div className=\"text-red-600 text-sm mb-2\">{getValidationError('startTime')}</div>\n                  )}\n                  <div className=\"flex space-x-3\">\n                    <button\n                      onClick={() => setCoreFields({...coreFields, startTime: new Date().toISOString().slice(0, 16)})}\n                      className={`px-4 py-2 rounded-lg border-2 transition-colors ${\n                        coreFields.startTime === new Date().toISOString().slice(0, 16)\n                          ? 'border-indigo-500 bg-indigo-50 text-indigo-700'\n                          : 'border-gray-300 text-gray-700 hover:border-gray-400'\n                      }`}\n                    >\n                      Now\n                    </button>\n                    <input\n                      type=\"datetime-local\"\n                      value={coreFields.startTime}\n                      onChange={(e) => setCoreFields({...coreFields, startTime: e.target.value})}\n                      className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                    />\n                  </div>\n                </div>\n\n                {/* Duration */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Duration <span className=\"text-red-500\">*</span>\n                  </label>\n                  {getValidationError('duration') && (\n                    <div className=\"text-red-600 text-sm mb-2\">{getValidationError('duration')}</div>\n                  )}\n                  <div className=\"flex items-center space-x-3\">\n                    <input\n                      type=\"number\"\n                      value={coreFields.duration}\n                      onChange={(e) => setCoreFields({...coreFields, duration: e.target.value})}\n                      disabled={coreFields.isOngoing}\n                      className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-gray-100\"\n                      placeholder=\"Minutes\"\n                    />\n                    <label className=\"flex items-center\">\n                      <input\n                        type=\"checkbox\"\n                        checked={coreFields.isOngoing}\n                        onChange={(e) => setCoreFields({...coreFields, isOngoing: e.target.checked})}\n                        className=\"mr-2\"\n                      />\n                      <span className=\"text-sm text-gray-700\">Ongoing</span>\n                    </label>\n                  </div>\n                </div>\n\n                {/* Severity */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Severity: {coreFields.severity}/5 <span className=\"text-red-500\">*</span>\n                  </label>\n                  {getValidationError('severity') && (\n                    <div className=\"text-red-600 text-sm mb-2\">{getValidationError('severity')}</div>\n                  )}\n                  <input\n                    type=\"range\"\n                    min=\"0\"\n                    max=\"5\"\n                    value={coreFields.severity}\n                    onChange={(e) => setCoreFields({...coreFields, severity: parseInt(e.target.value)})}\n                    className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider\"\n                  />\n                  <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\n                    <span>None</span>\n                    <span>Severe</span>\n                  </div>\n                </div>\n\n                {/* Context Tags */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Context (optional)\n                  </label>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {contextTags.map((tag) => (\n                      <button\n                        key={tag}\n                        onClick={() => {\n                          const newTags = coreFields.contextTags.includes(tag)\n                            ? coreFields.contextTags.filter(t => t !== tag)\n                            : [...coreFields.contextTags, tag];\n                          setCoreFields({...coreFields, contextTags: newTags});\n                        }}\n                        className={`px-3 py-1 rounded-full text-sm transition-colors ${\n                          coreFields.contextTags.includes(tag)\n                            ? 'bg-indigo-100 text-indigo-700 border border-indigo-300'\n                            : 'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'\n                        }`}\n                      >\n                        {tag}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Notes */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Notes (optional)\n                  </label>\n                  <textarea\n                    value={coreFields.notes}\n                    onChange={(e) => setCoreFields({...coreFields, notes: e.target.value})}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                    placeholder=\"Describe what you're experiencing...\"\n                    rows={3}\n                    maxLength={300}\n                  />\n                  <div className=\"text-xs text-gray-500 mt-1 text-right\">\n                    {coreFields.notes.length}/300\n                  </div>\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3\">\n                  <button\n                    onClick={handleNextStep}\n                    className=\"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                  >\n                    Continue\n                  </button>\n                  <button\n                    onClick={handleCancelClick}\n                    className=\"px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* Step 3: Type-specific Fields */}\n            {symptomStep === 3 && (\n              <div className=\"space-y-6\">\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-lg font-semibold text-gray-900\">\n                    {symptomTypes.find(t => t.id === selectedSymptomType)?.name} Details\n                  </h3>\n                  <button\n                    onClick={handlePrevStep}\n                    className=\"text-sm text-gray-600 hover:text-gray-800\"\n                  >\n                    ← Back\n                  </button>\n                </div>\n\n                {/* Render type-specific fields based on selectedSymptomType */}\n                {renderTypeSpecificFields()}\n\n                {/* Action Buttons */}\n                <div className=\"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3\">\n                  <button\n                    onClick={handleSave}\n                    className=\"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                  >\n                    Save\n                  </button>\n                  <button\n                    onClick={handleSaveAndAddAnother}\n                    className=\"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\n                  >\n                    Save & add another\n                  </button>\n                  <button\n                    onClick={handleCancelClick}\n                    className=\"px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* Safety Strip */}\n            <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\">\n              <div className=\"flex items-start\">\n                <div className=\"flex-shrink-0\">\n                  <svg className=\"w-5 h-5 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\" />\n                  </svg>\n                </div>\n                <div className=\"ml-3\">\n                  <p className=\"text-sm text-yellow-800\">\n                    If you're concerned about safety, contact your clinician or local emergency services.\n                  </p>\n                  <button\n                    onClick={() => setShowEmergencyModal(true)}\n                    className=\"text-sm text-yellow-800 underline hover:text-yellow-900 mt-1\"\n                  >\n                    View emergency info\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n\n             case 'nutrition':\n         return (\n           <div className=\"space-y-6\">\n             {/* Step Indicator */}\n             <div className=\"flex items-center justify-center space-x-4 mb-6\">\n               {[1, 2].map((step) => (\n                 <div key={step} className=\"flex items-center\">\n                   <div className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${\n                     nutritionStep >= step \n                       ? 'bg-indigo-600 text-white' \n                       : 'bg-gray-200 text-gray-600'\n                   }`}>\n                     {step}\n                   </div>\n                   {step < 2 && (\n                     <div className={`w-12 h-0.5 mx-2 ${\n                       nutritionStep > step ? 'bg-indigo-600' : 'bg-gray-200'\n                     }`} />\n                   )}\n                 </div>\n               ))}\n             </div>\n\n             {/* Step 1: Choose Intake Type */}\n             {nutritionStep === 1 && (\n               <div className=\"space-y-6\">\n                 <h3 className=\"text-lg font-semibold text-gray-900\">Choose Intake Type</h3>\n                 <div className=\"grid grid-cols-2 gap-4\">\n                   {intakeTypes.map((type) => (\n                     <button\n                       key={type.id}\n                       onClick={() => handleIntakeTypeSelect(type.id)}\n                       className=\"p-6 border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n                     >\n                       <div className=\"text-center\">\n                         <div className=\"text-3xl mb-3\">{type.icon}</div>\n                         <div className=\"text-sm font-medium text-gray-900\">{type.name}</div>\n                       </div>\n                     </button>\n                   ))}\n                 </div>\n               </div>\n             )}\n\n             {/* Step 2: Intake Fields */}\n             {nutritionStep === 2 && (\n               <div className=\"space-y-6\">\n                 <div className=\"flex items-center justify-between\">\n                   <h3 className=\"text-lg font-semibold text-gray-900\">\n                     {intakeTypes.find(t => t.id === selectedIntakeType)?.name} Details\n                   </h3>\n                   <button\n                     onClick={handleNutritionPrevStep}\n                     className=\"text-sm text-gray-600 hover:text-gray-800\"\n                   >\n                     ← Back\n                   </button>\n                 </div>\n\n                 {/* Render type-specific fields */}\n                 {renderNutritionTypeFields()}\n\n                 {/* Common Fields */}\n                 <div>\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     Time\n                   </label>\n                   <div className=\"flex space-x-3\">\n                     <button\n                       onClick={() => setNutritionIntakeForm({...nutritionIntakeForm, time: new Date().toISOString().slice(0, 16)})}\n                       className={`px-4 py-2 rounded-lg border-2 transition-colors ${\n                         nutritionIntakeForm.time === new Date().toISOString().slice(0, 16)\n                           ? 'border-indigo-500 bg-indigo-50 text-indigo-700'\n                           : 'border-gray-300 text-gray-700 hover:border-gray-400'\n                       }`}\n                     >\n                       Now\n                     </button>\n                     <input\n                       type=\"datetime-local\"\n                       value={nutritionIntakeForm.time}\n                       onChange={(e) => setNutritionIntakeForm({...nutritionIntakeForm, time: e.target.value})}\n                       className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                     />\n                   </div>\n                 </div>\n\n                 <div>\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     Notes (optional)\n                   </label>\n                   <textarea\n                     value={nutritionIntakeForm.notes}\n                     onChange={(e) => setNutritionIntakeForm({...nutritionIntakeForm, notes: e.target.value})}\n                     className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                     placeholder=\"Logistics only (no symptoms)...\"\n                     rows={3}\n                   />\n                 </div>\n\n                 {/* Placeholder Features */}\n                 <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n                   <div className=\"flex items-center justify-between\">\n                     <div className=\"flex items-center space-x-4\">\n                       <button\n                         className=\"flex items-center space-x-2 px-3 py-2 text-gray-500 hover:text-gray-700 transition-colors\"\n                         title=\"Scan barcode coming soon\"\n                       >\n                         <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                           <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z\" />\n                         </svg>\n                         <span className=\"text-sm\">Scan barcode</span>\n                       </button>\n                       <button\n                         className=\"flex items-center space-x-2 px-3 py-2 text-gray-500 hover:text-gray-700 transition-colors\"\n                         title=\"Photo plate recognition coming soon\"\n                       >\n                         <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                           <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\" />\n                           <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\" />\n                         </svg>\n                         <span className=\"text-sm\">Photo recognition</span>\n                       </button>\n                     </div>\n                     <div className=\"text-xs text-gray-500\">\n                       Coming soon\n                     </div>\n                   </div>\n                 </div>\n               </div>\n             )}\n           </div>\n         );\n\n             case 'medication':\n         return (\n           <div className=\"space-y-6\">\n             {/* Action Selection */}\n             <div>\n               <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                 Choose Action\n               </label>\n               <div className=\"grid grid-cols-2 gap-4\">\n                 <button\n                   onClick={() => handleMedicationActionSelect('record')}\n                   className={`p-4 border-2 rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500 ${\n                     medicationAction === 'record'\n                       ? 'border-indigo-500 bg-indigo-50 text-indigo-700'\n                       : 'border-gray-300 text-gray-700 hover:border-gray-400'\n                   }`}\n                 >\n                   <div className=\"text-center\">\n                     <div className=\"text-2xl mb-2\">💊</div>\n                     <div className=\"font-medium\">Record a dose</div>\n                   </div>\n                 </button>\n                 <button\n                   onClick={() => handleMedicationActionSelect('add')}\n                   className={`p-4 border-2 rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500 ${\n                     medicationAction === 'add'\n                       ? 'border-indigo-500 bg-indigo-50 text-indigo-700'\n                       : 'border-gray-300 text-gray-700 hover:border-gray-400'\n                   }`}\n                 >\n                   <div className=\"text-center\">\n                     <div className=\"text-2xl mb-2\">➕</div>\n                     <div className=\"font-medium\">Add new medication</div>\n                   </div>\n                 </button>\n               </div>\n             </div>\n\n             {/* Record Dose Form */}\n             {medicationAction === 'record' && (\n               <div className=\"space-y-6\">\n                 <div>\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     Medication Name <span className=\"text-red-500\">*</span>\n                   </label>\n                   <div className=\"relative\">\n                     <input\n                       type=\"text\"\n                       value={recordDoseForm.medicationName}\n                       onChange={(e) => setRecordDoseForm({...recordDoseForm, medicationName: e.target.value})}\n                       className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${\n                         errors.medicationName ? 'border-red-300' : 'border-gray-300'\n                       }`}\n                       placeholder=\"Search medications...\"\n                     />\n                     {recordDoseForm.medicationName && (\n                       <div className=\"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-lg shadow-lg z-10 max-h-48 overflow-y-auto\">\n                         {medications\n                           .filter(med => med.name.toLowerCase().includes(recordDoseForm.medicationName.toLowerCase()))\n                           .map((med) => (\n                             <button\n                               key={med.name}\n                               onClick={() => setRecordDoseForm({...recordDoseForm, medicationName: med.name})}\n                               className=\"w-full px-4 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none\"\n                             >\n                               <div className=\"font-medium\">{med.name}</div>\n                               <div className=\"text-sm text-gray-600\">{med.strength} {med.form}</div>\n                             </button>\n                           ))}\n                         <button\n                           onClick={() => handleMedicationActionSelect('add')}\n                           className=\"w-full px-4 py-2 text-left text-indigo-600 hover:bg-indigo-50 focus:bg-indigo-50 focus:outline-none font-medium\"\n                         >\n                           + Add new medication\n                         </button>\n                       </div>\n                     )}\n                   </div>\n                   {errors.medicationName && (\n                     <p className=\"mt-1 text-sm text-red-600\">{errors.medicationName}</p>\n                   )}\n                 </div>\n\n                 <div>\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     Dose Taken <span className=\"text-red-500\">*</span>\n                   </label>\n                   <input\n                     type=\"text\"\n                     value={recordDoseForm.doseTaken}\n                     onChange={(e) => setRecordDoseForm({...recordDoseForm, doseTaken: e.target.value})}\n                     className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${\n                       errors.doseTaken ? 'border-red-300' : 'border-gray-300'\n                     }`}\n                     placeholder=\"e.g., 1 tablet, 5 mL, 2 puffs\"\n                   />\n                   {errors.doseTaken && (\n                     <p className=\"mt-1 text-sm text-red-600\">{errors.doseTaken}</p>\n                   )}\n                 </div>\n\n                 <div>\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     Scheduled Window\n                   </label>\n                   <select\n                     value={recordDoseForm.scheduledWindow}\n                     onChange={(e) => setRecordDoseForm({...recordDoseForm, scheduledWindow: e.target.value})}\n                     className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                   >\n                     <option value=\"\">Select window</option>\n                     {scheduleWindows.map((window) => (\n                       <option key={window} value={window}>{window}</option>\n                     ))}\n                   </select>\n                 </div>\n\n                 <div>\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     Actual Time\n                   </label>\n                   <div className=\"flex space-x-3\">\n                     <button\n                       onClick={() => setRecordDoseForm({...recordDoseForm, actualTime: new Date().toISOString().slice(0, 16)})}\n                       className={`px-4 py-2 rounded-lg border-2 transition-colors ${\n                         recordDoseForm.actualTime === new Date().toISOString().slice(0, 16)\n                           ? 'border-indigo-500 bg-indigo-50 text-indigo-700'\n                           : 'border-gray-300 text-gray-700 hover:border-gray-400'\n                       }`}\n                     >\n                       Now\n                     </button>\n                     <input\n                       type=\"datetime-local\"\n                       value={recordDoseForm.actualTime}\n                       onChange={(e) => setRecordDoseForm({...recordDoseForm, actualTime: e.target.value})}\n                       className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                     />\n                   </div>\n                 </div>\n\n                 <div>\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     Lot/Bottle (optional)\n                   </label>\n                   <select\n                     value={recordDoseForm.lotBottle}\n                     onChange={(e) => setRecordDoseForm({...recordDoseForm, lotBottle: e.target.value})}\n                     className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                   >\n                     {lotBottleOptions.map((option) => (\n                       <option key={option} value={option}>{option}</option>\n                     ))}\n                   </select>\n                 </div>\n\n                 <div>\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     Notes (optional)\n                   </label>\n                   <textarea\n                     value={recordDoseForm.notes}\n                     onChange={(e) => setRecordDoseForm({...recordDoseForm, notes: e.target.value})}\n                     className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                     placeholder=\"Logistics only (e.g., 'new bottle opened')...\"\n                     rows={2}\n                   />\n                 </div>\n\n                 {/* Placeholder Features */}\n                 <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n                   <div className=\"flex items-center justify-between\">\n                     <div className=\"flex items-center space-x-4\">\n                       <button\n                         className=\"flex items-center space-x-2 px-3 py-2 text-gray-500 hover:text-gray-700 transition-colors\"\n                         title=\"Scan label to auto-fill coming soon\"\n                       >\n                         <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                           <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z\" />\n                         </svg>\n                         <span className=\"text-sm\">Scan label</span>\n                       </button>\n                       <button\n                         className=\"flex items-center space-x-2 px-3 py-2 text-gray-500 hover:text-gray-700 transition-colors\"\n                         title=\"AR syringe guide coming soon\"\n                       >\n                         <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                           <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                         </svg>\n                         <span className=\"text-sm\">AR syringe guide</span>\n                       </button>\n                     </div>\n                     <div className=\"text-xs text-gray-500\">\n                       Coming soon\n                     </div>\n                   </div>\n                 </div>\n               </div>\n             )}\n\n             {/* Add Medication Form */}\n             {medicationAction === 'add' && (\n               <div className=\"space-y-6\">\n                 <div>\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     Name (brand/generic) <span className=\"text-red-500\">*</span>\n                   </label>\n                   <input\n                     type=\"text\"\n                     value={addMedicationForm.name}\n                     onChange={(e) => setAddMedicationForm({...addMedicationForm, name: e.target.value})}\n                     className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${\n                       errors.name ? 'border-red-300' : 'border-gray-300'\n                     }`}\n                     placeholder=\"e.g., Tylenol, Acetaminophen\"\n                   />\n                   {errors.name && (\n                     <p className=\"mt-1 text-sm text-red-600\">{errors.name}</p>\n                   )}\n                 </div>\n\n                 <div>\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     Form <span className=\"text-red-500\">*</span>\n                   </label>\n                   <select\n                     value={addMedicationForm.form}\n                     onChange={(e) => setAddMedicationForm({...addMedicationForm, form: e.target.value})}\n                     className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${\n                       errors.form ? 'border-red-300' : 'border-gray-300'\n                     }`}\n                   >\n                     <option value=\"\">Select form</option>\n                     {medicationForms.map((form) => (\n                       <option key={form} value={form.toLowerCase()}>{form}</option>\n                     ))}\n                   </select>\n                   {errors.form && (\n                     <p className=\"mt-1 text-sm text-red-600\">{errors.form}</p>\n                   )}\n                 </div>\n\n                 <div>\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     Strength <span className=\"text-red-500\">*</span>\n                   </label>\n                   <input\n                     type=\"text\"\n                     value={addMedicationForm.strength}\n                     onChange={(e) => setAddMedicationForm({...addMedicationForm, strength: e.target.value})}\n                     className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${\n                       errors.strength ? 'border-red-300' : 'border-gray-300'\n                     }`}\n                     placeholder=\"e.g., 5 mg or 125 mg/5 mL\"\n                   />\n                   {errors.strength && (\n                     <p className=\"mt-1 text-sm text-red-600\">{errors.strength}</p>\n                   )}\n                 </div>\n\n                 <div>\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     Directions (SIG)\n                   </label>\n                   <input\n                     type=\"text\"\n                     value={addMedicationForm.directions}\n                     onChange={(e) => setAddMedicationForm({...addMedicationForm, directions: e.target.value})}\n                     className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                     placeholder=\"e.g., 5 mL twice daily\"\n                   />\n                 </div>\n\n                 <div>\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     Schedule Windows\n                   </label>\n                   <div className=\"flex flex-wrap gap-2\">\n                     {scheduleWindows.map((window) => (\n                       <button\n                         key={window}\n                         onClick={() => handleScheduleWindowToggle(window)}\n                         className={`px-3 py-1 rounded-full text-sm transition-colors ${\n                           addMedicationForm.scheduleWindows.includes(window)\n                             ? 'bg-indigo-100 text-indigo-700 border border-indigo-300'\n                             : 'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'\n                         }`}\n                       >\n                         {window}\n                       </button>\n                     ))}\n                   </div>\n                 </div>\n\n                 <div>\n                   <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                     Pharmacy (optional)\n                   </label>\n                   <input\n                     type=\"text\"\n                     value={addMedicationForm.pharmacy}\n                     onChange={(e) => setAddMedicationForm({...addMedicationForm, pharmacy: e.target.value})}\n                     className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                     placeholder=\"Pharmacy name\"\n                   />\n                 </div>\n               </div>\n             )}\n           </div>\n         );\n\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Log Type Selection Tiles */}\n      <div className=\"bg-white border-b border-gray-200 px-4 py-6\">\n        <div className=\"max-w-4xl mx-auto\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">What would you like to log?</h2>\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n            {logTypes.map((logType) => (\n              <button\n                key={logType.id}\n                onClick={() => handleLogTypeChange(logType.id as 'symptom' | 'nutrition' | 'medication')}\n                className={`p-6 rounded-xl border-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${\n                  selectedLogType === logType.id\n                    ? 'border-indigo-500 bg-indigo-50 shadow-md'\n                    : 'border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm'\n                }`}\n              >\n                <div className=\"text-center\">\n                  <div className={`inline-flex p-3 rounded-lg ${logType.color} text-white mb-3`}>\n                    {logType.icon}\n                  </div>\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">{logType.title}</h3>\n                  <p className=\"text-sm text-gray-600\">{logType.description}</p>\n                </div>\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* AI and Media Capture Tools */}\n      <div className=\"bg-white border-b border-gray-200 px-4 py-4\">\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <button\n                onClick={() => {\n                  showToast('info', 'AI features coming soon! Enable in Settings when available.');\n                  setShowAIModal(true);\n                }}\n                className=\"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n              >\n                <AIIcon />\n                <span>Use AI to fill fields</span>\n              </button>\n            </div>\n            \n            <div className=\"flex items-center space-x-2\">\n              <button\n                className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 relative group\"\n                title=\"Media capture coming soon\"\n              >\n                <CameraIcon />\n                <div className=\"absolute bottom-full right-0 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10\">\n                  Media capture coming soon\n                  <div className=\"absolute top-full right-2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"></div>\n                </div>\n              </button>\n              <button\n                className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 relative group\"\n                title=\"Media capture coming soon\"\n              >\n                <MicrophoneIcon />\n                <div className=\"absolute bottom-full right-0 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10\">\n                  Media capture coming soon\n                  <div className=\"absolute top-full right-2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"></div>\n                </div>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Form Content */}\n      <div className=\"px-4 py-6\">\n        <div className=\"max-w-2xl mx-auto\">\n          {renderForm()}\n        </div>\n      </div>\n\n                    {/* Footer Actions - Only show for non-symptom forms or when on final step */}\n        {((selectedLogType === 'symptom' && symptomStep === 3) || \n          (selectedLogType === 'nutrition' && nutritionStep === 2) || \n          (selectedLogType === 'medication')) && (\n         <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-4\">\n           <div className=\"max-w-2xl mx-auto\">\n             <div className=\"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3\">\n               <button\n                 onClick={handleSave}\n                 className=\"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n               >\n                 Save\n               </button>\n               <button\n                 onClick={handleSaveAndAddAnother}\n                 className=\"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\n               >\n                 Save & add another\n               </button>\n               <button\n                 onClick={handleCancelClick}\n                 className=\"px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\n               >\n                 Cancel\n               </button>\n             </div>\n           </div>\n         </div>\n       )}\n\n      {/* AI Modal */}\n      {/* AI Modal */}\n      <AIFillFieldsModal \n        isOpen={showAIModal}\n        onClose={() => setShowAIModal(false)}\n      />\n\n             {/* Manage Modal */}\n       {showManageModal && (\n         <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n           <div className=\"bg-white rounded-xl shadow-xl max-w-md w-full\">\n             <div className=\"p-6\">\n               <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Manage Pinned Types</h3>\n               <p className=\"text-sm text-gray-600 mb-6\">\n                 Pin your most-used symptom types for quick access (max 5).\n               </p>\n               \n               <div className=\"space-y-3\">\n                 {symptomTypes.map((type) => (\n                   <label key={type.id} className=\"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50\">\n                     <div className=\"flex items-center\">\n                       <span className=\"text-xl mr-3\">{type.icon}</span>\n                       <span className=\"text-sm font-medium text-gray-900\">{type.name}</span>\n                     </div>\n                     <input\n                       type=\"checkbox\"\n                       checked={pinnedSymptomTypes.includes(type.id)}\n                       onChange={() => handlePinSymptomType(type.id)}\n                       className=\"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500\"\n                     />\n                   </label>\n                 ))}\n               </div>\n               \n               <div className=\"flex justify-end mt-6\">\n                 <button\n                   onClick={() => setShowManageModal(false)}\n                   className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                 >\n                   Done\n                 </button>\n               </div>\n             </div>\n           </div>\n         </div>\n       )}\n\n       {/* Emergency Modal */}\n       {showEmergencyModal && (\n         <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n           <div className=\"bg-white rounded-xl shadow-xl max-w-md w-full\">\n             <div className=\"p-6\">\n               <div className=\"flex items-center mb-4\">\n                 <div className=\"flex-shrink-0\">\n                   <svg className=\"w-6 h-6 text-red-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                     <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\" />\n                   </svg>\n                 </div>\n                 <h3 className=\"ml-3 text-lg font-semibold text-gray-900\">Emergency Information</h3>\n               </div>\n               \n               <div className=\"space-y-4\">\n                 <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n                   <h4 className=\"font-medium text-red-800 mb-2\">Emergency Services</h4>\n                   <p className=\"text-sm text-red-700 mb-2\">Call 911 immediately if you need emergency medical assistance.</p>\n                   <p className=\"text-sm text-red-700\">For non-emergency concerns, contact your healthcare provider.</p>\n                 </div>\n                 \n                 <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                   <h4 className=\"font-medium text-blue-800 mb-2\">Your Care Team</h4>\n                   <p className=\"text-sm text-blue-700 mb-2\">Primary Care: Dr. Smith - (555) 123-4567</p>\n                   <p className=\"text-sm text-blue-700\">Specialist: Dr. Johnson - (555) 987-6543</p>\n                 </div>\n                 \n                 <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n                   <h4 className=\"font-medium text-green-800 mb-2\">24/7 Nurse Line</h4>\n                   <p className=\"text-sm text-green-700\">Available for medical advice: (555) 456-7890</p>\n                 </div>\n               </div>\n               \n               <div className=\"flex justify-end mt-6\">\n                 <button\n                   onClick={() => setShowEmergencyModal(false)}\n                   className=\"px-4 py-2 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\n                 >\n                   Close\n                 </button>\n               </div>\n             </div>\n           </div>\n         </div>\n       )}\n\n       {/* Cancel Confirmation Modal */}\n       {showCancelConfirmModal && (\n         <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n           <div className=\"bg-white rounded-xl shadow-xl max-w-md w-full\">\n             <div className=\"p-6\">\n               <div className=\"flex items-center mb-4\">\n                 <div className=\"flex-shrink-0\">\n                   <svg className=\"w-6 h-6 text-yellow-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                     <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\" />\n                   </svg>\n                 </div>\n                 <h3 className=\"ml-3 text-lg font-semibold text-gray-900\">Unsaved Changes</h3>\n               </div>\n               \n               <p className=\"text-sm text-gray-600 mb-6\">\n                 You have unsaved changes. Are you sure you want to cancel? Your progress will be lost.\n               </p>\n               \n               <div className=\"flex justify-end space-x-3\">\n                 <button\n                   onClick={() => setShowCancelConfirmModal(false)}\n                   className=\"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\n                 >\n                   Continue Editing\n                 </button>\n                 <button\n                   onClick={() => {\n                     setShowCancelConfirmModal(false);\n                     onCancel();\n                   }}\n                   className=\"px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2\"\n                 >\n                   Cancel Anyway\n                 </button>\n               </div>\n             </div>\n           </div>\n         </div>\n       )}\n\n               {/* Barcode Modal */}\n        {showBarcodeModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-xl shadow-xl max-w-md w-full\">\n              <div className=\"p-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Scan Barcode</h3>\n                <p className=\"text-sm text-gray-600 mb-6\">\n                  Point your camera at a food product barcode to automatically fill nutrition information.\n                </p>\n                \n                <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\">\n                  <div className=\"flex items-start\">\n                    <div className=\"flex-shrink-0\">\n                      <svg className=\"w-5 h-5 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\" />\n                      </svg>\n                    </div>\n                    <div className=\"ml-3\">\n                      <p className=\"text-sm text-yellow-800\">\n                        <strong>Coming soon!</strong> This feature will be available in a future update.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"flex justify-end space-x-3\">\n                  <button\n                    onClick={() => setShowBarcodeModal(false)}\n                    className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                  >\n                    Got it\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Photo Modal */}\n        {showPhotoModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-xl shadow-xl max-w-md w-full\">\n              <div className=\"p-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Photo Plate Recognition</h3>\n                <p className=\"text-sm text-gray-600 mb-6\">\n                  Take a photo of your meal and AI will help identify and log the foods automatically.\n                </p>\n                \n                <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\">\n                  <div className=\"flex items-start\">\n                    <div className=\"flex-shrink-0\">\n                      <svg className=\"w-5 h-5 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\" />\n                      </svg>\n                    </div>\n                    <div className=\"ml-3\">\n                      <p className=\"text-sm text-yellow-800\">\n                        <strong>Coming soon!</strong> This feature will be available in a future update.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"flex justify-end space-x-3\">\n                  <button\n                    onClick={() => setShowPhotoModal(false)}\n                    className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                  >\n                    Got it\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Mixing Guide Modal */}\n        {showMixingGuideModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto\">\n              <div className=\"p-6\">\n                <div className=\"flex items-center justify-between mb-6\">\n                  <h3 className=\"text-lg font-semibold text-gray-900\">Enteral Feeding Mixing Guide</h3>\n                  <button\n                    onClick={() => setShowMixingGuideModal(false)}\n                    className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                  >\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                  </button>\n                </div>\n                \n                <div className=\"space-y-6\">\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                    <h4 className=\"font-medium text-blue-800 mb-2\">Important Safety Notes</h4>\n                    <ul className=\"text-sm text-blue-700 space-y-1\">\n                      <li>• Always follow your healthcare provider's specific instructions</li>\n                      <li>• Use clean, sterile equipment</li>\n                      <li>• Check expiration dates on all products</li>\n                      <li>• Store prepared formula according to manufacturer guidelines</li>\n                    </ul>\n                  </div>\n                  \n                  <div className=\"space-y-4\">\n                    <h4 className=\"font-medium text-gray-900\">Common Mixing Ratios</h4>\n                    \n                    <div className=\"border border-gray-200 rounded-lg p-4\">\n                      <h5 className=\"font-medium text-gray-800 mb-2\">Pediasure 1.0 kcal/mL</h5>\n                      <p className=\"text-sm text-gray-600\">Ready to use - no mixing required</p>\n                    </div>\n                    \n                    <div className=\"border border-gray-200 rounded-lg p-4\">\n                      <h5 className=\"font-medium text-gray-800 mb-2\">Pediasure 1.5 kcal/mL</h5>\n                      <p className=\"text-sm text-gray-600\">Mix 1 can with 1/3 can of water</p>\n                    </div>\n                    \n                    <div className=\"border border-gray-200 rounded-lg p-4\">\n                      <h5 className=\"font-medium text-gray-800 mb-2\">Ensure 1.0 kcal/mL</h5>\n                      <p className=\"text-sm text-gray-600\">Ready to use - no mixing required</p>\n                    </div>\n                    \n                    <div className=\"border border-gray-200 rounded-lg p-4\">\n                      <h5 className=\"font-medium text-gray-800 mb-2\">Ensure 1.5 kcal/mL</h5>\n                      <p className=\"text-sm text-gray-600\">Mix 1 can with 1/3 can of water</p>\n                    </div>\n                  </div>\n                  \n                  <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n                    <div className=\"flex items-start\">\n                      <div className=\"flex-shrink-0\">\n                        <svg className=\"w-5 h-5 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\" />\n                        </svg>\n                      </div>\n                      <div className=\"ml-3\">\n                        <p className=\"text-sm text-yellow-800\">\n                          <strong>Note:</strong> These are general guidelines. Always consult your healthcare provider for specific instructions for your child's needs.\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"flex justify-end mt-6\">\n                  <button\n                    onClick={() => setShowMixingGuideModal(false)}\n                    className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                  >\n                    Close\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n                 {/* Scan Modal */}\n         {showScanModal && (\n           <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n             <div className=\"bg-white rounded-xl shadow-xl max-w-md w-full\">\n               <div className=\"p-6\">\n                 <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Scan Label</h3>\n                 <p className=\"text-sm text-gray-600 mb-6\">\n                   Point your camera at a medication label to automatically fill information.\n                 </p>\n                 \n                 <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\">\n                   <div className=\"flex items-start\">\n                     <div className=\"flex-shrink-0\">\n                       <svg className=\"w-5 h-5 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                         <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\" />\n                       </svg>\n                     </div>\n                     <div className=\"ml-3\">\n                       <p className=\"text-sm text-yellow-800\">\n                         <strong>Coming soon!</strong> This feature will be available in a future update.\n                       </p>\n                     </div>\n                   </div>\n                 </div>\n                 \n                 <div className=\"flex justify-end space-x-3\">\n                   <button\n                     onClick={() => setShowScanModal(false)}\n                     className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                   >\n                     Got it\n                   </button>\n                 </div>\n               </div>\n             </div>\n           </div>\n         )}\n\n         {/* Syringe Guide Modal */}\n         {showSyringeModal && (\n           <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n             <div className=\"bg-white rounded-xl shadow-xl max-w-md w-full\">\n               <div className=\"p-6\">\n                 <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">AR Syringe Guide</h3>\n                 <p className=\"text-sm text-gray-600 mb-6\">\n                   Use augmented reality to help measure the correct dose with a syringe.\n                 </p>\n                 \n                 <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\">\n                   <div className=\"flex items-start\">\n                     <div className=\"flex-shrink-0\">\n                       <svg className=\"w-5 h-5 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                         <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01M21 12c0 4.418-4.03 8-9 8a9 9 0 110-18c4.97 0 9 3.582 9 8z\" />\n                       </svg>\n                     </div>\n                     <div className=\"ml-3\">\n                       <p className=\"text-sm text-yellow-800\">\n                         <strong>Coming soon!</strong> This feature will be available in a future update.\n                       </p>\n                     </div>\n                   </div>\n                 </div>\n                 \n                 <div className=\"flex justify-end space-x-3\">\n                   <button\n                     onClick={() => setShowSyringeModal(false)}\n                     className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                   >\n                     Got it\n                   </button>\n                 </div>\n               </div>\n             </div>\n           </div>\n         )}\n\n      {/* Toast */}\n      <Toast\n        type={toast.type}\n        message={toast.message}\n        isVisible={toast.isVisible}\n        onClose={clearToast}\n      />\n    </div>\n  );\n};\n\nexport default QuickLog;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}