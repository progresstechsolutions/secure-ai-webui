{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const GrowthDevelopmentScreen=()=>{var _domains$find,_domainSubdomains,_domainSubdomains2,_skillHistoryData$sel,_skillHistoryData$sel2,_skillHistoryData$sel5,_skillHistoryData$sel6,_skillHistoryData$sel7,_skillHistoryData$sel8;const[showReportModal,setShowReportModal]=useState(false);const[showSettingsModal,setShowSettingsModal]=useState(false);const[showAISuggestionsModal,setShowAISuggestionsModal]=useState(false);const[showDomainDetailModal,setShowDomainDetailModal]=useState(false);const[selectedDomainForDetail,setSelectedDomainForDetail]=useState('');const[activeMobileTab,setActiveMobileTab]=useState('Skills');// Growth sub-navigation state\nconst[activeGrowthTab,setActiveGrowthTab]=useState('domains');// Overview tab state\nconst[overviewDateRange,setOverviewDateRange]=useState('30 days');// Settings state\nconst[defaultView,setDefaultView]=useState('age-based');const[showSkillsBeyondLevel,setShowSkillsBeyondLevel]=useState(true);const[weeklyReminder,setWeeklyReminder]=useState(false);// Report generation state\nconst[reportOptions,setReportOptions]=useState({domains:['motor','communication','social-emotional','cognitive-play','adaptive-self-help'],includeEmerging:true,includeNotes:true});const[isGeneratingReport,setIsGeneratingReport]=useState(false);const[reportReady,setReportReady]=useState(false);const[useDevelopmentalLevel,setUseDevelopmentalLevel]=useState(false);const[chronologicalAge,setChronologicalAge]=useState('6 months');const[developmentalLevel,setDevelopmentalLevel]=useState('Early');const[timeScope,setTimeScope]=useState('30 days');// Add Skill Quick Sheet states\nconst[showAddSkillSheet,setShowAddSkillSheet]=useState(false);const[currentStep,setCurrentStep]=useState(1);const[selectedDomain,setSelectedDomain]=useState('');const[selectedSkill,setSelectedSkill]=useState('');const[skillStatus,setSkillStatus]=useState('Observed');const[dateObserved,setDateObserved]=useState(new Date().toISOString().split('T')[0]);const[supportsUsed,setSupportsUsed]=useState([]);const[context,setContext]=useState([]);const[notes,setNotes]=useState('');const[showAllSkills,setShowAllSkills]=useState(false);const[searchQuery,setSearchQuery]=useState('');// Skills Checklist state\nconst[skillsSearchQuery,setSkillsSearchQuery]=useState('');const[skillsLevelFilter,setSkillsLevelFilter]=useState('All');const[skillsSubdomainFilter,setSkillsSubdomainFilter]=useState([]);const[skillsStatusFilter,setSkillsStatusFilter]=useState('All');const[skillsSortBy,setSkillsSortBy]=useState('Recommended');const[selectedSkills,setSelectedSkills]=useState([]);const[showCustomSkillForm,setShowCustomSkillForm]=useState(false);const[customSkillForm,setCustomSkillForm]=useState({name:'',subdomain:'',levelBand:'Early'});// Skill History drawer state\nconst[showSkillHistory,setShowSkillHistory]=useState(false);const[selectedSkillForHistory,setSelectedSkillForHistory]=useState(null);const[showAddNoteForm,setShowAddNoteForm]=useState(false);const[newNoteText,setNewNoteText]=useState('');// Sample domain data\nconst domains=[{id:'motor',name:'Motor',subtitle:'Gross & Fine',icon:'ðŸƒâ€â™€ï¸',observed:8,suggested:12,lastSkill:'Rolls both ways',lastDate:'2024-03-15'},{id:'communication',name:'Communication',subtitle:'Expressive & Receptive',icon:'ðŸ’¬',observed:5,suggested:10,lastSkill:'Uses 3 words',lastDate:'2024-03-12'},{id:'social-emotional',name:'Social-Emotional',subtitle:'',icon:'ðŸ˜Š',observed:6,suggested:8,lastSkill:'Social smile',lastDate:'2024-03-10'},{id:'cognitive-play',name:'Cognitive/Play',subtitle:'',icon:'ðŸ§©',observed:4,suggested:9,lastSkill:'Bangs objects together',lastDate:'2024-03-08'},{id:'adaptive-self-help',name:'Adaptive/Self-Help',subtitle:'feeding, dressing, toileting',icon:'ðŸ‘•',observed:3,suggested:7,lastSkill:'Finger feeds',lastDate:'2024-03-05'}];// Sample skills data with proper age band mapping\nconst allSkills=[// Motor skills\n{id:'m1',domain:'motor',subdomain:'gross',name:'Rolls both ways',ageBand:'Early',description:'Rolls from back to stomach and stomach to back'},{id:'m2',domain:'motor',subdomain:'gross',name:'Sits briefly without support',ageBand:'Early',description:'Maintains sitting position for a few seconds'},{id:'m3',domain:'motor',subdomain:'gross',name:'Pulls to stand',ageBand:'Toddler',description:'Pulls self up to standing position using furniture'},{id:'m4',domain:'motor',subdomain:'gross',name:'Cruises along furniture',ageBand:'Toddler',description:'Walks sideways while holding onto furniture'},{id:'m5',domain:'motor',subdomain:'gross',name:'Walks with support',ageBand:'Toddler',description:'Takes steps while holding hands or walker'},{id:'m6',domain:'motor',subdomain:'fine',name:'Pincer grasp',ageBand:'Early',description:'Picks up small objects using thumb and index finger'},{id:'m7',domain:'motor',subdomain:'fine',name:'Stacks 2 blocks',ageBand:'Toddler',description:'Places one block on top of another'},{id:'m8',domain:'motor',subdomain:'gross',name:'Throws ball forward',ageBand:'Toddler',description:'Throws ball in forward direction'},{id:'m9',domain:'motor',subdomain:'gross',name:'Runs with coordination',ageBand:'Preschool',description:'Runs with improved balance and coordination'},{id:'m10',domain:'motor',subdomain:'gross',name:'Hops on one foot',ageBand:'Preschool',description:'Hops briefly on one foot'},{id:'m11',domain:'motor',subdomain:'gross',name:'Catches large ball',ageBand:'Preschool',description:'Catches ball with arms extended'},{id:'m12',domain:'motor',subdomain:'fine',name:'Uses scissors',ageBand:'Preschool',description:'Cuts paper with child-safe scissors'},// Communication skills\n{id:'c1',domain:'communication',subdomain:'expressive',name:'Babbles with consonants',ageBand:'Early',description:'Makes consonant sounds like ba, da, ma'},{id:'c2',domain:'communication',subdomain:'receptive',name:'Points to request',ageBand:'Toddler',description:'Points to objects to indicate wants'},{id:'c3',domain:'communication',subdomain:'expressive',name:'Uses 5-10 words',ageBand:'Toddler',description:'Says 5-10 recognizable words'},{id:'c4',domain:'communication',subdomain:'receptive',name:'Follows 1-step directions',ageBand:'Toddler',description:'Understands and follows simple commands'},{id:'c5',domain:'communication',subdomain:'expressive',name:'Names common objects',ageBand:'Preschool',description:'Identifies familiar objects by name'},{id:'c6',domain:'communication',subdomain:'expressive',name:'Combines 2 words',ageBand:'Preschool',description:'Uses two-word phrases'},{id:'c7',domain:'communication',subdomain:'expressive',name:'Asks questions',ageBand:'Preschool',description:'Asks what, where, why questions'},{id:'c8',domain:'communication',subdomain:'expressive',name:'Tells simple stories',ageBand:'School-age',description:'Recounts events in sequence'},{id:'c9',domain:'communication',subdomain:'expressive',name:'Uses past tense',ageBand:'School-age',description:'Correctly uses past tense verbs'},{id:'c10',domain:'communication',subdomain:'receptive',name:'Follows 3-step directions',ageBand:'School-age',description:'Understands and follows multi-step commands'},// Social-Emotional skills\n{id:'s1',domain:'social-emotional',subdomain:'interaction',name:'Social smile',ageBand:'Early',description:'Smiles in response to social interaction'},{id:'s2',domain:'social-emotional',subdomain:'interaction',name:'Joint attention',ageBand:'Early',description:'Looks where you point'},{id:'s3',domain:'social-emotional',subdomain:'interaction',name:'Waves bye',ageBand:'Toddler',description:'Waves goodbye'},{id:'s4',domain:'social-emotional',subdomain:'interaction',name:'Brings item to show',ageBand:'Toddler',description:'Shows objects to others'},{id:'s5',domain:'social-emotional',subdomain:'interaction',name:'Parallel play',ageBand:'Preschool',description:'Plays alongside other children'},{id:'s6',domain:'social-emotional',subdomain:'interaction',name:'Takes turns briefly',ageBand:'Preschool',description:'Participates in simple turn-taking'},{id:'s7',domain:'social-emotional',subdomain:'regulation',name:'Shows empathy',ageBand:'Preschool',description:'Comforts others when upset'},{id:'s8',domain:'social-emotional',subdomain:'interaction',name:'Shares toys',ageBand:'Preschool',description:'Willingly shares toys with peers'},{id:'s9',domain:'social-emotional',subdomain:'regulation',name:'Manages emotions',ageBand:'School-age',description:'Uses strategies to calm down'},{id:'s10',domain:'social-emotional',subdomain:'interaction',name:'Makes friends',ageBand:'School-age',description:'Initiates and maintains friendships'},// Cognitive/Play skills\n{id:'cp1',domain:'cognitive-play',subdomain:'early-play',name:'Bangs two objects',ageBand:'Early',description:'Hits two objects together'},{id:'cp2',domain:'cognitive-play',subdomain:'problem-solving',name:'Puts objects in/out',ageBand:'Toddler',description:'Places objects in containers and removes them'},{id:'cp3',domain:'cognitive-play',subdomain:'problem-solving',name:'Cause-and-effect toy play',ageBand:'Toddler',description:'Understands simple cause and effect'},{id:'cp4',domain:'cognitive-play',subdomain:'problem-solving',name:'Matches shapes',ageBand:'Preschool',description:'Identifies and matches similar shapes'},{id:'cp5',domain:'cognitive-play',subdomain:'problem-solving',name:'Completes 3-piece puzzle',ageBand:'Preschool',description:'Assembles simple puzzles'},{id:'cp6',domain:'cognitive-play',subdomain:'pretend',name:'Pretend feeds doll',ageBand:'Preschool',description:'Engages in pretend play'},{id:'cp7',domain:'cognitive-play',subdomain:'problem-solving',name:'Counts to 10',ageBand:'Preschool',description:'Recites numbers 1-10'},{id:'cp8',domain:'cognitive-play',subdomain:'problem-solving',name:'Recognizes colors',ageBand:'Preschool',description:'Names basic colors'},{id:'cp9',domain:'cognitive-play',subdomain:'problem-solving',name:'Understands time concepts',ageBand:'School-age',description:'Grasps yesterday, today, tomorrow'},{id:'cp10',domain:'cognitive-play',subdomain:'problem-solving',name:'Solves simple problems',ageBand:'School-age',description:'Finds solutions to everyday challenges'},// Adaptive/Self-Help skills\n{id:'a1',domain:'adaptive-self-help',subdomain:'feeding',name:'Finger feeds',ageBand:'Early',description:'Picks up food with fingers and eats'},{id:'a2',domain:'adaptive-self-help',subdomain:'feeding',name:'Drinks from open cup with help',ageBand:'Toddler',description:'Uses open cup with assistance'},{id:'a3',domain:'adaptive-self-help',subdomain:'feeding',name:'Uses spoon with some spills',ageBand:'Toddler',description:'Attempts to use spoon independently'},{id:'a4',domain:'adaptive-self-help',subdomain:'dressing',name:'Removes socks',ageBand:'Toddler',description:'Takes off socks independently'},{id:'a5',domain:'adaptive-self-help',subdomain:'dressing',name:'Helps with dressing',ageBand:'Toddler',description:'Assists with putting on clothes'},{id:'a6',domain:'adaptive-self-help',subdomain:'toileting',name:'Indicates wet/soiled diaper',ageBand:'Toddler',description:'Shows awareness of diaper state'},{id:'a7',domain:'adaptive-self-help',subdomain:'toileting',name:'Sits on toilet with support',ageBand:'Toddler',description:'Sits on toilet with assistance'},{id:'a8',domain:'adaptive-self-help',subdomain:'hygiene',name:'Washes hands with help',ageBand:'Preschool',description:'Washes hands with supervision'},{id:'a9',domain:'adaptive-self-help',subdomain:'dressing',name:'Buttons large buttons',ageBand:'Preschool',description:'Fastens large buttons independently'},{id:'a10',domain:'adaptive-self-help',subdomain:'hygiene',name:'Brushes teeth with help',ageBand:'Preschool',description:'Brushes teeth with supervision'}];// Subdomain tags for each domain\nconst domainSubdomains={'motor':['Gross','Fine'],'communication':['Expressive','Receptive'],'social-emotional':['Interaction','Regulation'],'cognitive-play':['Early Play','Problem-Solving','Pretend'],'adaptive-self-help':['Feeding','Dressing','Toileting','Hygiene']};// Sample milestone entries for the journal\nconst milestoneEntries=[{id:'1',domainIcon:'ðŸƒ',skillName:'Rolls both ways',status:'Observed',date:'2024-03-15',context:'home'},{id:'2',domainIcon:'ðŸ’¬',skillName:'Uses 3 words',status:'Observed',date:'2024-03-12',context:'therapy'},{id:'3',domainIcon:'ðŸ˜Š',skillName:'Social smile',status:'Emerging',date:'2024-03-10',context:'home'}];// Sample skill statuses for demonstration\nconst skillStatuses={'m1':'Observed','m2':'Emerging','c1':'Observed','c2':'Not yet','s1':'Observed','cp1':'Emerging','a1':'Not yet'};// Sample last observed dates\nconst lastObservedDates={'m1':'2024-03-15','c1':'2024-03-12','s1':'2024-03-10'};// Sample supports used\nconst sampleSupportsUsed={'m2':['hand-over-hand','prompts'],'cp1':['adaptive utensil'],'a1':['AAC']};// Supports options for skills\nconst supportsOptions=['hand-over-hand','adaptive utensil','prompts','AAC','orthotics'];// Sample skill history data\nconst skillHistoryData={'m1':{statusChanges:[{date:'2024-03-15',status:'Observed',supports:[],author:'Mom'},{date:'2024-03-10',status:'Emerging',supports:['hand-over-hand'],author:'Dad'},{date:'2024-02-28',status:'Not yet',supports:[],author:'Mom'}],notes:[{timestamp:'2024-03-15 14:30',text:'First time rolling both ways consistently!',author:'Mom'},{timestamp:'2024-03-12 10:15',text:'Showed interest in rolling during tummy time',author:'Dad'}]},'c1':{statusChanges:[{date:'2024-03-12',status:'Observed',supports:[],author:'Mom'},{date:'2024-03-05',status:'Emerging',supports:['prompts'],author:'Therapist'}],notes:[{timestamp:'2024-03-12 16:45',text:'Said \"mama\" clearly for the first time!',author:'Mom'},{timestamp:'2024-03-08 11:20',text:'Working on consonant sounds in therapy',author:'Therapist'}]}};const[showMilestoneDetail,setShowMilestoneDetail]=useState(null);const[isLoading,setIsLoading]=useState(false);const[hasMilestones,setHasMilestones]=useState(true);// For demo purposes, set to true initially\nconst getStatusBadgeColor=status=>{switch(status){case'Observed':return'bg-green-100 text-green-800 border-green-200';case'Emerging':return'bg-yellow-100 text-yellow-800 border-yellow-200';case'Not yet':return'bg-gray-100 text-gray-800 border-gray-200';case'N/A':return'bg-blue-100 text-blue-800 border-blue-200';default:return'bg-gray-100 text-gray-800 border-gray-200';}};const getContextLabel=context=>{switch(context){case'home':return'Home';case'school':return'School';case'therapy':return'Therapy';case'community':return'Community';default:return context;}};const handleViewMilestone=milestoneId=>{setShowMilestoneDetail(milestoneId);};const handleViewAllMilestones=()=>{// TODO: Route to Log & Track > Journal filtered to Milestones type\nconsole.log('Navigate to Journal with Milestones filter');};// Skeleton loading components\nconst DomainTileSkeleton=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gray-200 rounded-full\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-5 bg-gray-200 rounded w-24 mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-32\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-200 rounded-full\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-full mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-3/4 mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-9 bg-gray-200 rounded w-full\"})]});const JournalEntrySkeleton=()=>/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 animate-pulse\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gray-200 rounded-full\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-32 mb-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-5 bg-gray-200 rounded w-16\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-24\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-12\"})]})});const contextOptions=['home','school','therapy','community'];// Helper function to get age band from chronological age\nconst getAgeBandFromChronological=age=>{if(age.includes('months')){const months=parseInt(age.split(' ')[0]);if(months<=12)return'Early';if(months<=36)return'Toddler';if(months<=60)return'Preschool';return'School-age';}else if(age.includes('years')){const years=parseInt(age.split(' ')[0]);if(years<=5)return'Preschool';return'School-age';}return'Early';// default\n};// Helper function to check if skill is within Â±1 age band\nconst isSkillAgeAppropriate=(skillAgeBand,selectedAgeBand)=>{const ageBands=['Early','Toddler','Preschool','School-age'];const skillIndex=ageBands.indexOf(skillAgeBand);const selectedIndex=ageBands.indexOf(selectedAgeBand);if(skillIndex===-1||selectedIndex===-1)return true;// fallback\nreturn Math.abs(skillIndex-selectedIndex)<=1;};const handleOpenDomain=domainId=>{// TODO: Route to domain detail (will be implemented in 5B)\nconsole.log(`Opening domain: ${domainId}`);// For now, show a placeholder modal indicating this will be implemented in Phase 5B\nsetShowDomainDetailModal(true);setSelectedDomainForDetail(domainId);};const handleAddSkill=()=>{setShowAddSkillSheet(true);setCurrentStep(1);setSelectedDomain('');setSelectedSkill('');setSkillStatus('Observed');setDateObserved(new Date().toISOString().split('T')[0]);setSupportsUsed([]);setContext([]);setNotes('');setShowAllSkills(false);setSearchQuery('');};const handleNextStep=()=>{if(currentStep<6){setCurrentStep(currentStep+1);}};const handlePrevStep=()=>{if(currentStep>1){setCurrentStep(currentStep-1);}};const handleSave=()=>{// TODO: Save skill data\nconsole.log('Saving skill:',{selectedDomain,selectedSkill,skillStatus,dateObserved,supportsUsed,context,notes});setShowAddSkillSheet(false);// TODO: Show toast: \"Skill saved. View it in Journal or the domain page.\"\n};const handleSaveAndAddAnother=()=>{// TODO: Save skill data\nconsole.log('Saving skill and adding another:',{selectedDomain,selectedSkill,skillStatus,dateObserved,supportsUsed,context,notes});// Reset form for next skill\nsetSelectedSkill('');setSkillStatus('Observed');setDateObserved(new Date().toISOString().split('T')[0]);setSupportsUsed([]);setContext([]);setNotes('');setCurrentStep(2);// Go back to skill selection\n};const handleSaveSettings=()=>{// TODO: Save settings to localStorage or API\nsetShowSettingsModal(false);// TODO: Show toast: \"Settings saved.\"\n};// Get current age band for filtering\nconst currentAgeBand=useDevelopmentalLevel?developmentalLevel:getAgeBandFromChronological(chronologicalAge);const filteredSkills=allSkills.filter(skill=>{if(selectedDomain&&skill.domain!==selectedDomain)return false;if(searchQuery&&!skill.name.toLowerCase().includes(searchQuery.toLowerCase()))return false;return true;});// Filter by age appropriateness (default: Â±1 band)\nconst ageAppropriateSkills=showAllSkills?filteredSkills:filteredSkills.filter(skill=>isSkillAgeAppropriate(skill.ageBand,currentAgeBand));const suggestedSkills=ageAppropriateSkills.slice(0,10);const displayedSkills=showAllSkills?ageAppropriateSkills:suggestedSkills;const handleGenerateReport=()=>{setIsGeneratingReport(true);// TODO: Simulate report generation\nsetTimeout(()=>{setIsGeneratingReport(false);setReportReady(true);},2000);};const handleDownloadReport=()=>{// TODO: Trigger actual PDF download\nsetReportReady(false);setShowReportModal(false);// TODO: Show toast: \"Report downloaded\"\n};const handleSkillStatusChange=(skillId,status)=>{// TODO: Update skill status in database\nconsole.log(`Updating skill ${skillId} status to ${status}`);// TODO: Show toast: \"Updated\"\n};const handleSkillSupportsUpdate=(skillId,supports)=>{// TODO: Update skill supports in database\nconsole.log(`Updating skill ${skillId} supports to:`,supports);};const handleBulkAction=action=>{if(selectedSkills.length===0)return;switch(action){case'mark-observed':// TODO: Mark all selected skills as observed\nbreak;case'mark-emerging':// TODO: Mark all selected skills as emerging\nbreak;case'add-to-visit-packet':// TODO: Add selected skills to visit packet\nbreak;}setSelectedSkills([]);};const handleAddCustomSkill=()=>{if(!customSkillForm.name||!customSkillForm.subdomain)return;// TODO: Add custom skill to database\nconsole.log('Adding custom skill:',customSkillForm);setShowCustomSkillForm(false);setCustomSkillForm({name:'',subdomain:'',levelBand:'Early'});// TODO: Show toast: \"Custom skill added\"\n};const getFilteredAndGroupedSkills=()=>{let filtered=allSkills.filter(skill=>skill.domain===selectedDomainForDetail);// Apply search filter\nif(skillsSearchQuery){filtered=filtered.filter(skill=>skill.name.toLowerCase().includes(skillsSearchQuery.toLowerCase())||skill.description.toLowerCase().includes(skillsSearchQuery.toLowerCase()));}// Apply level filter\nif(skillsLevelFilter!=='All'){filtered=filtered.filter(skill=>skill.ageBand===skillsLevelFilter);}// Apply subdomain filter\nif(skillsSubdomainFilter.length>0){filtered=filtered.filter(skill=>skillsSubdomainFilter.includes(skill.subdomain));}// Apply status filter\nif(skillsStatusFilter!=='All'){filtered=filtered.filter(skill=>skillStatuses[skill.id]===skillsStatusFilter);}// Apply sorting\nswitch(skillsSortBy){case'A-Z':filtered.sort((a,b)=>a.name.localeCompare(b.name));break;case'Recently updated':// TODO: Sort by last updated date\nbreak;case'Recommended':default:// Keep default order (age-appropriate first)\nbreak;}// Group skills\nconst currentLevel=chronologicalAge.includes('months')?getAgeBandFromChronological(chronologicalAge):developmentalLevel;const ageBands=['Early','Toddler','Preschool','School-age'];const currentIndex=ageBands.indexOf(currentLevel);const suggested=filtered.filter(skill=>skill.ageBand===currentLevel);const stretchNext=filtered.filter(skill=>{const skillIndex=ageBands.indexOf(skill.ageBand);return skillIndex===currentIndex+1;});const foundations=filtered.filter(skill=>{const skillIndex=ageBands.indexOf(skill.ageBand);return skillIndex<currentIndex;});return{suggested,stretchNext,foundations};};// Keyboard navigation state\nconst[focusedSkillIndex,setFocusedSkillIndex]=useState(-1);const[focusedSkillId,setFocusedSkillId]=useState(null);const handleKeyDown=(event,skillId,index)=>{switch(event.key){case'ArrowDown':event.preventDefault();const nextIndex=Math.min(index+1,getFilteredAndGroupedSkills().suggested.length-1);setFocusedSkillIndex(nextIndex);setFocusedSkillId(skillId);break;case'ArrowUp':event.preventDefault();const prevIndex=Math.max(index-1,0);setFocusedSkillIndex(prevIndex);setFocusedSkillId(skillId);break;case' ':event.preventDefault();// Toggle status - find current status and cycle through\nconst currentStatus=skillStatuses[skillId]||'Not yet';const statusOptions=['Observed','Emerging','Not yet','N/A'];const currentIndex=statusOptions.indexOf(currentStatus);const nextStatus=statusOptions[(currentIndex+1)%statusOptions.length];handleSkillStatusChange(skillId,nextStatus);break;case'Enter':event.preventDefault();// Open supports popover - this will be handled by the supports button\nconst supportsButton=document.querySelector(`[data-skill-id=\"${skillId}\"] [data-supports-button]`);if(supportsButton){supportsButton.click();}break;}};const handleSkillFocus=(skillId,index)=>{setFocusedSkillIndex(index);setFocusedSkillId(skillId);};// SkillRow Component with enhanced accessibility\nconst SkillRow=_ref=>{let{skill,status,lastObserved,supports,isSelected,isFocused,index,onSelectionChange,onStatusChange,onSupportsUpdate,onKeyDown,onFocus}=_ref;const[showSupportsPopover,setShowSupportsPopover]=useState(false);const[showOverflowMenu,setShowOverflowMenu]=useState(false);const[showDatePicker,setShowDatePicker]=useState(false);const[selectedDate,setSelectedDate]=useState(lastObserved||new Date().toISOString().split('T')[0]);const supportsOptions=['hand-over-hand','adaptive utensil','prompts','AAC','orthotics'];const handleStatusChange=newStatus=>{if(newStatus==='Observed'&&!lastObserved){setShowDatePicker(true);}else{onStatusChange(newStatus);}};const handleDateSave=()=>{onStatusChange('Observed');setShowDatePicker(false);// TODO: Save last observed date\n};return/*#__PURE__*/_jsxs(\"div\",{className:`bg-white border border-gray-200 rounded-lg p-3 hover:border-gray-300 transition-colors ${isFocused?'ring-2 ring-blue-500 ring-offset-2':''}`,tabIndex:0,onKeyDown:onKeyDown,onFocus:onFocus,role:\"row\",\"aria-selected\":isSelected,\"aria-label\":`Skill: ${skill.name}, Status: ${status}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isSelected,onChange:e=>onSelectionChange(e.target.checked),className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\",\"aria-label\":`Select ${skill.name} skill`}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-sm font-medium text-gray-900 truncate\",children:skill.name}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-400 hover:text-gray-600\",\"aria-label\":`Show description for ${skill.name}`,title:skill.description,children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:skill.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800\",children:skill.subdomain}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",children:skill.ageBand})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",role:\"radiogroup\",\"aria-label\":`Status for ${skill.name}`,children:['Observed','Emerging','Not yet','N/A'].map(statusOption=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:`status-${skill.id}`,value:statusOption,checked:status===statusOption,onChange:()=>handleStatusChange(statusOption),className:\"mr-1 text-blue-600 focus:ring-blue-500\",\"aria-label\":`Mark ${skill.name} as ${statusOption}`}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-700\",children:statusOption})]},statusOption))}),lastObserved&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"Last: \",new Date(lastObserved).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"button\",{\"data-supports-button\":true,\"data-skill-id\":skill.id,onClick:()=>setShowSupportsPopover(!showSupportsPopover),className:\"text-xs text-blue-600 hover:text-blue-700 underline\",\"aria-label\":\"Manage supports for this skill\",\"aria-expanded\":showSupportsPopover,\"aria-haspopup\":\"true\",children:\"Supports\"}),showSupportsPopover&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 top-6 w-48 bg-white border border-gray-200 rounded-lg shadow-lg p-3 z-10\",role:\"dialog\",\"aria-label\":\"Supports selection\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-xs font-medium text-gray-900 mb-2\",children:\"Supports used:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:supportsOptions.map(option=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:supports.includes(option),onChange:e=>{if(e.target.checked){onSupportsUpdate([...supports,option]);}else{onSupportsUpdate(supports.filter(s=>s!==option));}},className:\"mr-2 text-blue-600 focus:ring-blue-500\",\"aria-label\":`Use ${option} support`}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-700 capitalize\",children:option})]},option))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowOverflowMenu(!showOverflowMenu),className:\"text-gray-400 hover:text-gray-600 p-1\",\"aria-label\":\"More options for this skill\",\"aria-expanded\":showOverflowMenu,\"aria-haspopup\":\"true\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\"})})}),showOverflowMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 top-6 w-32 bg-white border border-gray-200 rounded-lg shadow-lg p-2 z-10\",role:\"menu\",\"aria-label\":\"Skill options\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{handleViewSkillHistory(skill);setShowOverflowMenu(false);},className:\"w-full text-left px-2 py-1 text-xs text-gray-700 hover:bg-gray-100 rounded\",role:\"menuitem\",children:\"View history\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left px-2 py-1 text-xs text-gray-700 hover:bg-gray-100 rounded\",role:\"menuitem\",children:\"Add note\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(visitPacketItems.has(skill.id)){handleRemoveFromVisitPacket(skill.id);}else{handleAddToVisitPacket(skill.id);}setShowOverflowMenu(false);},className:`w-full text-left px-2 py-1 text-xs rounded ${visitPacketItems.has(skill.id)?'text-red-600 hover:bg-red-50':'text-gray-700 hover:bg-gray-100'}`,role:\"menuitem\",children:visitPacketItems.has(skill.id)?'Remove from Visit Packet':'Add to Visit Packet'}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left px-2 py-1 text-xs text-red-600 hover:bg-red-50 rounded\",role:\"menuitem\",children:\"Delete\"})]})]})]}),showDatePicker&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 z-50 flex items-center justify-center\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"date-picker-title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4 max-w-sm w-full mx-4\",children:[/*#__PURE__*/_jsx(\"h6\",{id:\"date-picker-title\",className:\"text-sm font-medium text-gray-900 mb-3\",children:\"When did you observe this skill?\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:selectedDate,onChange:e=>setSelectedDate(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\"aria-label\":\"Select observation date\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDatePicker(false),className:\"px-3 py-1 text-sm text-gray-700 bg-gray-100 border border-gray-300 rounded hover:bg-gray-200\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDateSave,className:\"px-3 py-1 text-sm text-white bg-blue-600 border border-transparent rounded hover:bg-blue-700\",children:\"Save\"})]})]})})]});};const handleViewSkillHistory=skill=>{setSelectedSkillForHistory(skill);setShowSkillHistory(true);};const handleAddNote=()=>{if(!newNoteText.trim()||!selectedSkillForHistory)return;// TODO: Add note to database\nconsole.log('Adding note to skill:',selectedSkillForHistory.id,newNoteText);setNewNoteText('');setShowAddNoteForm(false);// TODO: Show toast: \"Note added\"\n};const handleEditLastEntry=()=>{if(!selectedSkillForHistory)return;// TODO: Open edit form for last status change\nconsole.log('Editing last entry for skill:',selectedSkillForHistory.id);// TODO: Show edit modal\n};// Care Ideas panel state\nconst[careIdeasEnvironment,setCareIdeasEnvironment]=useState(['home']);const[careIdeasSupports,setCareIdeasSupports]=useState([]);const[careIdeasTimeAvailable,setCareIdeasTimeAvailable]=useState('10-15 min');// Sample care ideas data\nconst careIdeasData={'motor':[{id:'motor-1',title:'Tummy-time with bolster',goalTags:['Gross motor','Core strength'],levelTag:'Suggested now',materials:['Firm pillow or bolster','Favorite toys'],steps:['Place bolster under child\\'s chest for support','Position interesting toys just out of reach','Encourage reaching and stretching movements','Gradually increase time spent in position'],adaptations:['Use visual markers','Hand-over-hand support'],safetyNote:'Supervise closely, ensure safe surface',environment:['home','therapy'],supports:['visuals','hand-over-hand'],timeRequired:'5 min'},{id:'motor-2',title:'Cruising along couch',goalTags:['Gross motor','Balance'],levelTag:'Suggested now',materials:['Stable furniture','Soft landing area'],steps:['Clear safe path along furniture edge','Place favorite toys at intervals','Encourage side-stepping while holding on','Celebrate each step taken'],adaptations:['Use visual markers','Provide hand support'],safetyNote:'Ensure furniture is stable, supervise closely',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'10-15 min'},{id:'motor-3',title:'Stack 2-3 blocks',goalTags:['Fine motor','Precision'],levelTag:'Stretch',materials:['Large, lightweight blocks'],steps:['Start with just 2 blocks','Model stacking action slowly','Encourage imitation and practice','Gradually increase to 3 blocks'],adaptations:['Larger blocks','Non-slip base'],safetyNote:'Use soft blocks, supervise play',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'5 min'},{id:'motor-4',title:'Large-bead threading',goalTags:['Fine motor','Coordination'],levelTag:'Stretch',materials:['Large wooden beads','Thick string'],steps:['Demonstrate threading motion','Start with just a few beads','Practice hand-eye coordination','Celebrate each successful thread'],adaptations:['Larger beads','Stiffer string'],safetyNote:'Supervise closely, avoid small parts',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'10 min'},{id:'motor-5',title:'Two-hand carry',goalTags:['Fine motor','Bilateral coordination'],levelTag:'Foundations',materials:['Various sized containers','Toys'],steps:['Start with small, lightweight items','Encourage using both hands together','Practice carrying different objects','Build up to larger containers'],adaptations:['Larger handles','Non-slip grips'],safetyNote:'Ensure items are safe to carry',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'5 min'}],'communication':[{id:'comm-1',title:'Choice-making with pictures',goalTags:['Receptive','Understanding'],levelTag:'Suggested now',materials:['Picture cards','Favorite items'],steps:['Show 2-3 picture options','Ask \"Which one do you want?\"','Wait for response (point, reach, or vocalize)','Provide chosen item immediately'],adaptations:['Larger pictures','Real objects'],safetyNote:'Keep choices simple and clear',environment:['home','school'],supports:['visuals','aac'],timeRequired:'5 min'},{id:'comm-2',title:'Label-and-point during routines',goalTags:['Expressive','Vocabulary'],levelTag:'Suggested now',materials:['Daily routine items','Picture schedule'],steps:['Point to items during daily activities','Say the name clearly and wait','Encourage child to repeat or point','Use consistent labels for same items'],adaptations:['Picture schedule','Visual cues'],safetyNote:'Keep routines predictable and positive',environment:['home','school'],supports:['visuals'],timeRequired:'10-15 min'},{id:'comm-3',title:'\"One-step helper\" games',goalTags:['Receptive','Following directions'],levelTag:'Stretch',materials:['Simple household tasks','Clear instructions'],steps:['Give one simple instruction at a time','Use gestures and visual cues','Model the action if needed','Celebrate completion of each step'],adaptations:['Visual instructions','Hand-over-hand'],safetyNote:'Choose safe, age-appropriate tasks',environment:['home','school'],supports:['visuals','hand-over-hand'],timeRequired:'10 min'},{id:'comm-4',title:'Echoic practice with favorite words',goalTags:['Expressive','Imitation'],levelTag:'Stretch',materials:['Favorite toys','Books','Daily items'],steps:['Say favorite words clearly and slowly','Wait for child to attempt imitation','Accept any approximation of the word','Provide positive reinforcement'],adaptations:['Slower speech','Visual cues'],safetyNote:'Keep practice fun and low-pressure',environment:['home','therapy'],supports:['visuals'],timeRequired:'5 min'}],'social-emotional':[{id:'social-1',title:'Peekaboo turn-taking',goalTags:['Interaction','Social games'],levelTag:'Suggested now',materials:['Blanket','Favorite toy','Mirror'],steps:['Play simple peekaboo games','Take turns hiding and revealing','Encourage child to initiate hiding','Use different hiding spots'],adaptations:['Visual cues','Slower pace'],safetyNote:'Keep game fun and not scary',environment:['home','therapy'],supports:['visuals'],timeRequired:'10 min'},{id:'social-2',title:'\"Show and share\" box',goalTags:['Interaction','Sharing'],levelTag:'Suggested now',materials:['Special box','Favorite items'],steps:['Create a special sharing box','Encourage child to show items to others','Practice sharing and taking turns','Celebrate sharing behaviors'],adaptations:['Visual schedule','Picture cues'],safetyNote:'Ensure items are safe to share',environment:['home','school'],supports:['visuals'],timeRequired:'15 min'},{id:'social-3',title:'Visual schedule for transitions',goalTags:['Regulation','Predictability'],levelTag:'Stretch',materials:['Picture schedule','Timer','Transition items'],steps:['Create simple picture schedule','Show upcoming transitions','Use timer for countdown','Provide transition object if needed'],adaptations:['Larger pictures','Simple steps'],safetyNote:'Keep transitions smooth and predictable',environment:['home','school'],supports:['visuals','timer'],timeRequired:'5 min'},{id:'social-4',title:'Emotion faces matching',goalTags:['Regulation','Emotional awareness'],levelTag:'Stretch',materials:['Emotion cards','Mirror','Simple faces'],steps:['Show simple emotion faces','Model making the same face','Practice in front of mirror','Connect emotions to situations'],adaptations:['Larger faces','Simple emotions'],safetyNote:'Start with basic emotions only',environment:['home','therapy'],supports:['visuals'],timeRequired:'10 min'}],'cognitive-play':[{id:'cog-1',title:'In-out games',goalTags:['Early Play','Exploration'],levelTag:'Suggested now',materials:['Containers','Various objects','Toys'],steps:['Demonstrate putting items in and out','Practice with different containers','Encourage exploration and experimentation','Celebrate discovery and learning'],adaptations:['Larger containers','Simple objects'],safetyNote:'Ensure objects are safe and age-appropriate',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'10 min'},{id:'cog-2',title:'Cause-effect button toys',goalTags:['Problem-Solving','Cause-effect'],levelTag:'Suggested now',materials:['Simple cause-effect toys','Buttons'],steps:['Show how pressing button creates effect','Encourage child to press buttons','Practice different buttons and effects','Celebrate cause-effect understanding'],adaptations:['Larger buttons','Clear effects'],safetyNote:'Choose toys with clear, safe effects',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'10 min'},{id:'cog-3',title:'Shape sorter',goalTags:['Problem-Solving','Matching'],levelTag:'Stretch',materials:['Simple shape sorter','Basic shapes'],steps:['Start with just 2-3 simple shapes','Demonstrate matching and sorting','Practice with hand-over-hand support','Gradually increase difficulty'],adaptations:['Larger shapes','Simple designs'],safetyNote:'Supervise closely, ensure pieces are safe',environment:['home','therapy'],supports:['hand-over-hand','visuals'],timeRequired:'15 min'},{id:'cog-4',title:'Pretend tea party',goalTags:['Pretend','Imaginative play'],levelTag:'Stretch',materials:['Toy cups','Plates','Pretend food'],steps:['Model pretend actions (drinking, eating)','Encourage imitation of pretend behaviors','Practice simple pretend scenarios','Celebrate imaginative play'],adaptations:['Realistic toys','Simple scenarios'],safetyNote:'Ensure toys are safe and age-appropriate',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'15 min'}],'adaptive-self-help':[{id:'adaptive-1',title:'Open-cup sips with tiny amounts',goalTags:['Feeding','Drinking skills'],levelTag:'Suggested now',materials:['Small open cup','Tiny amounts of liquid'],steps:['Start with very small amounts','Demonstrate sipping motion','Practice with hand-over-hand support','Gradually increase amount'],adaptations:['Smaller cup','Thicker liquids'],safetyNote:'Supervise closely, use safe liquids',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'5 min'},{id:'adaptive-2',title:'Spoon practice with thick foods',goalTags:['Feeding','Self-feeding'],levelTag:'Suggested now',materials:['Child-sized spoon','Thick foods (yogurt, pudding)'],steps:['Demonstrate proper spoon grip','Practice scooping thick foods','Encourage self-feeding attempts','Provide positive reinforcement'],adaptations:['Adaptive spoon','Non-slip bowl'],safetyNote:'Supervise eating, choose safe foods',environment:['home','therapy'],supports:['adaptive utensils'],timeRequired:'15 min'},{id:'adaptive-3',title:'Sock-off game',goalTags:['Dressing','Undressing skills'],levelTag:'Stretch',materials:['Loose socks','Comfortable clothing'],steps:['Start with loose, easy-to-remove socks','Demonstrate pulling motion','Practice with hand-over-hand support','Celebrate each successful removal'],adaptations:['Larger socks','Loose fit'],safetyNote:'Ensure socks are not too tight',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'5 min'},{id:'adaptive-4',title:'Hand-wash 3-step routine',goalTags:['Hygiene','Self-care routine'],levelTag:'Stretch',materials:['Sink','Soap','Towel','Step stool'],steps:['Turn on water (with help)','Apply soap and rub hands','Rinse and dry hands'],adaptations:['Step stool','Visual routine'],safetyNote:'Supervise water temperature and usage',environment:['home','school'],supports:['visuals','hand-over-hand'],timeRequired:'10 min'}]};// Overview metrics helper functions\nconst getTotalObservedSkills=()=>{// TODO: Calculate total observed skills based on overviewDateRange\nreturn 25;};const getTotalEmergingSkills=()=>{// TODO: Calculate total emerging skills based on overviewDateRange\nreturn 8;};const getNewSkillsThisPeriod=()=>{// TODO: Calculate new skills in the last 30 days\nreturn 3;};const getPracticeStreak=()=>{// TODO: Calculate practice streak (days with milestone updates)\nreturn 7;};const getFilteredCareIdeas=()=>{const domain=selectedDomainForDetail;if(!domain||!careIdeasData[domain])return[];let ideas=careIdeasData[domain];// Filter by environment\nif(careIdeasEnvironment.length>0){ideas=ideas.filter(idea=>idea.environment.some(env=>careIdeasEnvironment.includes(env)));}// Filter by supports\nif(careIdeasSupports.length>0){ideas=ideas.filter(idea=>idea.supports.some(support=>careIdeasSupports.includes(support)));}// Filter by time available\nideas=ideas.filter(idea=>{if(careIdeasTimeAvailable==='5 min')return idea.timeRequired==='5-10 min';if(careIdeasTimeAvailable==='10-15 min')return idea.timeRequired==='10-15 min';if(careIdeasTimeAvailable==='20+ min')return idea.timeRequired==='15-20 min';return true;});// Content logic: prioritize based on skill statuses\nconst{suggested,stretchNext,foundations}=getFilteredAndGroupedSkills();const notYetOrEmergingCount=suggested.filter(skill=>skillStatuses[skill.id]==='Not yet'||skillStatuses[skill.id]==='Emerging').length;// Show more \"Foundations\" ideas if >50% of \"Suggested now\" are Not yet\nconst shouldShowFoundations=notYetOrEmergingCount>suggested.length*0.5;// Sort by priority: Suggested now > Stretch > Foundations\nideas.sort((a,b)=>{const priority={'Suggested now':3,'Stretch':2,'Foundations':1};return priority[b.levelTag]-priority[a.levelTag];});// Limit to 3-6 ideas\nreturn ideas.slice(0,shouldShowFoundations?6:4);};// Progress Timeline state\nconst[progressTimeScope,setProgressTimeScope]=useState('30 days');const[progressView,setProgressView]=useState('By date');const[progressCustomStartDate,setProgressCustomStartDate]=useState('');const[progressCustomEndDate,setProgressCustomEndDate]=useState('');// Sample progress data for demonstration\nconst progressData={'motor':{timeline:[{date:'2024-03-15',skill:'Rolls both ways',status:'Observed'},{date:'2024-03-12',skill:'Sits briefly without support',status:'Observed'},{date:'2024-03-08',skill:'Pulls to stand',status:'Emerging'},{date:'2024-03-05',skill:'Pincer grasp',status:'Observed'},{date:'2024-02-28',skill:'Stacks 2 blocks',status:'Emerging'}],subdomains:{'gross':{observed:3,emerging:2},'fine':{observed:1,emerging:1}}},'communication':{timeline:[{date:'2024-03-12',skill:'Uses 5-10 words',status:'Observed'},{date:'2024-03-08',skill:'Follows 1-step directions',status:'Observed'},{date:'2024-03-03',skill:'Points to request',status:'Emerging'}],subdomains:{'expressive':{observed:1,emerging:0},'receptive':{observed:1,emerging:1}}},'social-emotional':{timeline:[{date:'2024-03-10',skill:'Social smile',status:'Observed'},{date:'2024-03-05',skill:'Joint attention',status:'Emerging'}],subdomains:{'interaction':{observed:1,emerging:1},'regulation':{observed:0,emerging:0}}}};const getProgressDataForDomain=()=>{const domain=selectedDomainForDetail;if(!domain||!progressData[domain])return null;const data=progressData[domain];let filteredTimeline=[...data.timeline];// Filter by time scope\nconst endDate=new Date();let startDate=new Date();switch(progressTimeScope){case'30 days':startDate.setDate(endDate.getDate()-30);break;case'90 days':startDate.setDate(endDate.getDate()-90);break;case'Custom':if(progressCustomStartDate&&progressCustomEndDate){startDate=new Date(progressCustomStartDate);const customEnd=new Date(progressCustomEndDate);filteredTimeline=filteredTimeline.filter(item=>{const itemDate=new Date(item.date);return itemDate>=startDate&&itemDate<=customEnd;});return{timeline:filteredTimeline,subdomains:data.subdomains};}break;}filteredTimeline=filteredTimeline.filter(item=>{const itemDate=new Date(item.date);return itemDate>=startDate&&itemDate<=endDate;});return{timeline:filteredTimeline,subdomains:data.subdomains};};const handleExportDomainProgress=()=>{// TODO: Export domain progress to PDF\nconsole.log('Exporting domain progress to PDF');// TODO: Show toast: \"Export started\"\n};const handleAddToVisitPacket=function(itemId){let itemType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'skill';setVisitPacketItems(prev=>new Set(Array.from(prev).concat(itemId)));showToastMessage(`${itemType} added to Visit Packet`);};const handleRemoveFromVisitPacket=function(itemId){let itemType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'skill';setVisitPacketItems(prev=>{const newSet=new Set(Array.from(prev));newSet.delete(itemId);return newSet;});showToastMessage(`${itemType} removed from Visit Packet`);};const handleAddSelectedToVisitPacket=()=>{if(selectedSkills.length===0)return;setVisitPacketItems(prev=>new Set(Array.from(prev).concat(selectedSkills)));showToastMessage(`${selectedSkills.length} skill${selectedSkills.length!==1?'s':''} added to Visit Packet`);setSelectedSkills([]);};// Export domain report modal state\nconst[showExportReportModal,setShowExportReportModal]=useState(false);const[exportReportOptions,setExportReportOptions]=useState({dateRange:{start:new Date(Date.now()-30*24*60*60*1000).toISOString().split('T')[0],// 30 days ago\nend:new Date().toISOString().split('T')[0]},include:{observed:true,emerging:true,notes:true},sections:{skillsList:true,careIdeasSnapshot:true,timelineChart:true}});const[exportReportStatus,setExportReportStatus]=useState('options');// Visit Packet state\nconst[visitPacketItems,setVisitPacketItems]=useState(new Set());const[showToast,setShowToast]=useState(false);const[toastMessage,setToastMessage]=useState('');const[toastType,setToastType]=useState('success');const handleExportDomainReport=()=>{// TODO: Generate domain report PDF\nconsole.log('Generating domain report with options:',exportReportOptions);setExportReportStatus('generating');// Simulate PDF generation\nsetTimeout(()=>{setExportReportStatus('ready');},2000);};const handleSaveToVisitPacket=()=>{// TODO: Save report to visit packet\nconsole.log('Saving report to visit packet');// TODO: Show toast: \"Report saved to visit packet\"\n};const showToastMessage=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'success';setToastMessage(message);setToastType(type);setShowToast(true);setTimeout(()=>setShowToast(false),3000);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm border-b\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-20 py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-semibold text-gray-900\",children:\"Growth & Milestones\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"Track observed skills across domains at your child's pace.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"p-2 text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10\",children:[\"Not a diagnostic tool\",/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAISuggestionsModal(true),className:\"px-3 py-2 text-xs font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\",\"aria-label\":\"Get AI suggestions for next skills\",children:\"Suggest next skills (AI)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowReportModal(true),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Generate Milestone Report\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddSkill,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Add Skill\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex space-x-8\",\"aria-label\":\"Growth & Milestones navigation\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveGrowthTab('domains'),className:`py-4 px-1 border-b-2 font-medium text-sm ${activeGrowthTab==='domains'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\"aria-current\":activeGrowthTab==='domains'?'page':undefined,children:\"Domains\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveGrowthTab('overview'),className:`py-4 px-1 border-b-2 font-medium text-sm ${activeGrowthTab==='overview'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\"aria-current\":activeGrowthTab==='overview'?'page':undefined,children:\"Overview\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveGrowthTab('reports'),className:`py-4 px-1 border-b-2 font-medium text-sm ${activeGrowthTab==='reports'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\"aria-current\":activeGrowthTab==='reports'?'page':undefined,children:\"Reports\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveGrowthTab('ideas'),className:`py-4 px-1 border-b-2 font-medium text-sm ${activeGrowthTab==='ideas'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\"aria-current\":activeGrowthTab==='ideas'?'page':undefined,children:\"Ideas Library\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 sm:space-x-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Age:\"}),useDevelopmentalLevel?/*#__PURE__*/_jsxs(\"select\",{value:developmentalLevel,onChange:e=>setDevelopmentalLevel(e.target.value),className:\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Early\",children:\"Early (0-12m)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Toddler\",children:\"Toddler (12-36m)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Preschool\",children:\"Preschool (3-5y)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"School-age\",children:\"School-age (5+)\"})]}):/*#__PURE__*/_jsxs(\"select\",{value:chronologicalAge,onChange:e=>setChronologicalAge(e.target.value),className:\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"6 months\",children:\"6 months\"}),/*#__PURE__*/_jsx(\"option\",{value:\"12 months\",children:\"12 months\"}),/*#__PURE__*/_jsx(\"option\",{value:\"18 months\",children:\"18 months\"}),/*#__PURE__*/_jsx(\"option\",{value:\"24 months\",children:\"24 months\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3 years\",children:\"3 years\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4 years\",children:\"4 years\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5 years\",children:\"5 years\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6 years\",children:\"6 years\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Use developmental level instead:\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setUseDevelopmentalLevel(!useDevelopmentalLevel),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${useDevelopmentalLevel?'bg-blue-600':'bg-gray-200'}`,children:/*#__PURE__*/_jsx(\"span\",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${useDevelopmentalLevel?'translate-x-6':'translate-x-1'}`})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Time scope:\"}),/*#__PURE__*/_jsxs(\"select\",{value:timeScope,onChange:e=>setTimeScope(e.target.value),className:\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"This week\",children:\"This week\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30 days\",children:\"30 days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"90 days\",children:\"90 days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Custom\",children:\"Custom\"})]})]})]})})}),activeGrowthTab==='domains'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"lg:flex lg:space-x-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:flex-1\",children:isLoading?/*#__PURE__*/// Loading state - skeleton tiles\n_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\",children:[1,2,3,4,5].map(i=>/*#__PURE__*/_jsx(DomainTileSkeleton,{},i))}):!hasMilestones?/*#__PURE__*/// Empty state - no milestones yet\n_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto max-w-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 mb-6\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-32 w-32\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:1,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No milestones yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-6\",children:\"Start by adding a skill you've noticed.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddSkill,className:\"px-6 py-3 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Add your first skill\",children:\"Add Skill\"})]})}):/*#__PURE__*/// Normal state - domain tiles\n_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\",children:domains.map(domain=>{const progressPercentage=domain.observed/domain.suggested*100;const circumference=2*Math.PI*18;// radius = 18\nconst strokeDasharray=circumference;const strokeDashoffset=circumference-progressPercentage/100*circumference;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow\",role:\"article\",\"aria-labelledby\":`domain-${domain.id}-title`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl\",\"aria-hidden\":\"true\",children:domain.icon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{id:`domain-${domain.id}-title`,className:\"text-lg font-semibold text-gray-900\",children:domain.name}),domain.subtitle&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:domain.subtitle})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",role:\"progressbar\",\"aria-valuenow\":domain.observed,\"aria-valuemin\":0,\"aria-valuemax\":domain.suggested,\"aria-label\":`${domain.name} progress: ${domain.observed} of ${domain.suggested} skills observed`,children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-16 h-16 transform -rotate-90\",viewBox:\"0 0 36 36\",\"aria-hidden\":\"true\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"18\",cy:\"18\",r:\"18\",fill:\"none\",stroke:\"#e5e7eb\",strokeWidth:\"3\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"18\",cy:\"18\",r:\"18\",fill:\"none\",stroke:\"#3b82f6\",strokeWidth:\"3\",strokeDasharray:strokeDasharray,strokeDashoffset:strokeDashoffset,strokeLinecap:\"round\",className:\"transition-all duration-300\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-900\",children:[domain.observed,\"/\",domain.suggested]})})]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 text-center mb-4\",children:[\"Observed \",domain.observed,\" of \",domain.suggested,\" suggested skills\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-4\",children:domain.lastSkill?/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Last new skill: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:domain.lastSkill}),\" on \",domain.lastDate]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"No skills yet\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleOpenDomain(domain.id),className:\"w-full px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\",\"aria-label\":`Open ${domain.name} domain details`,children:\"Open\"})]},domain.id);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden xl:block xl:w-80 mt-8 lg:mt-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Care Ideas\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-16 w-16\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:1,d:\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"})})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-2\",children:\"Coming in Phase 5B\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400\",children:\"Personalized care recommendations and strategies\"})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Recent milestone entries\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleViewAllMilestones,className:\"text-sm font-medium text-blue-600 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"View all milestone entries\",children:\"View all\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-gray-200\",children:isLoading?// Loading state - skeleton entries\nArray.from({length:5}).map((_,i)=>/*#__PURE__*/_jsx(JournalEntrySkeleton,{},i)):!hasMilestones?/*#__PURE__*/// Empty state - no milestone entries\n_jsxs(\"div\",{className:\"px-6 py-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-16 w-16\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:1,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"No milestone entries yet\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddSkill,className:\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Add your first milestone entry\",children:\"Add Skill\"})]}):// Normal state - milestone entries\nmilestoneEntries.slice(0,10).map(entry=>/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 hover:bg-gray-50 transition-colors\",role:\"article\",\"aria-labelledby\":`milestone-${entry.id}-title`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl\",\"aria-hidden\":\"true\",children:entry.domainIcon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{id:`milestone-${entry.id}-title`,className:\"text-sm font-medium text-gray-900\",children:entry.skillName}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${getStatusBadgeColor(entry.status)}`,role:\"status\",\"aria-label\":`Status: ${entry.status}`,children:entry.status}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[entry.date,\" \\u2022 \",getContextLabel(entry.context)]})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewMilestone(entry.id),className:\"text-sm font-medium text-blue-600 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":`View details for ${entry.skillName}`,children:\"View\"})]})},entry.id))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 pt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"CareGene \\u2022 Growth & Development Tracking\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettingsModal(true),className:\"text-sm font-medium text-blue-600 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Open milestone settings\",children:\"Milestone settings\"})]})})})]}),activeGrowthTab==='overview'&&/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Cross-Domain Progress\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Date range:\"}),/*#__PURE__*/_jsxs(\"select\",{value:overviewDateRange,onChange:e=>setOverviewDateRange(e.target.value),className:\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"This week\",children:\"This week\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30 days\",children:\"30 days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"90 days\",children:\"90 days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Custom\",children:\"Custom\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-blue-600\",children:\"Observed Skills\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-blue-900\",children:getTotalObservedSkills()}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-700\",children:\"Total in range\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-400\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-yellow-600\",children:\"Emerging Skills\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-yellow-900\",children:getTotalEmergingSkills()}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-yellow-700\",children:\"In development\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-yellow-400\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 10V3L4 14h7v7l9-11h-7z\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 border border-green-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-green-600\",children:\"New This Period\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-900\",children:getNewSkillsThisPeriod()}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-green-700\",children:\"Last 30 days\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-green-400\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 6v6m0 0v6m0-6h6m-6 0H6\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-50 border border-purple-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-purple-600\",children:\"Practice Streak\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-purple-900\",children:getPracticeStreak()}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-purple-700\",children:\"Days with updates\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-purple-400\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 10V3L4 14h7v7l9-11h-7z\"})})})]})})]})]})}),showAddSkillSheet&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"add-skill-title\",\"aria-describedby\":\"add-skill-description\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-10 mx-auto p-6 border w-full max-w-2xl shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{id:\"add-skill-title\",className:\"text-xl font-semibold text-gray-900\",children:\"Add Skill\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddSkillSheet(false),className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close add skill form\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"Add skill progress\",className:\"flex items-center justify-between mb-6\",children:[1,2,3,4,5,6].map(step=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${step===currentStep?'bg-blue-600 text-white':step<currentStep?'bg-green-500 text-white':'bg-gray-200 text-gray-600'}`,\"aria-current\":step===currentStep?'step':undefined,\"aria-label\":`Step ${step}${step<currentStep?' completed':step===currentStep?' current':''}`,children:step<currentStep?'âœ“':step}),step<6&&/*#__PURE__*/_jsx(\"div\",{className:`w-16 h-1 mx-2 ${step<currentStep?'bg-green-500':'bg-gray-200'}`,\"aria-hidden\":\"true\"})]},step))}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-64\",id:\"add-skill-description\",children:[currentStep===1&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Choose Domain\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-3\",children:domains.map(domain=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSelectedDomain(domain.id);handleNextStep();},className:`p-4 border rounded-lg text-left hover:border-blue-300 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 ${selectedDomain===domain.id?'border-blue-500 bg-blue-50':'border-gray-200'}`,\"aria-pressed\":selectedDomain===domain.id,\"aria-label\":`Select ${domain.name} domain${domain.subtitle?` (${domain.subtitle})`:''}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",\"aria-hidden\":\"true\",children:domain.icon}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:domain.name}),domain.subtitle&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:domain.subtitle})]},domain.id))})]}),currentStep===2&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Select Skill\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"skill-search\",className:\"sr-only\",children:\"Search skills\"}),/*#__PURE__*/_jsx(\"input\",{id:\"skill-search\",type:\"text\",placeholder:\"Search skills...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\"aria-label\":\"Search skills by name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"w-full px-3 py-2 text-sm font-medium text-gray-400 bg-gray-50 border border-gray-200 rounded-md cursor-not-allowed opacity-60\",title:\"Coming soon\",\"aria-label\":\"Use AI to pick skill (coming soon)\",children:\"Use AI to pick skill\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-1 text-center\",children:\"Coming soon\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 max-h-48 overflow-y-auto\",role:\"listbox\",\"aria-label\":\"Available skills\",children:displayedSkills.map(skill=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSelectedSkill(skill.id);handleNextStep();},className:`w-full p-3 text-left border rounded-lg hover:border-blue-300 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 ${selectedSkill===skill.id?'border-blue-500 bg-blue-50':'border-gray-200'}`,role:\"option\",\"aria-selected\":selectedSkill===skill.id,\"aria-label\":`Select skill: ${skill.name} (${skill.ageBand} level)`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:skill.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:skill.description}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400 mt-1\",children:skill.ageBand})]},skill.id))}),filteredSkills.length>10&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAllSkills(!showAllSkills),className:\"mt-3 text-blue-600 hover:text-blue-700 text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-expanded\":showAllSkills,\"aria-controls\":\"skill-list\",children:showAllSkills?'Show top 10':`Show all ${filteredSkills.length} skills in domain`})]}),currentStep===3&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Mark Status\"}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"sr-only\",children:\"Skill status options\"}),['Observed','Emerging','Not yet','Not applicable'].map(status=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:status,checked:skillStatus===status,onChange:e=>setSkillStatus(e.target.value),className:\"mr-3 text-blue-600 focus:ring-blue-500\",\"aria-describedby\":`status-${status.toLowerCase().replace(' ','-')}-help`}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900\",children:status})]},status))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"status-observed-help\",children:\"Observed: You've seen your child demonstrate this skill\"}),/*#__PURE__*/_jsx(\"p\",{id:\"status-emerging-help\",children:\"Emerging: Your child is starting to show this skill\"}),/*#__PURE__*/_jsx(\"p\",{id:\"status-not-yet-help\",children:\"Not yet: Your child hasn't shown this skill yet\"}),/*#__PURE__*/_jsx(\"p\",{id:\"status-not-applicable-help\",children:\"N/A: This skill doesn't apply to your child's situation\"})]})]}),currentStep===4&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Date Observed\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date-observed\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"When did you observe this skill?\"}),/*#__PURE__*/_jsx(\"input\",{id:\"date-observed\",type:\"date\",value:dateObserved,onChange:e=>setDateObserved(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\"aria-describedby\":\"date-observed-help\"}),/*#__PURE__*/_jsx(\"p\",{id:\"date-observed-help\",className:\"mt-1 text-sm text-gray-500\",children:\"Select the date when you first noticed this skill, or today if you're observing it now.\"})]}),currentStep===5&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Supports Used (Optional)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-4\",children:\"Select any supports or accommodations that helped your child demonstrate this skill.\"}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"sr-only\",children:\"Support options\"}),supportsOptions.map(support=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:supportsUsed.includes(support),onChange:e=>{if(e.target.checked){setSupportsUsed([...supportsUsed,support]);}else{setSupportsUsed(supportsUsed.filter(s=>s!==support));}},className:\"mr-2 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900 capitalize\",children:support})]},support))]})]}),currentStep===6&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Context and Notes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Context (Optional)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-3\",children:\"Where and when did you observe this skill?\"}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"sr-only\",children:\"Context options\"}),contextOptions.map(ctx=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:context.includes(ctx),onChange:e=>{if(e.target.checked){setContext([...context,ctx]);}else{setContext(context.filter(c=>c!==ctx));}},className:\"mr-2 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900 capitalize\",children:ctx})]},ctx))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"skill-notes\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Notes (Optional, 200 chars)\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"skill-notes\",value:notes,onChange:e=>setNotes(e.target.value.slice(0,200)),rows:3,placeholder:\"Add any additional notes about how your child demonstrated this skill...\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\"aria-describedby\":\"notes-counter\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"notes-counter\",className:\"text-right text-sm text-gray-500 mt-1\",children:[notes.length,\"/200\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between pt-6 border-t\",children:[/*#__PURE__*/_jsx(\"div\",{children:currentStep>1&&/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevStep,className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Go to previous step\",children:\"Back\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddSkillSheet(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Cancel adding skill\",children:\"Cancel\"}),currentStep===6?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Save skill entry\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveAndAddAnother,className:\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Save skill and add another\",children:\"Save & Add Another\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:handleNextStep,disabled:!selectedDomain||currentStep===2&&!selectedSkill,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\",\"aria-label\":\"Go to next step\",\"aria-describedby\":!selectedDomain||currentStep===2&&!selectedSkill?\"next-step-error\":undefined,children:\"Next\"})]})]}),(!selectedDomain||currentStep===2&&!selectedSkill)&&/*#__PURE__*/_jsx(\"div\",{id:\"next-step-error\",className:\"mt-2 text-sm text-red-600\",role:\"alert\",children:\"Please complete the current step before continuing.\"})]})}),showMilestoneDetail&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Milestone Detail\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-4\",children:\"This feature will show detailed milestone information.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMilestoneDetail(null),className:\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Close\"})]})})}),showSettingsModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"settings-modal-title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-10 mx-auto p-6 border w-full max-w-md shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"settings-modal-title\",className:\"text-lg font-semibold text-gray-900\",children:\"Milestone Settings\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettingsModal(false),className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close settings modal\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Default view\"}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"sr-only\",children:\"Default view options\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"defaultView\",value:\"age-based\",checked:defaultView==='age-based',onChange:e=>setDefaultView(e.target.value),className:\"mr-3 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900\",children:\"Age-based (chronological age)\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"defaultView\",value:\"developmental\",checked:defaultView==='developmental',onChange:e=>setDefaultView(e.target.value),className:\"mr-3 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900\",children:\"Developmental level\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-gray-500\",children:\"Choose how milestones are displayed by default when you visit this page.\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Show skills beyond current level\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"Display skills that are typically achieved at higher age/developmental levels\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSkillsBeyondLevel(!showSkillsBeyondLevel),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${showSkillsBeyondLevel?'bg-blue-600':'bg-gray-200'}`,role:\"switch\",\"aria-checked\":showSkillsBeyondLevel,\"aria-label\":\"Toggle showing skills beyond current level\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${showSkillsBeyondLevel?'translate-x-6':'translate-x-1'}`})})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Weekly reminder to review milestones\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"Get notified weekly to review and update your child's milestone progress\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setWeeklyReminder(!weeklyReminder),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${weeklyReminder?'bg-blue-600':'bg-gray-200'}`,role:\"switch\",\"aria-checked\":weeklyReminder,\"aria-label\":\"Toggle weekly milestone reminders\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${weeklyReminder?'translate-x-6':'translate-x-1'}`})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-6 border-t\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettingsModal(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Cancel settings changes\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveSettings,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Save milestone settings\",children:\"Save\"})]})]})}),showReportModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"report-modal-title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-10 mx-auto p-6 border w-full max-w-md shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"report-modal-title\",className:\"text-lg font-semibold text-gray-900\",children:\"Milestone Report (last 30 days)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowReportModal(false);setReportReady(false);setIsGeneratingReport(false);},className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close report modal\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),!isGeneratingReport&&!reportReady&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Include domains\"}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"sr-only\",children:\"Domain selection options\"}),[{id:'motor',name:'Motor (Gross & Fine)',icon:'ðŸƒ'},{id:'communication',name:'Communication (Expressive & Receptive)',icon:'ðŸ’¬'},{id:'social-emotional',name:'Social-Emotional',icon:'ðŸ˜Š'},{id:'cognitive-play',name:'Cognitive/Play',icon:'ðŸ§©'},{id:'adaptive-self-help',name:'Adaptive/Self-Help',icon:'ðŸ‘•'}].map(domain=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:reportOptions.domains.includes(domain.id),onChange:e=>{if(e.target.checked){setReportOptions(prev=>({...prev,domains:[...prev.domains,domain.id]}));}else{setReportOptions(prev=>({...prev,domains:prev.domains.filter(d=>d!==domain.id)}));}},className:\"mr-3 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",\"aria-hidden\":\"true\",children:domain.icon}),domain.name]})]},domain.id))]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Include Emerging skills\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"Show skills that your child is starting to demonstrate\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setReportOptions(prev=>({...prev,includeEmerging:!prev.includeEmerging})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${reportOptions.includeEmerging?'bg-blue-600':'bg-gray-200'}`,role:\"switch\",\"aria-checked\":reportOptions.includeEmerging,\"aria-label\":\"Toggle including emerging skills in report\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${reportOptions.includeEmerging?'translate-x-6':'translate-x-1'}`})})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Include Notes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"Include any additional notes you've added to milestone entries\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setReportOptions(prev=>({...prev,includeNotes:!prev.includeNotes})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${reportOptions.includeNotes?'bg-blue-600':'bg-gray-200'}`,role:\"switch\",\"aria-checked\":reportOptions.includeNotes,\"aria-label\":\"Toggle including notes in report\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${reportOptions.includeNotes?'translate-x-6':'translate-x-1'}`})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-6 border-t\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowReportModal(false);setReportReady(false);setIsGeneratingReport(false);},className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Cancel report generation\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerateReport,disabled:reportOptions.domains.length===0,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\",\"aria-label\":\"Generate milestone report PDF\",\"aria-describedby\":reportOptions.domains.length===0?\"domain-selection-error\":undefined,children:\"Generate PDF\"})]}),reportOptions.domains.length===0&&/*#__PURE__*/_jsx(\"div\",{id:\"domain-selection-error\",className:\"mt-2 text-sm text-red-600\",role:\"alert\",children:\"Please select at least one domain to include in the report.\"})]}),isGeneratingReport&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Generating Report\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Please wait while we compile your milestone data...\"})]}),reportReady&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-green-500 mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-16 w-16\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Download Ready\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-6\",children:\"Your milestone report has been generated successfully.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDownloadReport,className:\"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Download milestone report PDF\",children:\"Download PDF\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveToVisitPacket,className:\"w-full px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Save report to Visit Packet\",children:\"Save to Visit Packet\"})]})]})]})}),showAISuggestionsModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"ai-suggestions-title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-10 mx-auto p-6 border w-full max-w-md shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"ai-suggestions-title\",className:\"text-lg font-semibold text-gray-900\",children:\"AI Skill Suggestions\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAISuggestionsModal(false),className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close AI suggestions modal\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Based on your child's current skills and developmental level, here are some suggested next skills to work on:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gray-50 border border-gray-200 rounded-lg opacity-60\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-sm font-medium text-gray-700\",children:\"Fine motor precision\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Practice stacking 4-5 blocks with steady hands\"})]}),/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"px-3 py-1 text-xs font-medium text-gray-400 bg-gray-200 border border-gray-300 rounded cursor-not-allowed\",children:\"Accept\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gray-50 border border-gray-200 rounded-lg opacity-60\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-sm font-medium text-gray-700\",children:\"Bilateral coordination\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Use both hands together for activities like clapping\"})]}),/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"px-3 py-1 text-xs font-medium text-gray-400 bg-gray-200 border border-gray-300 rounded cursor-not-allowed\",children:\"Accept\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gray-50 border border-gray-200 rounded-lg opacity-60\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-sm font-medium text-gray-700\",children:\"Hand-eye coordination\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Practice throwing and catching a soft ball\"})]}),/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"px-3 py-2 text-xs font-medium text-gray-400 bg-gray-200 border border-gray-300 rounded cursor-not-allowed\",children:\"Accept\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-800 font-medium\",children:\"AI-powered suggestions coming soon!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-700 mt-1\",children:\"We're working on intelligent skill recommendations based on your child's unique development pattern.\"})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAISuggestionsModal(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close AI suggestions\",children:\"Close\"})})]})}),showDomainDetailModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"domain-detail-title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-10 mx-auto p-6 border w-full max-w-7xl shadow-lg rounded-md bg-white h-[90vh] overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6 border-b border-gray-200 pb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{id:\"domain-detail-title\",className:\"text-xl font-semibold text-gray-900\",children:((_domains$find=domains.find(d=>d.id===selectedDomainForDetail))===null||_domains$find===void 0?void 0:_domains$find.name)||'Domain'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"Track skills and explore care ideas.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"px-3 py-2 text-xs font-medium text-gray-400 bg-gray-50 border border-gray-200 rounded-md cursor-not-allowed opacity-60\",title:\"Coming soon\",\"aria-label\":\"Suggest next skills with AI (coming soon)\",children:\"Suggest next skills (AI)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowReportModal(true),className:\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Export domain report\",children:\"Export domain report\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddSkill,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Add skill to this domain\",children:\"Add Skill\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDomainDetailModal(false),className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close domain detail modal\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center px-4 py-2 bg-blue-50 border border-blue-200 rounded-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-6 h-6\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-6 h-6 transform -rotate-90\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",fill:\"none\",stroke:\"#e5e7eb\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",fill:\"none\",stroke:\"#3b82f6\",strokeWidth:\"2\",strokeDasharray:\"62.83\",strokeDashoffset:\"37.7\",strokeLinecap:\"round\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-blue-600\",children:\"3/5\"})})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-900\",children:\"Observed 3 of 5 suggested skills\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200 mb-6\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"flex space-x-8\",\"aria-label\":\"Domain detail tabs\",children:['Skills','Care Ideas','Progress'].map(tab=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveMobileTab(tab),className:`py-2 px-1 border-b-2 font-medium text-sm ${activeMobileTab===tab?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\"aria-label\":`View ${tab.toLowerCase()} tab`,children:tab},tab))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"h-[calc(90vh-200px)] overflow-y-auto\",children:[activeMobileTab==='Skills'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:\"Skills Checklist\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Coming in Phase 5B Step 4\"})]}),activeMobileTab==='Care Ideas'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:\"Care Ideas\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Coming in Phase 5B Step 5\"})]}),activeMobileTab==='Progress'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:\"Progress Timeline\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Coming in Phase 5B Step 6\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden lg:flex lg:space-x-8 h-[calc(90vh-200px)]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 bg-gray-50 rounded-lg p-6 overflow-y-auto\",role:\"region\",\"aria-label\":\"Skills Checklist\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Skills Checklist\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg border border-gray-200 p-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"skills-search\",className:\"sr-only\",children:\"Search skills\"}),/*#__PURE__*/_jsx(\"input\",{id:\"skills-search\",type:\"text\",placeholder:\"Search skills...\",value:skillsSearchQuery,onChange:e=>setSkillsSearchQuery(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\"aria-label\":\"Search skills by name or description\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"level-filter\",className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Level\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"level-filter\",value:skillsLevelFilter,onChange:e=>setSkillsLevelFilter(e.target.value),className:\"w-full text-sm border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"All levels\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Early\",children:\"Early (0-12m)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Toddler\",children:\"Toddler (12-36m)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Preschool\",children:\"Preschool (3-5y)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"School-age\",children:\"School-age (5+)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Subdomain\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1\",children:(_domainSubdomains=domainSubdomains[selectedDomainForDetail])===null||_domainSubdomains===void 0?void 0:_domainSubdomains.map(subdomain=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(skillsSubdomainFilter.includes(subdomain.toLowerCase())){setSkillsSubdomainFilter(prev=>prev.filter(s=>s!==subdomain.toLowerCase()));}else{setSkillsSubdomainFilter(prev=>[...prev,subdomain.toLowerCase()]);}},className:`px-2 py-1 text-xs rounded-full border ${skillsSubdomainFilter.includes(subdomain.toLowerCase())?'bg-blue-100 border-blue-300 text-blue-800':'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'}`,\"aria-label\":`Filter by ${subdomain} subdomain`,children:subdomain},subdomain))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"status-filter\",className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"status-filter\",value:skillsStatusFilter,onChange:e=>setSkillsStatusFilter(e.target.value),className:\"w-full text-sm border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"All statuses\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Observed\",children:\"Observed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Emerging\",children:\"Emerging\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Not yet\",children:\"Not yet\"}),/*#__PURE__*/_jsx(\"option\",{value:\"N/A\",children:\"N/A\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"sort-filter\",className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Sort\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"sort-filter\",value:skillsSortBy,onChange:e=>setSkillsSortBy(e.target.value),className:\"w-full text-sm border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Recommended\",children:\"Recommended\"}),/*#__PURE__*/_jsx(\"option\",{value:\"A-Z\",children:\"A-Z\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Recently updated\",children:\"Recently updated\"})]})]})]})]}),selectedSkills.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-blue-800\",children:[selectedSkills.length,\" skill\",selectedSkills.length!==1?'s':'',\" selected\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleBulkAction('mark-observed'),className:\"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 border border-blue-300 rounded hover:bg-blue-200\",children:\"Mark Observed\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleBulkAction('mark-emerging'),className:\"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 border border-blue-300 rounded hover:bg-blue-200\",children:\"Mark Emerging\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddSelectedToVisitPacket,className:\"px-3 py-1 text-xs font-medium text-green-700 bg-green-100 border border-green-300 rounded hover:bg-green-200\",children:\"Add selected to Visit Packet\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:(()=>{const{suggested,stretchNext,foundations}=getFilteredAndGroupedSkills();return/*#__PURE__*/_jsxs(_Fragment,{children:[suggested.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-sm font-medium text-gray-900 mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-green-500 rounded-full mr-2\"}),\"Suggested now (\",suggested.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:suggested.map(skill=>/*#__PURE__*/_jsx(SkillRow,{skill:skill,status:skillStatuses[skill.id]||'Not yet',lastObserved:lastObservedDates[skill.id],supports:sampleSupportsUsed[skill.id]||[],isSelected:selectedSkills.includes(skill.id),isFocused:focusedSkillId===skill.id,index:suggested.indexOf(skill),onSelectionChange:selected=>{if(selected){setSelectedSkills(prev=>[...prev,skill.id]);}else{setSelectedSkills(prev=>prev.filter(id=>id!==skill.id));}},onStatusChange:status=>handleSkillStatusChange(skill.id,status),onSupportsUpdate:supports=>handleSkillSupportsUpdate(skill.id,supports),onKeyDown:e=>handleKeyDown(e,skill.id,suggested.indexOf(skill)),onFocus:()=>handleSkillFocus(skill.id,suggested.indexOf(skill))},skill.id))})]}),stretchNext.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-sm font-medium text-gray-900 mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-blue-500 rounded-full mr-2\"}),\"Stretch next (\",stretchNext.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:stretchNext.map(skill=>/*#__PURE__*/_jsx(SkillRow,{skill:skill,status:skillStatuses[skill.id]||'Not yet',lastObserved:lastObservedDates[skill.id],supports:sampleSupportsUsed[skill.id]||[],isSelected:selectedSkills.includes(skill.id),isFocused:focusedSkillId===skill.id,index:stretchNext.indexOf(skill),onSelectionChange:selected=>{if(selected){setSelectedSkills(prev=>[...prev,skill.id]);}else{setSelectedSkills(prev=>prev.filter(id=>id!==skill.id));}},onStatusChange:status=>handleSkillStatusChange(skill.id,status),onSupportsUpdate:supports=>handleSkillSupportsUpdate(skill.id,supports),onKeyDown:e=>handleKeyDown(e,skill.id,stretchNext.indexOf(skill)),onFocus:()=>handleSkillFocus(skill.id,stretchNext.indexOf(skill))},skill.id))})]}),foundations.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-sm font-medium text-gray-900 mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-gray-500 rounded-full mr-2\"}),\"Foundations (\",foundations.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:foundations.map(skill=>/*#__PURE__*/_jsx(SkillRow,{skill:skill,status:skillStatuses[skill.id]||'Not yet',lastObserved:lastObservedDates[skill.id],supports:sampleSupportsUsed[skill.id]||[],isSelected:selectedSkills.includes(skill.id),isFocused:focusedSkillId===skill.id,index:foundations.indexOf(skill),onSelectionChange:selected=>{if(selected){setSelectedSkills(prev=>[...prev,skill.id]);}else{setSelectedSkills(prev=>prev.filter(id=>id!==skill.id));}},onStatusChange:status=>handleSkillStatusChange(skill.id,status),onSupportsUpdate:supports=>handleSkillSupportsUpdate(skill.id,supports),onKeyDown:e=>handleKeyDown(e,skill.id,foundations.indexOf(skill)),onFocus:()=>handleSkillFocus(skill.id,foundations.indexOf(skill))},skill.id))})]}),suggested.length===0&&stretchNext.length===0&&foundations.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"No skills match the current filters.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Try adjusting your search or filter criteria.\"})]})]});})()}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 pt-4 border-t border-gray-200\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCustomSkillForm(true),className:\"w-full px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Add custom skill\",children:\"+ Add custom skill\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-80 bg-white rounded-lg border border-gray-200 p-6 overflow-y-auto lg:sticky lg:top-6 lg:self-start\",role:\"region\",\"aria-label\":\"Care Ideas\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:[\"Care Ideas for \",(selectedDomainForDetail===null||selectedDomainForDetail===void 0?void 0:selectedDomainForDetail.charAt(0).toUpperCase())+(selectedDomainForDetail===null||selectedDomainForDetail===void 0?void 0:selectedDomainForDetail.slice(1))]}),/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"px-3 py-1 text-xs font-medium text-gray-400 bg-gray-100 border border-gray-200 rounded cursor-not-allowed\",title:\"Coming soon\",\"aria-label\":\"Generate care ideas using AI (coming soon)\",children:\"Generate care ideas (AI)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-2\",children:\"Environment\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1\",children:['home','school','therapy','community'].map(env=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(careIdeasEnvironment.includes(env)){setCareIdeasEnvironment(prev=>prev.filter(e=>e!==env));}else{setCareIdeasEnvironment(prev=>[...prev,env]);}},className:`px-2 py-1 text-xs rounded-full border ${careIdeasEnvironment.includes(env)?'bg-blue-100 border-blue-300 text-blue-800':'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'}`,\"aria-label\":`Filter by ${env} environment`,children:env.charAt(0).toUpperCase()+env.slice(1)},env))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-2\",children:\"Supports available\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1\",children:['Visuals','AAC','Adaptive utensils','Orthotics','Timer','Sensory breaks'].map(support=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(careIdeasSupports.includes(support.toLowerCase())){setCareIdeasSupports(prev=>prev.filter(s=>s!==support.toLowerCase()));}else{setCareIdeasSupports(prev=>[...prev,support.toLowerCase()]);}},className:`px-2 py-1 text-xs rounded-full border ${careIdeasSupports.includes(support.toLowerCase())?'bg-green-100 border-green-300 text-green-800':'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'}`,\"aria-label\":`Filter by ${support} support`,children:support},support))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-2\",children:\"Time available\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-1\",children:['5 min','10-15 min','20+ min'].map(time=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCareIdeasTimeAvailable(time),className:`px-3 py-1 text-xs rounded-md border ${careIdeasTimeAvailable===time?'bg-purple-100 border-purple-300 text-purple-800':'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'}`,\"aria-label\":`Select ${time} time available`,children:time},time))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:(()=>{const filteredIdeas=getFilteredCareIdeas();if(filteredIdeas.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mb-3\",children:\"Log or update skills to see tailored ideas.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// TODO: Navigate to skills section\nconsole.log('Navigate to skills');},className:\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100\",children:\"Go to Skills\"})]});}return filteredIdeas.map(idea=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-900\",children:idea.title}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-400 hover:text-gray-600\",\"aria-label\":\"Pin to shortcuts\",title:\"Pin to shortcuts\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-1 mb-3\",children:[idea.goalTags.map(tag=>/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",children:tag},tag)),/*#__PURE__*/_jsx(\"span\",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${idea.levelTag==='Suggested now'?'bg-green-100 text-green-800':idea.levelTag==='Stretch'?'bg-yellow-100 text-yellow-800':'bg-gray-100 text-gray-800'}`,children:idea.levelTag})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-gray-700\",children:\"Materials: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600\",children:idea.materials.join(', ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-gray-700\",children:\"Steps:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"mt-1 space-y-1\",children:idea.steps.map((step,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"text-xs text-gray-600 flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 mr-1\",children:\"\\u2022\"}),step]},index))})]}),idea.adaptations.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-gray-700\",children:\"Adaptations: \"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1 mt-1\",children:idea.adaptations.map(adaptation=>/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800\",children:adaptation},adaptation))})]}),idea.safetyNote&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 p-2 bg-red-50 border border-red-200 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-red-800\",children:\"Safety: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-red-700\",children:idea.safetyNote})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 pt-3 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"flex-1 px-2 py-1 text-xs font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded hover:bg-blue-100\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{className:\"flex-1 px-2 py-1 text-xs font-medium text-gray-600 bg-gray-50 border border-gray-200 rounded hover:bg-gray-100\",children:\"Print\"}),/*#__PURE__*/_jsx(\"button\",{className:\"flex-1 px-2 py-1 text-xs font-medium text-green-600 bg-green-50 border border-green-200 rounded hover:bg-green-100\",children:\"Share\"})]})]},idea.id));})()})]})]})]})}),showCustomSkillForm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"custom-skill-title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-10 mx-auto p-6 border w-full max-w-md shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"custom-skill-title\",className:\"text-lg font-semibold text-gray-900\",children:\"Add Custom Skill\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCustomSkillForm(false),className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close custom skill form\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"custom-skill-name\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Skill Name *\"}),/*#__PURE__*/_jsx(\"input\",{id:\"custom-skill-name\",type:\"text\",value:customSkillForm.name,onChange:e=>setCustomSkillForm(prev=>({...prev,name:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Enter skill name\",\"aria-describedby\":\"skill-name-help\"}),/*#__PURE__*/_jsx(\"p\",{id:\"skill-name-help\",className:\"mt-1 text-sm text-gray-500\",children:\"Describe the specific skill you want to track\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"custom-skill-subdomain\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Subdomain *\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"custom-skill-subdomain\",value:customSkillForm.subdomain,onChange:e=>setCustomSkillForm(prev=>({...prev,subdomain:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select subdomain\"}),(_domainSubdomains2=domainSubdomains[selectedDomainForDetail])===null||_domainSubdomains2===void 0?void 0:_domainSubdomains2.map(subdomain=>/*#__PURE__*/_jsx(\"option\",{value:subdomain.toLowerCase(),children:subdomain},subdomain))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"custom-skill-level\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Level Band\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"custom-skill-level\",value:customSkillForm.levelBand,onChange:e=>setCustomSkillForm(prev=>({...prev,levelBand:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Early\",children:\"Early (0-12m)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Toddler\",children:\"Toddler (12-36m)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Preschool\",children:\"Preschool (3-5y)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"School-age\",children:\"School-age (5+)\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-6 border-t\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCustomSkillForm(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Cancel adding custom skill\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddCustomSkill,disabled:!customSkillForm.name||!customSkillForm.subdomain,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\",\"aria-label\":\"Save custom skill\",children:\"Save\"})]})]})}),showSkillHistory&&selectedSkillForHistory&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-6 border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:selectedSkillForHistory.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 capitalize\",children:[selectedSkillForHistory.subdomain,\" \\u2022 \",selectedSkillForHistory.ageBand]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSkillHistory(false),className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close skill history\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 mb-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleEditLastEntry,className:\"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Edit last entry\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddNoteForm(true),className:\"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-50 border border-gray-200 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\",children:\"Add note\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-900 mb-4\",children:\"Status Changes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[(_skillHistoryData$sel=skillHistoryData[selectedSkillForHistory.id])===null||_skillHistoryData$sel===void 0?void 0:(_skillHistoryData$sel2=_skillHistoryData$sel.statusChanges)===null||_skillHistoryData$sel2===void 0?void 0:_skillHistoryData$sel2.map((change,index)=>{var _skillHistoryData$sel3,_skillHistoryData$sel4;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative pl-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-0 top-2 w-3 h-3 bg-blue-500 rounded-full\"}),index<(((_skillHistoryData$sel3=skillHistoryData[selectedSkillForHistory.id])===null||_skillHistoryData$sel3===void 0?void 0:(_skillHistoryData$sel4=_skillHistoryData$sel3.statusChanges)===null||_skillHistoryData$sel4===void 0?void 0:_skillHistoryData$sel4.length)||0)-1&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-1.5 top-5 w-0.5 h-8 bg-gray-200\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900\",children:change.status}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:new Date(change.date).toLocaleDateString()})]}),change.supports.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600\",children:\"Supports: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-800\",children:change.supports.join(', ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"Updated by \",change.author]})]})]},index);}),(!((_skillHistoryData$sel5=skillHistoryData[selectedSkillForHistory.id])!==null&&_skillHistoryData$sel5!==void 0&&_skillHistoryData$sel5.statusChanges)||skillHistoryData[selectedSkillForHistory.id].statusChanges.length===0)&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4 text-gray-500\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"No status changes recorded yet.\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-900 mb-4\",children:\"Notes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[(_skillHistoryData$sel6=skillHistoryData[selectedSkillForHistory.id])===null||_skillHistoryData$sel6===void 0?void 0:(_skillHistoryData$sel7=_skillHistoryData$sel6.notes)===null||_skillHistoryData$sel7===void 0?void 0:_skillHistoryData$sel7.map((note,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-yellow-800\",children:note.author}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-yellow-600\",children:new Date(note.timestamp).toLocaleString()})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-900\",children:note.text})]},index)),(!((_skillHistoryData$sel8=skillHistoryData[selectedSkillForHistory.id])!==null&&_skillHistoryData$sel8!==void 0&&_skillHistoryData$sel8.notes)||skillHistoryData[selectedSkillForHistory.id].notes.length===0)&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4 text-gray-500\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"No notes yet.\"})})]})]})]})]})}),showAddNoteForm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 z-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 max-w-md w-full mx-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Add Note\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddNoteForm(false),className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close add note form\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"note-text\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Note *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"note-text\",value:newNoteText,onChange:e=>setNewNoteText(e.target.value),rows:4,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Enter your note about this skill...\",\"aria-describedby\":\"note-help\"}),/*#__PURE__*/_jsx(\"p\",{id:\"note-help\",className:\"mt-1 text-sm text-gray-500\",children:\"Add observations, progress notes, or reminders about this skill.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddNoteForm(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddNote,disabled:!newNoteText.trim(),className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Add Note\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden lg:block mt-8 bg-white rounded-lg border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:\"Progress Timeline\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Time scope:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1\",children:['30 days','90 days','Custom'].map(scope=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setProgressTimeScope(scope),className:`px-3 py-1 text-xs rounded-md border ${progressTimeScope===scope?'bg-blue-100 border-blue-300 text-blue-800':'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'}`,children:scope},scope))}),progressTimeScope==='Custom'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:progressCustomStartDate,onChange:e=>setProgressCustomStartDate(e.target.value),className:\"text-xs border border-gray-300 rounded px-2 py-1\",placeholder:\"Start date\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"to\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:progressCustomEndDate,onChange:e=>setProgressCustomEndDate(e.target.value),className:\"text-xs border border-gray-300 rounded px-2 py-1\",placeholder:\"End date\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"View:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1\",children:['By date','By subdomain'].map(view=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setProgressView(view),className:`px-3 py-1 text-xs rounded-md border ${progressView===view?'bg-green-100 border-green-300 text-green-800':'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'}`,children:view},view))})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:(()=>{const progressData=getProgressDataForDomain();if(!progressData){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"No progress data available for this domain.\"})});}if(progressView==='By date'){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-900 mb-4\",children:\"Timeline View\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:progressData.timeline.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative pl-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:`absolute left-4 top-2 w-4 h-4 rounded-full border-2 ${item.status==='Observed'?'bg-green-500 border-green-600':'bg-yellow-500 border-yellow-600'}`}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900\",children:item.skill}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:new Date(item.date).toLocaleDateString()})]}),/*#__PURE__*/_jsx(\"span\",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${item.status==='Observed'?'bg-green-100 text-green-800':'bg-yellow-100 text-yellow-800'}`,children:item.status})]})]},index))})]})]});}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-900 mb-4\",children:\"Subdomain View\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-6\",children:Object.entries(progressData.subdomains).map(_ref2=>{let[subdomain,counts]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700 capitalize\",children:subdomain}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[counts.observed+counts.emerging,\" skills\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 w-16\",children:\"Observed:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500 h-3 rounded-full transition-all duration-300\",style:{width:`${counts.observed/Math.max(counts.observed+counts.emerging,1)*100}%`}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-700 w-8\",children:counts.observed})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 w-16\",children:\"Emerging:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-500 h-3 rounded-full transition-all duration-300\",style:{width:`${counts.emerging/Math.max(counts.observed+counts.emerging,1)*100}%`}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-700 w-8\",children:counts.emerging})]})]})]},subdomain);})})]});}})()}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-900 mb-4\",children:\"New skills added\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-3\",children:(()=>{const progressData=getProgressDataForDomain();if(!progressData||progressData.timeline.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"col-span-2 text-center py-4 text-gray-500\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"No new skills in the selected time period.\"})});}return progressData.timeline.filter(item=>item.status==='Observed').map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:item.skill}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:new Date(item.date).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// TODO: Navigate to skill history\nconsole.log('Navigate to skill history for:',item.skill);},className:\"text-xs text-blue-600 hover:text-blue-700 underline\",children:\"View history\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(visitPacketItems.has(item.skill)){handleRemoveFromVisitPacket(item.skill,'Progress item');}else{handleAddToVisitPacket(item.skill,'Progress item');}},className:`text-xs px-2 py-1 rounded ${visitPacketItems.has(item.skill)?'text-red-600 bg-red-50 border border-red-200':'text-green-600 bg-green-50 border border-green-200'}`,children:visitPacketItems.has(item.skill)?'Remove':'Add to Visit Packet'})]})]},index));})()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleExportDomainProgress,className:\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Export domain progress (PDF)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddToVisitPacket('domain-progress','Domain progress'),className:\"px-4 py-2 text-sm font-medium text-green-600 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\",children:\"Add to Visit Packet\"})]})]}),showExportReportModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"export-report-title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-10 mx-auto p-6 border w-full max-w-2xl shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"export-report-title\",className:\"text-lg font-semibold text-gray-900\",children:\"Export Domain Report\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowExportReportModal(false);setExportReportStatus('options');},className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close export report modal\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),exportReportStatus==='options'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Date Range\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"export-start-date\",className:\"block text-xs font-medium text-gray-600 mb-1\",children:\"Start Date\"}),/*#__PURE__*/_jsx(\"input\",{id:\"export-start-date\",type:\"date\",value:exportReportOptions.dateRange.start,onChange:e=>setExportReportOptions(prev=>({...prev,dateRange:{...prev.dateRange,start:e.target.value}})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"export-end-date\",className:\"block text-xs font-medium text-gray-600 mb-1\",children:\"End Date\"}),/*#__PURE__*/_jsx(\"input\",{id:\"export-end-date\",type:\"date\",value:exportReportOptions.dateRange.end,onChange:e=>setExportReportOptions(prev=>({...prev,dateRange:{...prev.dateRange,end:e.target.value}})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Include\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:[{key:'observed',label:'Observed skills',description:'Skills marked as observed in the selected time range'},{key:'emerging',label:'Emerging skills',description:'Skills marked as emerging in the selected time range'},{key:'notes',label:'Notes and observations',description:'All notes and observations for skills in the selected time range'}].map(option=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:exportReportOptions.include[option.key],onChange:e=>setExportReportOptions(prev=>({...prev,include:{...prev.include,[option.key]:e.target.checked}})),className:\"mt-1 mr-3 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900\",children:option.label}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:option.description})]})]},option.key))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Report Sections\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:[{key:'skillsList',label:'Skills List',description:'Complete list of skills with current status and progress'},{key:'careIdeasSnapshot',label:'Care Ideas Snapshot',description:'Current care ideas and activity suggestions'},{key:'timelineChart',label:'Timeline Chart',description:'Visual timeline of skill development progress'}].map(section=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:exportReportOptions.sections[section.key],onChange:e=>setExportReportOptions(prev=>({...prev,sections:{...prev.sections,[section.key]:e.target.checked}})),className:\"mt-1 mr-3 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900\",children:section.label}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:section.description})]})]},section.key))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4 border-t\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowExportReportModal(false);setExportReportStatus('options');},className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportDomainReport,disabled:!exportReportOptions.dateRange.start||!exportReportOptions.dateRange.end,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Generate PDF\"})]})]}),exportReportStatus==='generating'&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Generating Report\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Creating your domain report with the selected options...\"})]}),exportReportStatus==='ready'&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto mb-4 w-16 h-16 bg-green-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-green-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 13l4 4L19 7\"})})}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Report Ready!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-6\",children:\"Your domain report has been generated successfully.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-center space-y-3 sm:space-y-0 sm:space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDownloadReport,className:\"px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Download Report\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveToVisitPacket,className:\"px-6 py-2 text-sm font-medium text-green-600 bg-green-50 border border-green-200 rounded-md hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\",children:\"Save to Visit Packet\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowExportReportModal(false);setExportReportStatus('options');},className:\"mt-4 text-sm text-gray-500 hover:text-gray-700 underline\",children:\"Close\"})]})]})}),showToast&&/*#__PURE__*/_jsx(\"div\",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg border ${toastType==='success'?'bg-green-50 border-green-200 text-green-800':toastType==='info'?'bg-blue-50 border-blue-200 text-blue-800':'bg-red-50 border-red-200 text-red-800'}`,role:\"alert\",\"aria-live\":\"polite\",\"aria-atomic\":\"true\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[toastType==='success'&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-green-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 13l4 4L19 7\"})}),toastType==='info'&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),toastType==='error'&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-red-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:toastMessage})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-40\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// TODO: Save all changes\nshowToastMessage('Changes saved successfully');},className:\"flex-1 px-4 py-3 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// TODO: Reset changes\nshowToastMessage('Changes reset');},className:\"px-4 py-3 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\",children:\"Reset\"})]})})]});};export default GrowthDevelopmentScreen;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GrowthDevelopmentScreen","_domains$find","_domainSubdomains","_domainSubdomains2","_skillHistoryData$sel","_skillHistoryData$sel2","_skillHistoryData$sel5","_skillHistoryData$sel6","_skillHistoryData$sel7","_skillHistoryData$sel8","showReportModal","setShowReportModal","showSettingsModal","setShowSettingsModal","showAISuggestionsModal","setShowAISuggestionsModal","showDomainDetailModal","setShowDomainDetailModal","selectedDomainForDetail","setSelectedDomainForDetail","activeMobileTab","setActiveMobileTab","activeGrowthTab","setActiveGrowthTab","overviewDateRange","setOverviewDateRange","defaultView","setDefaultView","showSkillsBeyondLevel","setShowSkillsBeyondLevel","weeklyReminder","setWeeklyReminder","reportOptions","setReportOptions","domains","includeEmerging","includeNotes","isGeneratingReport","setIsGeneratingReport","reportReady","setReportReady","useDevelopmentalLevel","setUseDevelopmentalLevel","chronologicalAge","setChronologicalAge","developmentalLevel","setDevelopmentalLevel","timeScope","setTimeScope","showAddSkillSheet","setShowAddSkillSheet","currentStep","setCurrentStep","selectedDomain","setSelectedDomain","selectedSkill","setSelectedSkill","skillStatus","setSkillStatus","dateObserved","setDateObserved","Date","toISOString","split","supportsUsed","setSupportsUsed","context","setContext","notes","setNotes","showAllSkills","setShowAllSkills","searchQuery","setSearchQuery","skillsSearchQuery","setSkillsSearchQuery","skillsLevelFilter","setSkillsLevelFilter","skillsSubdomainFilter","setSkillsSubdomainFilter","skillsStatusFilter","setSkillsStatusFilter","skillsSortBy","setSkillsSortBy","selectedSkills","setSelectedSkills","showCustomSkillForm","setShowCustomSkillForm","customSkillForm","setCustomSkillForm","name","subdomain","levelBand","showSkillHistory","setShowSkillHistory","selectedSkillForHistory","setSelectedSkillForHistory","showAddNoteForm","setShowAddNoteForm","newNoteText","setNewNoteText","id","subtitle","icon","observed","suggested","lastSkill","lastDate","allSkills","domain","ageBand","description","domainSubdomains","milestoneEntries","domainIcon","skillName","status","date","skillStatuses","lastObservedDates","sampleSupportsUsed","supportsOptions","skillHistoryData","statusChanges","supports","author","timestamp","text","showMilestoneDetail","setShowMilestoneDetail","isLoading","setIsLoading","hasMilestones","setHasMilestones","getStatusBadgeColor","getContextLabel","handleViewMilestone","milestoneId","handleViewAllMilestones","console","log","DomainTileSkeleton","className","children","JournalEntrySkeleton","contextOptions","getAgeBandFromChronological","age","includes","months","parseInt","years","isSkillAgeAppropriate","skillAgeBand","selectedAgeBand","ageBands","skillIndex","indexOf","selectedIndex","Math","abs","handleOpenDomain","domainId","handleAddSkill","handleNextStep","handlePrevStep","handleSave","handleSaveAndAddAnother","handleSaveSettings","currentAgeBand","filteredSkills","filter","skill","toLowerCase","ageAppropriateSkills","suggestedSkills","slice","displayedSkills","handleGenerateReport","setTimeout","handleDownloadReport","handleSkillStatusChange","skillId","handleSkillSupportsUpdate","handleBulkAction","action","length","handleAddCustomSkill","getFilteredAndGroupedSkills","filtered","sort","a","b","localeCompare","currentLevel","currentIndex","stretchNext","foundations","focusedSkillIndex","setFocusedSkillIndex","focusedSkillId","setFocusedSkillId","handleKeyDown","event","index","key","preventDefault","nextIndex","min","prevIndex","max","currentStatus","statusOptions","nextStatus","supportsButton","document","querySelector","click","handleSkillFocus","SkillRow","_ref","lastObserved","isSelected","isFocused","onSelectionChange","onStatusChange","onSupportsUpdate","onKeyDown","onFocus","showSupportsPopover","setShowSupportsPopover","showOverflowMenu","setShowOverflowMenu","showDatePicker","setShowDatePicker","selectedDate","setSelectedDate","handleStatusChange","newStatus","handleDateSave","tabIndex","role","type","checked","onChange","e","target","title","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","map","statusOption","value","toLocaleDateString","onClick","option","s","handleViewSkillHistory","visitPacketItems","has","handleRemoveFromVisitPacket","handleAddToVisitPacket","handleAddNote","trim","handleEditLastEntry","careIdeasEnvironment","setCareIdeasEnvironment","careIdeasSupports","setCareIdeasSupports","careIdeasTimeAvailable","setCareIdeasTimeAvailable","careIdeasData","goalTags","levelTag","materials","steps","adaptations","safetyNote","environment","timeRequired","getTotalObservedSkills","getTotalEmergingSkills","getNewSkillsThisPeriod","getPracticeStreak","getFilteredCareIdeas","ideas","idea","some","env","support","notYetOrEmergingCount","shouldShowFoundations","priority","progressTimeScope","setProgressTimeScope","progressView","setProgressView","progressCustomStartDate","setProgressCustomStartDate","progressCustomEndDate","setProgressCustomEndDate","progressData","timeline","subdomains","emerging","getProgressDataForDomain","data","filteredTimeline","endDate","startDate","setDate","getDate","customEnd","item","itemDate","handleExportDomainProgress","itemId","itemType","arguments","undefined","setVisitPacketItems","prev","Set","Array","from","concat","showToastMessage","newSet","delete","handleAddSelectedToVisitPacket","showExportReportModal","setShowExportReportModal","exportReportOptions","setExportReportOptions","dateRange","start","now","end","include","sections","skillsList","careIdeasSnapshot","timelineChart","exportReportStatus","setExportReportStatus","showToast","setShowToast","toastMessage","setToastMessage","toastType","setToastType","handleExportDomainReport","handleSaveToVisitPacket","message","i","progressPercentage","circumference","PI","strokeDasharray","strokeDashoffset","cx","cy","r","_","entry","step","htmlFor","placeholder","disabled","replace","ctx","c","rows","find","tab","selected","charAt","toUpperCase","time","filteredIdeas","tag","join","adaptation","change","_skillHistoryData$sel3","_skillHistoryData$sel4","note","toLocaleString","scope","view","Object","entries","_ref2","counts","style","width","label","section"],"sources":["C:/Users/girip/OneDrive/Desktop/PTS-Consulting/CareGene/src/components/GrowthDevelopmentScreen.tsx"],"sourcesContent":["import React, { useState } from 'react';\n\nconst GrowthDevelopmentScreen: React.FC = () => {\n  const [showReportModal, setShowReportModal] = useState(false);\n  const [showSettingsModal, setShowSettingsModal] = useState(false);\n  const [showAISuggestionsModal, setShowAISuggestionsModal] = useState(false);\n  const [showDomainDetailModal, setShowDomainDetailModal] = useState(false);\n  const [selectedDomainForDetail, setSelectedDomainForDetail] = useState('');\n  const [activeMobileTab, setActiveMobileTab] = useState('Skills');\n  \n  // Growth sub-navigation state\n  const [activeGrowthTab, setActiveGrowthTab] = useState<'domains' | 'overview' | 'reports' | 'ideas'>('domains');\n  \n  // Overview tab state\n  const [overviewDateRange, setOverviewDateRange] = useState('30 days');\n  \n  // Settings state\n  const [defaultView, setDefaultView] = useState<'age-based' | 'developmental'>('age-based');\n  const [showSkillsBeyondLevel, setShowSkillsBeyondLevel] = useState(true);\n  const [weeklyReminder, setWeeklyReminder] = useState(false);\n\n  // Report generation state\n  const [reportOptions, setReportOptions] = useState({\n    domains: ['motor', 'communication', 'social-emotional', 'cognitive-play', 'adaptive-self-help'],\n    includeEmerging: true,\n    includeNotes: true\n  });\n  const [isGeneratingReport, setIsGeneratingReport] = useState(false);\n  const [reportReady, setReportReady] = useState(false);\n\n  const [useDevelopmentalLevel, setUseDevelopmentalLevel] = useState(false);\n  const [chronologicalAge, setChronologicalAge] = useState('6 months');\n  const [developmentalLevel, setDevelopmentalLevel] = useState('Early');\n  const [timeScope, setTimeScope] = useState('30 days');\n  \n  // Add Skill Quick Sheet states\n  const [showAddSkillSheet, setShowAddSkillSheet] = useState(false);\n  const [currentStep, setCurrentStep] = useState(1);\n  const [selectedDomain, setSelectedDomain] = useState('');\n  const [selectedSkill, setSelectedSkill] = useState('');\n  const [skillStatus, setSkillStatus] = useState('Observed');\n  const [dateObserved, setDateObserved] = useState(new Date().toISOString().split('T')[0]);\n  const [supportsUsed, setSupportsUsed] = useState<string[]>([]);\n  const [context, setContext] = useState<string[]>([]);\n  const [notes, setNotes] = useState('');\n  const [showAllSkills, setShowAllSkills] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  // Skills Checklist state\n  const [skillsSearchQuery, setSkillsSearchQuery] = useState('');\n  const [skillsLevelFilter, setSkillsLevelFilter] = useState('All');\n  const [skillsSubdomainFilter, setSkillsSubdomainFilter] = useState<string[]>([]);\n  const [skillsStatusFilter, setSkillsStatusFilter] = useState('All');\n  const [skillsSortBy, setSkillsSortBy] = useState('Recommended');\n  const [selectedSkills, setSelectedSkills] = useState<string[]>([]);\n  const [showCustomSkillForm, setShowCustomSkillForm] = useState(false);\n  const [customSkillForm, setCustomSkillForm] = useState({\n    name: '',\n    subdomain: '',\n    levelBand: 'Early'\n  });\n\n  // Skill History drawer state\n  const [showSkillHistory, setShowSkillHistory] = useState(false);\n  const [selectedSkillForHistory, setSelectedSkillForHistory] = useState<any>(null);\n  const [showAddNoteForm, setShowAddNoteForm] = useState(false);\n  const [newNoteText, setNewNoteText] = useState('');\n\n  // Sample domain data\n  const domains = [\n    {\n      id: 'motor',\n      name: 'Motor',\n      subtitle: 'Gross & Fine',\n      icon: 'ðŸƒâ€â™€ï¸',\n      observed: 8,\n      suggested: 12,\n      lastSkill: 'Rolls both ways',\n      lastDate: '2024-03-15'\n    },\n    {\n      id: 'communication',\n      name: 'Communication',\n      subtitle: 'Expressive & Receptive',\n      icon: 'ðŸ’¬',\n      observed: 5,\n      suggested: 10,\n      lastSkill: 'Uses 3 words',\n      lastDate: '2024-03-12'\n    },\n    {\n      id: 'social-emotional',\n      name: 'Social-Emotional',\n      subtitle: '',\n      icon: 'ðŸ˜Š',\n      observed: 6,\n      suggested: 8,\n      lastSkill: 'Social smile',\n      lastDate: '2024-03-10'\n    },\n    {\n      id: 'cognitive-play',\n      name: 'Cognitive/Play',\n      subtitle: '',\n      icon: 'ðŸ§©',\n      observed: 4,\n      suggested: 9,\n      lastSkill: 'Bangs objects together',\n      lastDate: '2024-03-08'\n    },\n    {\n      id: 'adaptive-self-help',\n      name: 'Adaptive/Self-Help',\n      subtitle: 'feeding, dressing, toileting',\n      icon: 'ðŸ‘•',\n      observed: 3,\n      suggested: 7,\n      lastSkill: 'Finger feeds',\n      lastDate: '2024-03-05'\n    }\n  ];\n\n  // Sample skills data with proper age band mapping\n  const allSkills = [\n    // Motor skills\n    { id: 'm1', domain: 'motor', subdomain: 'gross', name: 'Rolls both ways', ageBand: 'Early', description: 'Rolls from back to stomach and stomach to back' },\n    { id: 'm2', domain: 'motor', subdomain: 'gross', name: 'Sits briefly without support', ageBand: 'Early', description: 'Maintains sitting position for a few seconds' },\n    { id: 'm3', domain: 'motor', subdomain: 'gross', name: 'Pulls to stand', ageBand: 'Toddler', description: 'Pulls self up to standing position using furniture' },\n    { id: 'm4', domain: 'motor', subdomain: 'gross', name: 'Cruises along furniture', ageBand: 'Toddler', description: 'Walks sideways while holding onto furniture' },\n    { id: 'm5', domain: 'motor', subdomain: 'gross', name: 'Walks with support', ageBand: 'Toddler', description: 'Takes steps while holding hands or walker' },\n    { id: 'm6', domain: 'motor', subdomain: 'fine', name: 'Pincer grasp', ageBand: 'Early', description: 'Picks up small objects using thumb and index finger' },\n    { id: 'm7', domain: 'motor', subdomain: 'fine', name: 'Stacks 2 blocks', ageBand: 'Toddler', description: 'Places one block on top of another' },\n    { id: 'm8', domain: 'motor', subdomain: 'gross', name: 'Throws ball forward', ageBand: 'Toddler', description: 'Throws ball in forward direction' },\n    { id: 'm9', domain: 'motor', subdomain: 'gross', name: 'Runs with coordination', ageBand: 'Preschool', description: 'Runs with improved balance and coordination' },\n    { id: 'm10', domain: 'motor', subdomain: 'gross', name: 'Hops on one foot', ageBand: 'Preschool', description: 'Hops briefly on one foot' },\n    { id: 'm11', domain: 'motor', subdomain: 'gross', name: 'Catches large ball', ageBand: 'Preschool', description: 'Catches ball with arms extended' },\n    { id: 'm12', domain: 'motor', subdomain: 'fine', name: 'Uses scissors', ageBand: 'Preschool', description: 'Cuts paper with child-safe scissors' },\n    \n    // Communication skills\n    { id: 'c1', domain: 'communication', subdomain: 'expressive', name: 'Babbles with consonants', ageBand: 'Early', description: 'Makes consonant sounds like ba, da, ma' },\n    { id: 'c2', domain: 'communication', subdomain: 'receptive', name: 'Points to request', ageBand: 'Toddler', description: 'Points to objects to indicate wants' },\n    { id: 'c3', domain: 'communication', subdomain: 'expressive', name: 'Uses 5-10 words', ageBand: 'Toddler', description: 'Says 5-10 recognizable words' },\n    { id: 'c4', domain: 'communication', subdomain: 'receptive', name: 'Follows 1-step directions', ageBand: 'Toddler', description: 'Understands and follows simple commands' },\n    { id: 'c5', domain: 'communication', subdomain: 'expressive', name: 'Names common objects', ageBand: 'Preschool', description: 'Identifies familiar objects by name' },\n    { id: 'c6', domain: 'communication', subdomain: 'expressive', name: 'Combines 2 words', ageBand: 'Preschool', description: 'Uses two-word phrases' },\n    { id: 'c7', domain: 'communication', subdomain: 'expressive', name: 'Asks questions', ageBand: 'Preschool', description: 'Asks what, where, why questions' },\n    { id: 'c8', domain: 'communication', subdomain: 'expressive', name: 'Tells simple stories', ageBand: 'School-age', description: 'Recounts events in sequence' },\n    { id: 'c9', domain: 'communication', subdomain: 'expressive', name: 'Uses past tense', ageBand: 'School-age', description: 'Correctly uses past tense verbs' },\n    { id: 'c10', domain: 'communication', subdomain: 'receptive', name: 'Follows 3-step directions', ageBand: 'School-age', description: 'Understands and follows multi-step commands' },\n    \n    // Social-Emotional skills\n    { id: 's1', domain: 'social-emotional', subdomain: 'interaction', name: 'Social smile', ageBand: 'Early', description: 'Smiles in response to social interaction' },\n    { id: 's2', domain: 'social-emotional', subdomain: 'interaction', name: 'Joint attention', ageBand: 'Early', description: 'Looks where you point' },\n    { id: 's3', domain: 'social-emotional', subdomain: 'interaction', name: 'Waves bye', ageBand: 'Toddler', description: 'Waves goodbye' },\n    { id: 's4', domain: 'social-emotional', subdomain: 'interaction', name: 'Brings item to show', ageBand: 'Toddler', description: 'Shows objects to others' },\n    { id: 's5', domain: 'social-emotional', subdomain: 'interaction', name: 'Parallel play', ageBand: 'Preschool', description: 'Plays alongside other children' },\n    { id: 's6', domain: 'social-emotional', subdomain: 'interaction', name: 'Takes turns briefly', ageBand: 'Preschool', description: 'Participates in simple turn-taking' },\n    { id: 's7', domain: 'social-emotional', subdomain: 'regulation', name: 'Shows empathy', ageBand: 'Preschool', description: 'Comforts others when upset' },\n    { id: 's8', domain: 'social-emotional', subdomain: 'interaction', name: 'Shares toys', ageBand: 'Preschool', description: 'Willingly shares toys with peers' },\n    { id: 's9', domain: 'social-emotional', subdomain: 'regulation', name: 'Manages emotions', ageBand: 'School-age', description: 'Uses strategies to calm down' },\n    { id: 's10', domain: 'social-emotional', subdomain: 'interaction', name: 'Makes friends', ageBand: 'School-age', description: 'Initiates and maintains friendships' },\n    \n    // Cognitive/Play skills\n    { id: 'cp1', domain: 'cognitive-play', subdomain: 'early-play', name: 'Bangs two objects', ageBand: 'Early', description: 'Hits two objects together' },\n    { id: 'cp2', domain: 'cognitive-play', subdomain: 'problem-solving', name: 'Puts objects in/out', ageBand: 'Toddler', description: 'Places objects in containers and removes them' },\n    { id: 'cp3', domain: 'cognitive-play', subdomain: 'problem-solving', name: 'Cause-and-effect toy play', ageBand: 'Toddler', description: 'Understands simple cause and effect' },\n    { id: 'cp4', domain: 'cognitive-play', subdomain: 'problem-solving', name: 'Matches shapes', ageBand: 'Preschool', description: 'Identifies and matches similar shapes' },\n    { id: 'cp5', domain: 'cognitive-play', subdomain: 'problem-solving', name: 'Completes 3-piece puzzle', ageBand: 'Preschool', description: 'Assembles simple puzzles' },\n    { id: 'cp6', domain: 'cognitive-play', subdomain: 'pretend', name: 'Pretend feeds doll', ageBand: 'Preschool', description: 'Engages in pretend play' },\n    { id: 'cp7', domain: 'cognitive-play', subdomain: 'problem-solving', name: 'Counts to 10', ageBand: 'Preschool', description: 'Recites numbers 1-10' },\n    { id: 'cp8', domain: 'cognitive-play', subdomain: 'problem-solving', name: 'Recognizes colors', ageBand: 'Preschool', description: 'Names basic colors' },\n    { id: 'cp9', domain: 'cognitive-play', subdomain: 'problem-solving', name: 'Understands time concepts', ageBand: 'School-age', description: 'Grasps yesterday, today, tomorrow' },\n    { id: 'cp10', domain: 'cognitive-play', subdomain: 'problem-solving', name: 'Solves simple problems', ageBand: 'School-age', description: 'Finds solutions to everyday challenges' },\n    \n    // Adaptive/Self-Help skills\n    { id: 'a1', domain: 'adaptive-self-help', subdomain: 'feeding', name: 'Finger feeds', ageBand: 'Early', description: 'Picks up food with fingers and eats' },\n    { id: 'a2', domain: 'adaptive-self-help', subdomain: 'feeding', name: 'Drinks from open cup with help', ageBand: 'Toddler', description: 'Uses open cup with assistance' },\n    { id: 'a3', domain: 'adaptive-self-help', subdomain: 'feeding', name: 'Uses spoon with some spills', ageBand: 'Toddler', description: 'Attempts to use spoon independently' },\n    { id: 'a4', domain: 'adaptive-self-help', subdomain: 'dressing', name: 'Removes socks', ageBand: 'Toddler', description: 'Takes off socks independently' },\n    { id: 'a5', domain: 'adaptive-self-help', subdomain: 'dressing', name: 'Helps with dressing', ageBand: 'Toddler', description: 'Assists with putting on clothes' },\n    { id: 'a6', domain: 'adaptive-self-help', subdomain: 'toileting', name: 'Indicates wet/soiled diaper', ageBand: 'Toddler', description: 'Shows awareness of diaper state' },\n    { id: 'a7', domain: 'adaptive-self-help', subdomain: 'toileting', name: 'Sits on toilet with support', ageBand: 'Toddler', description: 'Sits on toilet with assistance' },\n    { id: 'a8', domain: 'adaptive-self-help', subdomain: 'hygiene', name: 'Washes hands with help', ageBand: 'Preschool', description: 'Washes hands with supervision' },\n    { id: 'a9', domain: 'adaptive-self-help', subdomain: 'dressing', name: 'Buttons large buttons', ageBand: 'Preschool', description: 'Fastens large buttons independently' },\n    { id: 'a10', domain: 'adaptive-self-help', subdomain: 'hygiene', name: 'Brushes teeth with help', ageBand: 'Preschool', description: 'Brushes teeth with supervision' }\n  ];\n\n  // Subdomain tags for each domain\n  const domainSubdomains = {\n    'motor': ['Gross', 'Fine'],\n    'communication': ['Expressive', 'Receptive'],\n    'social-emotional': ['Interaction', 'Regulation'],\n    'cognitive-play': ['Early Play', 'Problem-Solving', 'Pretend'],\n    'adaptive-self-help': ['Feeding', 'Dressing', 'Toileting', 'Hygiene']\n  };\n\n  // Sample milestone entries for the journal\n  const milestoneEntries = [\n    {\n      id: '1',\n      domainIcon: 'ðŸƒ',\n      skillName: 'Rolls both ways',\n      status: 'Observed',\n      date: '2024-03-15',\n      context: 'home'\n    },\n    {\n      id: '2',\n      domainIcon: 'ðŸ’¬',\n      skillName: 'Uses 3 words',\n      status: 'Observed',\n      date: '2024-03-12',\n      context: 'therapy'\n    },\n    {\n      id: '3',\n      domainIcon: 'ðŸ˜Š',\n      skillName: 'Social smile',\n      status: 'Emerging',\n      date: '2024-03-10',\n      context: 'home'\n    }\n  ];\n\n  // Sample skill statuses for demonstration\n  const skillStatuses: Record<string, string> = {\n    'm1': 'Observed',\n    'm2': 'Emerging',\n    'c1': 'Observed',\n    'c2': 'Not yet',\n    's1': 'Observed',\n    'cp1': 'Emerging',\n    'a1': 'Not yet'\n  };\n\n  // Sample last observed dates\n  const lastObservedDates: Record<string, string> = {\n    'm1': '2024-03-15',\n    'c1': '2024-03-12',\n    's1': '2024-03-10'\n  };\n\n  // Sample supports used\n  const sampleSupportsUsed: Record<string, string[]> = {\n    'm2': ['hand-over-hand', 'prompts'],\n    'cp1': ['adaptive utensil'],\n    'a1': ['AAC']\n  };\n\n  // Supports options for skills\n  const supportsOptions = ['hand-over-hand', 'adaptive utensil', 'prompts', 'AAC', 'orthotics'];\n\n  // Sample skill history data\n  const skillHistoryData: Record<string, {\n    statusChanges: Array<{\n      date: string;\n      status: string;\n      supports: string[];\n      author: string;\n    }>;\n    notes: Array<{\n      timestamp: string;\n      text: string;\n      author: string;\n    }>;\n  }> = {\n    'm1': {\n      statusChanges: [\n        { date: '2024-03-15', status: 'Observed', supports: [], author: 'Mom' },\n        { date: '2024-03-10', status: 'Emerging', supports: ['hand-over-hand'], author: 'Dad' },\n        { date: '2024-02-28', status: 'Not yet', supports: [], author: 'Mom' }\n      ],\n      notes: [\n        { timestamp: '2024-03-15 14:30', text: 'First time rolling both ways consistently!', author: 'Mom' },\n        { timestamp: '2024-03-12 10:15', text: 'Showed interest in rolling during tummy time', author: 'Dad' }\n      ]\n    },\n    'c1': {\n      statusChanges: [\n        { date: '2024-03-12', status: 'Observed', supports: [], author: 'Mom' },\n        { date: '2024-03-05', status: 'Emerging', supports: ['prompts'], author: 'Therapist' }\n      ],\n      notes: [\n        { timestamp: '2024-03-12 16:45', text: 'Said \"mama\" clearly for the first time!', author: 'Mom' },\n        { timestamp: '2024-03-08 11:20', text: 'Working on consonant sounds in therapy', author: 'Therapist' }\n      ]\n    }\n  };\n\n  const [showMilestoneDetail, setShowMilestoneDetail] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasMilestones, setHasMilestones] = useState(true); // For demo purposes, set to true initially\n\n  const getStatusBadgeColor = (status: string) => {\n    switch (status) {\n      case 'Observed':\n        return 'bg-green-100 text-green-800 border-green-200';\n      case 'Emerging':\n        return 'bg-yellow-100 text-yellow-800 border-yellow-200';\n      case 'Not yet':\n        return 'bg-gray-100 text-gray-800 border-gray-200';\n      case 'N/A':\n        return 'bg-blue-100 text-blue-800 border-blue-200';\n      default:\n        return 'bg-gray-100 text-gray-800 border-gray-200';\n    }\n  };\n\n  const getContextLabel = (context: string) => {\n    switch (context) {\n      case 'home':\n        return 'Home';\n      case 'school':\n        return 'School';\n      case 'therapy':\n        return 'Therapy';\n      case 'community':\n        return 'Community';\n      default:\n        return context;\n    }\n  };\n\n  const handleViewMilestone = (milestoneId: string) => {\n    setShowMilestoneDetail(milestoneId);\n  };\n\n  const handleViewAllMilestones = () => {\n    // TODO: Route to Log & Track > Journal filtered to Milestones type\n    console.log('Navigate to Journal with Milestones filter');\n  };\n\n  // Skeleton loading components\n  const DomainTileSkeleton = () => (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse\">\n      <div className=\"flex items-start justify-between mb-4\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-12 h-12 bg-gray-200 rounded-full\"></div>\n          <div>\n            <div className=\"h-5 bg-gray-200 rounded w-24 mb-2\"></div>\n            <div className=\"h-4 bg-gray-200 rounded w-32\"></div>\n          </div>\n        </div>\n      </div>\n      <div className=\"flex items-center justify-center mb-4\">\n        <div className=\"w-16 h-16 bg-gray-200 rounded-full\"></div>\n      </div>\n      <div className=\"h-4 bg-gray-200 rounded w-full mb-4\"></div>\n      <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-4\"></div>\n      <div className=\"h-9 bg-gray-200 rounded w-full\"></div>\n    </div>\n  );\n\n  const JournalEntrySkeleton = () => (\n    <div className=\"px-6 py-4 animate-pulse\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-8 h-8 bg-gray-200 rounded-full\"></div>\n          <div>\n            <div className=\"h-4 bg-gray-200 rounded w-32 mb-2\"></div>\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"h-5 bg-gray-200 rounded w-16\"></div>\n              <div className=\"h-4 bg-gray-200 rounded w-24\"></div>\n            </div>\n          </div>\n        </div>\n        <div className=\"h-4 bg-gray-200 rounded w-12\"></div>\n      </div>\n    </div>\n  );\n\n  const contextOptions = ['home', 'school', 'therapy', 'community'];\n\n  // Helper function to get age band from chronological age\n  const getAgeBandFromChronological = (age: string): string => {\n    if (age.includes('months')) {\n      const months = parseInt(age.split(' ')[0]);\n      if (months <= 12) return 'Early';\n      if (months <= 36) return 'Toddler';\n      if (months <= 60) return 'Preschool';\n      return 'School-age';\n    } else if (age.includes('years')) {\n      const years = parseInt(age.split(' ')[0]);\n      if (years <= 5) return 'Preschool';\n      return 'School-age';\n    }\n    return 'Early'; // default\n  };\n\n  // Helper function to check if skill is within Â±1 age band\n  const isSkillAgeAppropriate = (skillAgeBand: string, selectedAgeBand: string): boolean => {\n    const ageBands = ['Early', 'Toddler', 'Preschool', 'School-age'];\n    const skillIndex = ageBands.indexOf(skillAgeBand);\n    const selectedIndex = ageBands.indexOf(selectedAgeBand);\n    \n    if (skillIndex === -1 || selectedIndex === -1) return true; // fallback\n    \n    return Math.abs(skillIndex - selectedIndex) <= 1;\n  };\n\n  const handleOpenDomain = (domainId: string) => {\n    // TODO: Route to domain detail (will be implemented in 5B)\n    console.log(`Opening domain: ${domainId}`);\n    \n    // For now, show a placeholder modal indicating this will be implemented in Phase 5B\n    setShowDomainDetailModal(true);\n    setSelectedDomainForDetail(domainId);\n  };\n\n  const handleAddSkill = () => {\n    setShowAddSkillSheet(true);\n    setCurrentStep(1);\n    setSelectedDomain('');\n    setSelectedSkill('');\n    setSkillStatus('Observed');\n    setDateObserved(new Date().toISOString().split('T')[0]);\n    setSupportsUsed([]);\n    setContext([]);\n    setNotes('');\n    setShowAllSkills(false);\n    setSearchQuery('');\n  };\n\n  const handleNextStep = () => {\n    if (currentStep < 6) {\n      setCurrentStep(currentStep + 1);\n    }\n  };\n\n  const handlePrevStep = () => {\n    if (currentStep > 1) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  const handleSave = () => {\n    // TODO: Save skill data\n    console.log('Saving skill:', { selectedDomain, selectedSkill, skillStatus, dateObserved, supportsUsed, context, notes });\n    setShowAddSkillSheet(false);\n    // TODO: Show toast: \"Skill saved. View it in Journal or the domain page.\"\n  };\n\n  const handleSaveAndAddAnother = () => {\n    // TODO: Save skill data\n    console.log('Saving skill and adding another:', { selectedDomain, selectedSkill, skillStatus, dateObserved, supportsUsed, context, notes });\n    // Reset form for next skill\n    setSelectedSkill('');\n    setSkillStatus('Observed');\n    setDateObserved(new Date().toISOString().split('T')[0]);\n    setSupportsUsed([]);\n    setContext([]);\n    setNotes('');\n    setCurrentStep(2); // Go back to skill selection\n  };\n\n  const handleSaveSettings = () => {\n    // TODO: Save settings to localStorage or API\n    setShowSettingsModal(false);\n    // TODO: Show toast: \"Settings saved.\"\n  };\n\n  // Get current age band for filtering\n  const currentAgeBand = useDevelopmentalLevel ? developmentalLevel : getAgeBandFromChronological(chronologicalAge);\n\n  const filteredSkills = allSkills.filter(skill => {\n    if (selectedDomain && skill.domain !== selectedDomain) return false;\n    if (searchQuery && !skill.name.toLowerCase().includes(searchQuery.toLowerCase())) return false;\n    return true;\n  });\n\n  // Filter by age appropriateness (default: Â±1 band)\n  const ageAppropriateSkills = showAllSkills ? filteredSkills : filteredSkills.filter(skill => \n    isSkillAgeAppropriate(skill.ageBand, currentAgeBand)\n  );\n\n  const suggestedSkills = ageAppropriateSkills.slice(0, 10);\n  const displayedSkills = showAllSkills ? ageAppropriateSkills : suggestedSkills;\n\n  const handleGenerateReport = () => {\n    setIsGeneratingReport(true);\n    // TODO: Simulate report generation\n    setTimeout(() => {\n      setIsGeneratingReport(false);\n      setReportReady(true);\n    }, 2000);\n  };\n\n\n\n  const handleDownloadReport = () => {\n    // TODO: Trigger actual PDF download\n    setReportReady(false);\n    setShowReportModal(false);\n    // TODO: Show toast: \"Report downloaded\"\n  };\n\n  const handleSkillStatusChange = (skillId: string, status: string) => {\n    // TODO: Update skill status in database\n    console.log(`Updating skill ${skillId} status to ${status}`);\n    // TODO: Show toast: \"Updated\"\n  };\n\n  const handleSkillSupportsUpdate = (skillId: string, supports: string[]) => {\n    // TODO: Update skill supports in database\n    console.log(`Updating skill ${skillId} supports to:`, supports);\n  };\n\n  const handleBulkAction = (action: string) => {\n    if (selectedSkills.length === 0) return;\n    \n    switch (action) {\n      case 'mark-observed':\n        // TODO: Mark all selected skills as observed\n        break;\n      case 'mark-emerging':\n        // TODO: Mark all selected skills as emerging\n        break;\n      case 'add-to-visit-packet':\n        // TODO: Add selected skills to visit packet\n        break;\n    }\n    \n    setSelectedSkills([]);\n  };\n\n  const handleAddCustomSkill = () => {\n    if (!customSkillForm.name || !customSkillForm.subdomain) return;\n    \n    // TODO: Add custom skill to database\n    console.log('Adding custom skill:', customSkillForm);\n    setShowCustomSkillForm(false);\n    setCustomSkillForm({ name: '', subdomain: '', levelBand: 'Early' });\n    // TODO: Show toast: \"Custom skill added\"\n  };\n\n  const getFilteredAndGroupedSkills = () => {\n    let filtered = allSkills.filter(skill => skill.domain === selectedDomainForDetail);\n    \n    // Apply search filter\n    if (skillsSearchQuery) {\n      filtered = filtered.filter(skill => \n        skill.name.toLowerCase().includes(skillsSearchQuery.toLowerCase()) ||\n        skill.description.toLowerCase().includes(skillsSearchQuery.toLowerCase())\n      );\n    }\n    \n    // Apply level filter\n    if (skillsLevelFilter !== 'All') {\n      filtered = filtered.filter(skill => skill.ageBand === skillsLevelFilter);\n    }\n    \n    // Apply subdomain filter\n    if (skillsSubdomainFilter.length > 0) {\n      filtered = filtered.filter(skill => skillsSubdomainFilter.includes(skill.subdomain));\n    }\n    \n    // Apply status filter\n    if (skillsStatusFilter !== 'All') {\n      filtered = filtered.filter(skill => skillStatuses[skill.id] === skillsStatusFilter);\n    }\n    \n    // Apply sorting\n    switch (skillsSortBy) {\n      case 'A-Z':\n        filtered.sort((a, b) => a.name.localeCompare(b.name));\n        break;\n      case 'Recently updated':\n        // TODO: Sort by last updated date\n        break;\n      case 'Recommended':\n      default:\n        // Keep default order (age-appropriate first)\n        break;\n    }\n    \n    // Group skills\n    const currentLevel = chronologicalAge.includes('months') ? \n      getAgeBandFromChronological(chronologicalAge) : developmentalLevel;\n    \n    const ageBands = ['Early', 'Toddler', 'Preschool', 'School-age'];\n    const currentIndex = ageBands.indexOf(currentLevel);\n    \n    const suggested = filtered.filter(skill => skill.ageBand === currentLevel);\n    const stretchNext = filtered.filter(skill => {\n      const skillIndex = ageBands.indexOf(skill.ageBand);\n      return skillIndex === currentIndex + 1;\n    });\n    const foundations = filtered.filter(skill => {\n      const skillIndex = ageBands.indexOf(skill.ageBand);\n      return skillIndex < currentIndex;\n    });\n    \n    return { suggested, stretchNext, foundations };\n  };\n\n  // Keyboard navigation state\n  const [focusedSkillIndex, setFocusedSkillIndex] = useState<number>(-1);\n  const [focusedSkillId, setFocusedSkillId] = useState<string | null>(null);\n\n  const handleKeyDown = (event: React.KeyboardEvent, skillId: string, index: number) => {\n    switch (event.key) {\n      case 'ArrowDown':\n        event.preventDefault();\n        const nextIndex = Math.min(index + 1, getFilteredAndGroupedSkills().suggested.length - 1);\n        setFocusedSkillIndex(nextIndex);\n        setFocusedSkillId(skillId);\n        break;\n      case 'ArrowUp':\n        event.preventDefault();\n        const prevIndex = Math.max(index - 1, 0);\n        setFocusedSkillIndex(prevIndex);\n        setFocusedSkillId(skillId);\n        break;\n      case ' ':\n        event.preventDefault();\n        // Toggle status - find current status and cycle through\n        const currentStatus = skillStatuses[skillId] || 'Not yet';\n        const statusOptions = ['Observed', 'Emerging', 'Not yet', 'N/A'];\n        const currentIndex = statusOptions.indexOf(currentStatus);\n        const nextStatus = statusOptions[(currentIndex + 1) % statusOptions.length];\n        handleSkillStatusChange(skillId, nextStatus);\n        break;\n      case 'Enter':\n        event.preventDefault();\n        // Open supports popover - this will be handled by the supports button\n        const supportsButton = document.querySelector(`[data-skill-id=\"${skillId}\"] [data-supports-button]`) as HTMLButtonElement;\n        if (supportsButton) {\n          supportsButton.click();\n        }\n        break;\n    }\n  };\n\n  const handleSkillFocus = (skillId: string, index: number) => {\n    setFocusedSkillIndex(index);\n    setFocusedSkillId(skillId);\n  };\n\n  // SkillRow Component with enhanced accessibility\n  const SkillRow: React.FC<{\n    skill: any;\n    status: string;\n    lastObserved?: string;\n    supports: string[];\n    isSelected: boolean;\n    isFocused: boolean;\n    index: number;\n    onSelectionChange: (selected: boolean) => void;\n    onStatusChange: (status: string) => void;\n    onSupportsUpdate: (supports: string[]) => void;\n    onKeyDown: (e: React.KeyboardEvent) => void;\n    onFocus: () => void;\n  }> = ({ skill, status, lastObserved, supports, isSelected, isFocused, index, onSelectionChange, onStatusChange, onSupportsUpdate, onKeyDown, onFocus }) => {\n    const [showSupportsPopover, setShowSupportsPopover] = useState(false);\n    const [showOverflowMenu, setShowOverflowMenu] = useState(false);\n    const [showDatePicker, setShowDatePicker] = useState(false);\n    const [selectedDate, setSelectedDate] = useState(lastObserved || new Date().toISOString().split('T')[0]);\n\n    const supportsOptions = ['hand-over-hand', 'adaptive utensil', 'prompts', 'AAC', 'orthotics'];\n\n    const handleStatusChange = (newStatus: string) => {\n      if (newStatus === 'Observed' && !lastObserved) {\n        setShowDatePicker(true);\n      } else {\n        onStatusChange(newStatus);\n      }\n    };\n\n    const handleDateSave = () => {\n      onStatusChange('Observed');\n      setShowDatePicker(false);\n      // TODO: Save last observed date\n    };\n\n    return (\n      <div \n        className={`bg-white border border-gray-200 rounded-lg p-3 hover:border-gray-300 transition-colors ${\n          isFocused ? 'ring-2 ring-blue-500 ring-offset-2' : ''\n        }`}\n        tabIndex={0}\n        onKeyDown={onKeyDown}\n        onFocus={onFocus}\n        role=\"row\"\n        aria-selected={isSelected}\n        aria-label={`Skill: ${skill.name}, Status: ${status}`}\n      >\n        <div className=\"flex items-center space-x-3\">\n          {/* Checkbox */}\n          <input\n            type=\"checkbox\"\n            checked={isSelected}\n            onChange={(e) => onSelectionChange(e.target.checked)}\n            className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            aria-label={`Select ${skill.name} skill`}\n          />\n\n          {/* Skill Info */}\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center space-x-2\">\n              <h6 className=\"text-sm font-medium text-gray-900 truncate\">{skill.name}</h6>\n              <button\n                className=\"text-gray-400 hover:text-gray-600\"\n                aria-label={`Show description for ${skill.name}`}\n                title={skill.description}\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n              </button>\n            </div>\n            <p className=\"text-xs text-gray-500 mt-1\">{skill.description}</p>\n            <div className=\"flex items-center space-x-2 mt-1\">\n              <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n                {skill.subdomain}\n              </span>\n              <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                {skill.ageBand}\n              </span>\n            </div>\n          </div>\n\n          {/* Status Radios */}\n          <div className=\"flex items-center space-x-2\" role=\"radiogroup\" aria-label={`Status for ${skill.name}`}>\n            {['Observed', 'Emerging', 'Not yet', 'N/A'].map((statusOption) => (\n              <label key={statusOption} className=\"flex items-center\">\n                <input\n                  type=\"radio\"\n                  name={`status-${skill.id}`}\n                  value={statusOption}\n                  checked={status === statusOption}\n                  onChange={() => handleStatusChange(statusOption)}\n                  className=\"mr-1 text-blue-600 focus:ring-blue-500\"\n                  aria-label={`Mark ${skill.name} as ${statusOption}`}\n                />\n                <span className=\"text-xs text-gray-700\">{statusOption}</span>\n              </label>\n            ))}\n          </div>\n\n          {/* Last Observed Date */}\n          {lastObserved && (\n            <div className=\"text-xs text-gray-500\">\n              Last: {new Date(lastObserved).toLocaleDateString()}\n            </div>\n          )}\n\n          {/* Supports Link */}\n          <div className=\"relative\">\n            <button\n              data-supports-button\n              data-skill-id={skill.id}\n              onClick={() => setShowSupportsPopover(!showSupportsPopover)}\n              className=\"text-xs text-blue-600 hover:text-blue-700 underline\"\n              aria-label=\"Manage supports for this skill\"\n              aria-expanded={showSupportsPopover}\n              aria-haspopup=\"true\"\n            >\n              Supports\n            </button>\n            \n            {showSupportsPopover && (\n              <div \n                className=\"absolute right-0 top-6 w-48 bg-white border border-gray-200 rounded-lg shadow-lg p-3 z-10\"\n                role=\"dialog\"\n                aria-label=\"Supports selection\"\n              >\n                <h6 className=\"text-xs font-medium text-gray-900 mb-2\">Supports used:</h6>\n                <div className=\"space-y-1\">\n                  {supportsOptions.map((option) => (\n                    <label key={option} className=\"flex items-center\">\n                      <input\n                        type=\"checkbox\"\n                        checked={supports.includes(option)}\n                        onChange={(e) => {\n                          if (e.target.checked) {\n                            onSupportsUpdate([...supports, option]);\n                          } else {\n                            onSupportsUpdate(supports.filter(s => s !== option));\n                          }\n                        }}\n                        className=\"mr-2 text-blue-600 focus:ring-blue-500\"\n                        aria-label={`Use ${option} support`}\n                      />\n                      <span className=\"text-xs text-gray-700 capitalize\">{option}</span>\n                    </label>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Overflow Menu */}\n          <div className=\"relative\">\n            <button\n              onClick={() => setShowOverflowMenu(!showOverflowMenu)}\n              className=\"text-gray-400 hover:text-gray-600 p-1\"\n              aria-label=\"More options for this skill\"\n              aria-expanded={showOverflowMenu}\n              aria-haspopup=\"true\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\" />\n              </svg>\n            </button>\n            \n            {showOverflowMenu && (\n              <div \n                className=\"absolute right-0 top-6 w-32 bg-white border border-gray-200 rounded-lg shadow-lg p-2 z-10\"\n                role=\"menu\"\n                aria-label=\"Skill options\"\n              >\n                <button \n                  onClick={() => {\n                    handleViewSkillHistory(skill);\n                    setShowOverflowMenu(false);\n                  }}\n                  className=\"w-full text-left px-2 py-1 text-xs text-gray-700 hover:bg-gray-100 rounded\"\n                  role=\"menuitem\"\n                >\n                  View history\n                </button>\n                <button className=\"w-full text-left px-2 py-1 text-xs text-gray-700 hover:bg-gray-100 rounded\" role=\"menuitem\">\n                  Add note\n                </button>\n                <button \n                  onClick={() => {\n                    if (visitPacketItems.has(skill.id)) {\n                      handleRemoveFromVisitPacket(skill.id);\n                    } else {\n                      handleAddToVisitPacket(skill.id);\n                    }\n                    setShowOverflowMenu(false);\n                  }}\n                  className={`w-full text-left px-2 py-1 text-xs rounded ${\n                    visitPacketItems.has(skill.id)\n                      ? 'text-red-600 hover:bg-red-50'\n                      : 'text-gray-700 hover:bg-gray-100'\n                  }`}\n                  role=\"menuitem\"\n                >\n                  {visitPacketItems.has(skill.id) ? 'Remove from Visit Packet' : 'Add to Visit Packet'}\n                </button>\n                <button className=\"w-full text-left px-2 py-1 text-xs text-red-600 hover:bg-red-50 rounded\" role=\"menuitem\">\n                  Delete\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Date Picker Modal */}\n        {showDatePicker && (\n          <div \n            className=\"fixed inset-0 bg-gray-600 bg-opacity-50 z-50 flex items-center justify-center\"\n            role=\"dialog\"\n            aria-modal=\"true\"\n            aria-labelledby=\"date-picker-title\"\n          >\n            <div className=\"bg-white rounded-lg p-4 max-w-sm w-full mx-4\">\n              <h6 id=\"date-picker-title\" className=\"text-sm font-medium text-gray-900 mb-3\">When did you observe this skill?</h6>\n              <input\n                type=\"date\"\n                value={selectedDate}\n                onChange={(e) => setSelectedDate(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                aria-label=\"Select observation date\"\n              />\n              <div className=\"flex justify-end space-x-2 mt-4\">\n                <button\n                  onClick={() => setShowDatePicker(false)}\n                  className=\"px-3 py-1 text-sm text-gray-700 bg-gray-100 border border-gray-300 rounded hover:bg-gray-200\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleDateSave}\n                  className=\"px-3 py-1 text-sm text-white bg-blue-600 border border-transparent rounded hover:bg-blue-700\"\n                >\n                  Save\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const handleViewSkillHistory = (skill: any) => {\n    setSelectedSkillForHistory(skill);\n    setShowSkillHistory(true);\n  };\n\n  const handleAddNote = () => {\n    if (!newNoteText.trim() || !selectedSkillForHistory) return;\n    \n    // TODO: Add note to database\n    console.log('Adding note to skill:', selectedSkillForHistory.id, newNoteText);\n    setNewNoteText('');\n    setShowAddNoteForm(false);\n    // TODO: Show toast: \"Note added\"\n  };\n\n  const handleEditLastEntry = () => {\n    if (!selectedSkillForHistory) return;\n    \n    // TODO: Open edit form for last status change\n    console.log('Editing last entry for skill:', selectedSkillForHistory.id);\n    // TODO: Show edit modal\n  };\n\n  // Care Ideas panel state\n  const [careIdeasEnvironment, setCareIdeasEnvironment] = useState<string[]>(['home']);\n  const [careIdeasSupports, setCareIdeasSupports] = useState<string[]>([]);\n  const [careIdeasTimeAvailable, setCareIdeasTimeAvailable] = useState<string>('10-15 min');\n\n  // Sample care ideas data\n  const careIdeasData: Record<string, Array<{\n    id: string;\n    title: string;\n    goalTags: string[];\n    levelTag: 'Suggested now' | 'Stretch' | 'Foundations';\n    materials: string[];\n    steps: string[];\n    adaptations: string[];\n    safetyNote?: string;\n    environment: string[];\n    supports: string[];\n    timeRequired: string;\n  }>> = {\n    'motor': [\n      {\n        id: 'motor-1',\n        title: 'Tummy-time with bolster',\n        goalTags: ['Gross motor', 'Core strength'],\n        levelTag: 'Suggested now',\n        materials: ['Firm pillow or bolster', 'Favorite toys'],\n        steps: [\n          'Place bolster under child\\'s chest for support',\n          'Position interesting toys just out of reach',\n          'Encourage reaching and stretching movements',\n          'Gradually increase time spent in position'\n        ],\n        adaptations: ['Use visual markers', 'Hand-over-hand support'],\n        safetyNote: 'Supervise closely, ensure safe surface',\n        environment: ['home', 'therapy'],\n        supports: ['visuals', 'hand-over-hand'],\n        timeRequired: '5 min'\n      },\n      {\n        id: 'motor-2',\n        title: 'Cruising along couch',\n        goalTags: ['Gross motor', 'Balance'],\n        levelTag: 'Suggested now',\n        materials: ['Stable furniture', 'Soft landing area'],\n        steps: [\n          'Clear safe path along furniture edge',\n          'Place favorite toys at intervals',\n          'Encourage side-stepping while holding on',\n          'Celebrate each step taken'\n        ],\n        adaptations: ['Use visual markers', 'Provide hand support'],\n        safetyNote: 'Ensure furniture is stable, supervise closely',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '10-15 min'\n      },\n      {\n        id: 'motor-3',\n        title: 'Stack 2-3 blocks',\n        goalTags: ['Fine motor', 'Precision'],\n        levelTag: 'Stretch',\n        materials: ['Large, lightweight blocks'],\n        steps: [\n          'Start with just 2 blocks',\n          'Model stacking action slowly',\n          'Encourage imitation and practice',\n          'Gradually increase to 3 blocks'\n        ],\n        adaptations: ['Larger blocks', 'Non-slip base'],\n        safetyNote: 'Use soft blocks, supervise play',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '5 min'\n      },\n      {\n        id: 'motor-4',\n        title: 'Large-bead threading',\n        goalTags: ['Fine motor', 'Coordination'],\n        levelTag: 'Stretch',\n        materials: ['Large wooden beads', 'Thick string'],\n        steps: [\n          'Demonstrate threading motion',\n          'Start with just a few beads',\n          'Practice hand-eye coordination',\n          'Celebrate each successful thread'\n        ],\n        adaptations: ['Larger beads', 'Stiffer string'],\n        safetyNote: 'Supervise closely, avoid small parts',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '10 min'\n      },\n      {\n        id: 'motor-5',\n        title: 'Two-hand carry',\n        goalTags: ['Fine motor', 'Bilateral coordination'],\n        levelTag: 'Foundations',\n        materials: ['Various sized containers', 'Toys'],\n        steps: [\n          'Start with small, lightweight items',\n          'Encourage using both hands together',\n          'Practice carrying different objects',\n          'Build up to larger containers'\n        ],\n        adaptations: ['Larger handles', 'Non-slip grips'],\n        safetyNote: 'Ensure items are safe to carry',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '5 min'\n      }\n    ],\n    'communication': [\n      {\n        id: 'comm-1',\n        title: 'Choice-making with pictures',\n        goalTags: ['Receptive', 'Understanding'],\n        levelTag: 'Suggested now',\n        materials: ['Picture cards', 'Favorite items'],\n        steps: [\n          'Show 2-3 picture options',\n          'Ask \"Which one do you want?\"',\n          'Wait for response (point, reach, or vocalize)',\n          'Provide chosen item immediately'\n        ],\n        adaptations: ['Larger pictures', 'Real objects'],\n        safetyNote: 'Keep choices simple and clear',\n        environment: ['home', 'school'],\n        supports: ['visuals', 'aac'],\n        timeRequired: '5 min'\n      },\n      {\n        id: 'comm-2',\n        title: 'Label-and-point during routines',\n        goalTags: ['Expressive', 'Vocabulary'],\n        levelTag: 'Suggested now',\n        materials: ['Daily routine items', 'Picture schedule'],\n        steps: [\n          'Point to items during daily activities',\n          'Say the name clearly and wait',\n          'Encourage child to repeat or point',\n          'Use consistent labels for same items'\n        ],\n        adaptations: ['Picture schedule', 'Visual cues'],\n        safetyNote: 'Keep routines predictable and positive',\n        environment: ['home', 'school'],\n        supports: ['visuals'],\n        timeRequired: '10-15 min'\n      },\n      {\n        id: 'comm-3',\n        title: '\"One-step helper\" games',\n        goalTags: ['Receptive', 'Following directions'],\n        levelTag: 'Stretch',\n        materials: ['Simple household tasks', 'Clear instructions'],\n        steps: [\n          'Give one simple instruction at a time',\n          'Use gestures and visual cues',\n          'Model the action if needed',\n          'Celebrate completion of each step'\n        ],\n        adaptations: ['Visual instructions', 'Hand-over-hand'],\n        safetyNote: 'Choose safe, age-appropriate tasks',\n        environment: ['home', 'school'],\n        supports: ['visuals', 'hand-over-hand'],\n        timeRequired: '10 min'\n      },\n      {\n        id: 'comm-4',\n        title: 'Echoic practice with favorite words',\n        goalTags: ['Expressive', 'Imitation'],\n        levelTag: 'Stretch',\n        materials: ['Favorite toys', 'Books', 'Daily items'],\n        steps: [\n          'Say favorite words clearly and slowly',\n          'Wait for child to attempt imitation',\n          'Accept any approximation of the word',\n          'Provide positive reinforcement'\n        ],\n        adaptations: ['Slower speech', 'Visual cues'],\n        safetyNote: 'Keep practice fun and low-pressure',\n        environment: ['home', 'therapy'],\n        supports: ['visuals'],\n        timeRequired: '5 min'\n      }\n    ],\n    'social-emotional': [\n      {\n        id: 'social-1',\n        title: 'Peekaboo turn-taking',\n        goalTags: ['Interaction', 'Social games'],\n        levelTag: 'Suggested now',\n        materials: ['Blanket', 'Favorite toy', 'Mirror'],\n        steps: [\n          'Play simple peekaboo games',\n          'Take turns hiding and revealing',\n          'Encourage child to initiate hiding',\n          'Use different hiding spots'\n        ],\n        adaptations: ['Visual cues', 'Slower pace'],\n        safetyNote: 'Keep game fun and not scary',\n        environment: ['home', 'therapy'],\n        supports: ['visuals'],\n        timeRequired: '10 min'\n      },\n      {\n        id: 'social-2',\n        title: '\"Show and share\" box',\n        goalTags: ['Interaction', 'Sharing'],\n        levelTag: 'Suggested now',\n        materials: ['Special box', 'Favorite items'],\n        steps: [\n          'Create a special sharing box',\n          'Encourage child to show items to others',\n          'Practice sharing and taking turns',\n          'Celebrate sharing behaviors'\n        ],\n        adaptations: ['Visual schedule', 'Picture cues'],\n        safetyNote: 'Ensure items are safe to share',\n        environment: ['home', 'school'],\n        supports: ['visuals'],\n        timeRequired: '15 min'\n      },\n      {\n        id: 'social-3',\n        title: 'Visual schedule for transitions',\n        goalTags: ['Regulation', 'Predictability'],\n        levelTag: 'Stretch',\n        materials: ['Picture schedule', 'Timer', 'Transition items'],\n        steps: [\n          'Create simple picture schedule',\n          'Show upcoming transitions',\n          'Use timer for countdown',\n          'Provide transition object if needed'\n        ],\n        adaptations: ['Larger pictures', 'Simple steps'],\n        safetyNote: 'Keep transitions smooth and predictable',\n        environment: ['home', 'school'],\n        supports: ['visuals', 'timer'],\n        timeRequired: '5 min'\n      },\n      {\n        id: 'social-4',\n        title: 'Emotion faces matching',\n        goalTags: ['Regulation', 'Emotional awareness'],\n        levelTag: 'Stretch',\n        materials: ['Emotion cards', 'Mirror', 'Simple faces'],\n        steps: [\n          'Show simple emotion faces',\n          'Model making the same face',\n          'Practice in front of mirror',\n          'Connect emotions to situations'\n        ],\n        adaptations: ['Larger faces', 'Simple emotions'],\n        safetyNote: 'Start with basic emotions only',\n        environment: ['home', 'therapy'],\n        supports: ['visuals'],\n        timeRequired: '10 min'\n      }\n    ],\n    'cognitive-play': [\n      {\n        id: 'cog-1',\n        title: 'In-out games',\n        goalTags: ['Early Play', 'Exploration'],\n        levelTag: 'Suggested now',\n        materials: ['Containers', 'Various objects', 'Toys'],\n        steps: [\n          'Demonstrate putting items in and out',\n          'Practice with different containers',\n          'Encourage exploration and experimentation',\n          'Celebrate discovery and learning'\n        ],\n        adaptations: ['Larger containers', 'Simple objects'],\n        safetyNote: 'Ensure objects are safe and age-appropriate',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '10 min'\n      },\n      {\n        id: 'cog-2',\n        title: 'Cause-effect button toys',\n        goalTags: ['Problem-Solving', 'Cause-effect'],\n        levelTag: 'Suggested now',\n        materials: ['Simple cause-effect toys', 'Buttons'],\n        steps: [\n          'Show how pressing button creates effect',\n          'Encourage child to press buttons',\n          'Practice different buttons and effects',\n          'Celebrate cause-effect understanding'\n        ],\n        adaptations: ['Larger buttons', 'Clear effects'],\n        safetyNote: 'Choose toys with clear, safe effects',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '10 min'\n      },\n      {\n        id: 'cog-3',\n        title: 'Shape sorter',\n        goalTags: ['Problem-Solving', 'Matching'],\n        levelTag: 'Stretch',\n        materials: ['Simple shape sorter', 'Basic shapes'],\n        steps: [\n          'Start with just 2-3 simple shapes',\n          'Demonstrate matching and sorting',\n          'Practice with hand-over-hand support',\n          'Gradually increase difficulty'\n        ],\n        adaptations: ['Larger shapes', 'Simple designs'],\n        safetyNote: 'Supervise closely, ensure pieces are safe',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand', 'visuals'],\n        timeRequired: '15 min'\n      },\n      {\n        id: 'cog-4',\n        title: 'Pretend tea party',\n        goalTags: ['Pretend', 'Imaginative play'],\n        levelTag: 'Stretch',\n        materials: ['Toy cups', 'Plates', 'Pretend food'],\n        steps: [\n          'Model pretend actions (drinking, eating)',\n          'Encourage imitation of pretend behaviors',\n          'Practice simple pretend scenarios',\n          'Celebrate imaginative play'\n        ],\n        adaptations: ['Realistic toys', 'Simple scenarios'],\n        safetyNote: 'Ensure toys are safe and age-appropriate',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '15 min'\n      }\n    ],\n    'adaptive-self-help': [\n      {\n        id: 'adaptive-1',\n        title: 'Open-cup sips with tiny amounts',\n        goalTags: ['Feeding', 'Drinking skills'],\n        levelTag: 'Suggested now',\n        materials: ['Small open cup', 'Tiny amounts of liquid'],\n        steps: [\n          'Start with very small amounts',\n          'Demonstrate sipping motion',\n          'Practice with hand-over-hand support',\n          'Gradually increase amount'\n        ],\n        adaptations: ['Smaller cup', 'Thicker liquids'],\n        safetyNote: 'Supervise closely, use safe liquids',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '5 min'\n      },\n      {\n        id: 'adaptive-2',\n        title: 'Spoon practice with thick foods',\n        goalTags: ['Feeding', 'Self-feeding'],\n        levelTag: 'Suggested now',\n        materials: ['Child-sized spoon', 'Thick foods (yogurt, pudding)'],\n        steps: [\n          'Demonstrate proper spoon grip',\n          'Practice scooping thick foods',\n          'Encourage self-feeding attempts',\n          'Provide positive reinforcement'\n        ],\n        adaptations: ['Adaptive spoon', 'Non-slip bowl'],\n        safetyNote: 'Supervise eating, choose safe foods',\n        environment: ['home', 'therapy'],\n        supports: ['adaptive utensils'],\n        timeRequired: '15 min'\n      },\n      {\n        id: 'adaptive-3',\n        title: 'Sock-off game',\n        goalTags: ['Dressing', 'Undressing skills'],\n        levelTag: 'Stretch',\n        materials: ['Loose socks', 'Comfortable clothing'],\n        steps: [\n          'Start with loose, easy-to-remove socks',\n          'Demonstrate pulling motion',\n          'Practice with hand-over-hand support',\n          'Celebrate each successful removal'\n        ],\n        adaptations: ['Larger socks', 'Loose fit'],\n        safetyNote: 'Ensure socks are not too tight',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '5 min'\n      },\n      {\n        id: 'adaptive-4',\n        title: 'Hand-wash 3-step routine',\n        goalTags: ['Hygiene', 'Self-care routine'],\n        levelTag: 'Stretch',\n        materials: ['Sink', 'Soap', 'Towel', 'Step stool'],\n        steps: [\n          'Turn on water (with help)',\n          'Apply soap and rub hands',\n          'Rinse and dry hands'\n        ],\n        adaptations: ['Step stool', 'Visual routine'],\n        safetyNote: 'Supervise water temperature and usage',\n        environment: ['home', 'school'],\n        supports: ['visuals', 'hand-over-hand'],\n        timeRequired: '10 min'\n      }\n    ]\n  };\n\n  // Overview metrics helper functions\n  const getTotalObservedSkills = () => {\n    // TODO: Calculate total observed skills based on overviewDateRange\n    return 25;\n  };\n\n  const getTotalEmergingSkills = () => {\n    // TODO: Calculate total emerging skills based on overviewDateRange\n    return 8;\n  };\n\n  const getNewSkillsThisPeriod = () => {\n    // TODO: Calculate new skills in the last 30 days\n    return 3;\n  };\n\n  const getPracticeStreak = () => {\n    // TODO: Calculate practice streak (days with milestone updates)\n    return 7;\n  };\n\n  const getFilteredCareIdeas = () => {\n    const domain = selectedDomainForDetail;\n    if (!domain || !careIdeasData[domain]) return [];\n    \n    let ideas = careIdeasData[domain];\n    \n    // Filter by environment\n    if (careIdeasEnvironment.length > 0) {\n      ideas = ideas.filter(idea => \n        idea.environment.some(env => careIdeasEnvironment.includes(env))\n      );\n    }\n    \n    // Filter by supports\n    if (careIdeasSupports.length > 0) {\n      ideas = ideas.filter(idea => \n        idea.supports.some(support => careIdeasSupports.includes(support))\n      );\n    }\n    \n    // Filter by time available\n    ideas = ideas.filter(idea => {\n      if (careIdeasTimeAvailable === '5 min') return idea.timeRequired === '5-10 min';\n      if (careIdeasTimeAvailable === '10-15 min') return idea.timeRequired === '10-15 min';\n      if (careIdeasTimeAvailable === '20+ min') return idea.timeRequired === '15-20 min';\n      return true;\n    });\n    \n    // Content logic: prioritize based on skill statuses\n    const { suggested, stretchNext, foundations } = getFilteredAndGroupedSkills();\n    const notYetOrEmergingCount = suggested.filter(skill => \n      (skillStatuses[skill.id] === 'Not yet' || skillStatuses[skill.id] === 'Emerging')\n    ).length;\n    \n    // Show more \"Foundations\" ideas if >50% of \"Suggested now\" are Not yet\n    const shouldShowFoundations = notYetOrEmergingCount > suggested.length * 0.5;\n    \n    // Sort by priority: Suggested now > Stretch > Foundations\n    ideas.sort((a, b) => {\n      const priority = { 'Suggested now': 3, 'Stretch': 2, 'Foundations': 1 };\n      return priority[b.levelTag] - priority[a.levelTag];\n    });\n    \n    // Limit to 3-6 ideas\n    return ideas.slice(0, shouldShowFoundations ? 6 : 4);\n  };\n\n  // Progress Timeline state\n  const [progressTimeScope, setProgressTimeScope] = useState('30 days');\n  const [progressView, setProgressView] = useState<'By date' | 'By subdomain'>('By date');\n  const [progressCustomStartDate, setProgressCustomStartDate] = useState('');\n  const [progressCustomEndDate, setProgressCustomEndDate] = useState('');\n\n  // Sample progress data for demonstration\n  const progressData: Record<string, {\n    timeline: Array<{\n      date: string;\n      skill: string;\n      status: 'Observed' | 'Emerging';\n    }>;\n    subdomains: Record<string, {\n      observed: number;\n      emerging: number;\n    }>;\n  }> = {\n    'motor': {\n      timeline: [\n        { date: '2024-03-15', skill: 'Rolls both ways', status: 'Observed' },\n        { date: '2024-03-12', skill: 'Sits briefly without support', status: 'Observed' },\n        { date: '2024-03-08', skill: 'Pulls to stand', status: 'Emerging' },\n        { date: '2024-03-05', skill: 'Pincer grasp', status: 'Observed' },\n        { date: '2024-02-28', skill: 'Stacks 2 blocks', status: 'Emerging' }\n      ],\n      subdomains: {\n        'gross': { observed: 3, emerging: 2 },\n        'fine': { observed: 1, emerging: 1 }\n      }\n    },\n    'communication': {\n      timeline: [\n        { date: '2024-03-12', skill: 'Uses 5-10 words', status: 'Observed' },\n        { date: '2024-03-08', skill: 'Follows 1-step directions', status: 'Observed' },\n        { date: '2024-03-03', skill: 'Points to request', status: 'Emerging' }\n      ],\n      subdomains: {\n        'expressive': { observed: 1, emerging: 0 },\n        'receptive': { observed: 1, emerging: 1 }\n      }\n    },\n    'social-emotional': {\n      timeline: [\n        { date: '2024-03-10', skill: 'Social smile', status: 'Observed' },\n        { date: '2024-03-05', skill: 'Joint attention', status: 'Emerging' }\n      ],\n      subdomains: {\n        'interaction': { observed: 1, emerging: 1 },\n        'regulation': { observed: 0, emerging: 0 }\n      }\n    }\n  };\n\n  const getProgressDataForDomain = () => {\n    const domain = selectedDomainForDetail;\n    if (!domain || !progressData[domain]) return null;\n    \n    const data = progressData[domain];\n    let filteredTimeline = [...data.timeline];\n    \n    // Filter by time scope\n    const endDate = new Date();\n    let startDate = new Date();\n    \n    switch (progressTimeScope) {\n      case '30 days':\n        startDate.setDate(endDate.getDate() - 30);\n        break;\n      case '90 days':\n        startDate.setDate(endDate.getDate() - 90);\n        break;\n      case 'Custom':\n        if (progressCustomStartDate && progressCustomEndDate) {\n          startDate = new Date(progressCustomStartDate);\n          const customEnd = new Date(progressCustomEndDate);\n          filteredTimeline = filteredTimeline.filter(item => {\n            const itemDate = new Date(item.date);\n            return itemDate >= startDate && itemDate <= customEnd;\n          });\n          return { timeline: filteredTimeline, subdomains: data.subdomains };\n        }\n        break;\n    }\n    \n    filteredTimeline = filteredTimeline.filter(item => {\n      const itemDate = new Date(item.date);\n      return itemDate >= startDate && itemDate <= endDate;\n    });\n    \n    return { timeline: filteredTimeline, subdomains: data.subdomains };\n  };\n\n  const handleExportDomainProgress = () => {\n    // TODO: Export domain progress to PDF\n    console.log('Exporting domain progress to PDF');\n    // TODO: Show toast: \"Export started\"\n  };\n\n  const handleAddToVisitPacket = (itemId: string, itemType: string = 'skill') => {\n    setVisitPacketItems(prev => new Set(Array.from(prev).concat(itemId)));\n    showToastMessage(`${itemType} added to Visit Packet`);\n  };\n\n  const handleRemoveFromVisitPacket = (itemId: string, itemType: string = 'skill') => {\n    setVisitPacketItems(prev => {\n      const newSet = new Set(Array.from(prev));\n      newSet.delete(itemId);\n      return newSet;\n    });\n    showToastMessage(`${itemType} removed from Visit Packet`);\n  };\n\n  const handleAddSelectedToVisitPacket = () => {\n    if (selectedSkills.length === 0) return;\n    \n    setVisitPacketItems(prev => new Set(Array.from(prev).concat(selectedSkills)));\n    showToastMessage(`${selectedSkills.length} skill${selectedSkills.length !== 1 ? 's' : ''} added to Visit Packet`);\n    setSelectedSkills([]);\n  };\n\n  // Export domain report modal state\n  const [showExportReportModal, setShowExportReportModal] = useState(false);\n  const [exportReportOptions, setExportReportOptions] = useState({\n    dateRange: {\n      start: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0], // 30 days ago\n      end: new Date().toISOString().split('T')[0]\n    },\n    include: {\n      observed: true,\n      emerging: true,\n      notes: true\n    },\n    sections: {\n      skillsList: true,\n      careIdeasSnapshot: true,\n      timelineChart: true\n    }\n  });\n  const [exportReportStatus, setExportReportStatus] = useState<'options' | 'generating' | 'ready'>('options');\n\n  // Visit Packet state\n  const [visitPacketItems, setVisitPacketItems] = useState<Set<string>>(new Set());\n  const [showToast, setShowToast] = useState(false);\n  const [toastMessage, setToastMessage] = useState('');\n  const [toastType, setToastType] = useState<'success' | 'info' | 'error'>('success');\n\n  const handleExportDomainReport = () => {\n    // TODO: Generate domain report PDF\n    console.log('Generating domain report with options:', exportReportOptions);\n    setExportReportStatus('generating');\n    \n    // Simulate PDF generation\n    setTimeout(() => {\n      setExportReportStatus('ready');\n    }, 2000);\n  };\n\n  const handleSaveToVisitPacket = () => {\n    // TODO: Save report to visit packet\n    console.log('Saving report to visit packet');\n    // TODO: Show toast: \"Report saved to visit packet\"\n  };\n\n  const showToastMessage = (message: string, type: 'success' | 'info' | 'error' = 'success') => {\n    setToastMessage(message);\n    setToastType(type);\n    setShowToast(true);\n    setTimeout(() => setShowToast(false), 3000);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-20 py-4\">\n            <div>\n              <h1 className=\"text-2xl font-semibold text-gray-900\">\n                Growth & Milestones\n              </h1>\n              <p className=\"text-sm text-gray-500 mt-1\">\n                Track observed skills across domains at your child's pace.\n              </p>\n            </div>\n            \n            <div className=\"flex items-center space-x-3\">\n              {/* Info Icon */}\n              <div className=\"relative group\">\n                <button className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\">\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </button>\n                {/* Tooltip */}\n                <div className=\"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10\">\n                  Not a diagnostic tool\n                  <div className=\"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"></div>\n                </div>\n              </div>\n\n              {/* AI Suggestions Button */}\n              <button \n                onClick={() => setShowAISuggestionsModal(true)}\n                className=\"px-3 py-2 text-xs font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\n                aria-label=\"Get AI suggestions for next skills\"\n              >\n                Suggest next skills (AI)\n              </button>\n\n              {/* Secondary Action */}\n              <button\n                onClick={() => setShowReportModal(true)}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Generate Milestone Report\n              </button>\n\n              {/* Primary Action */}\n              <button \n                onClick={handleAddSkill}\n                className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Add Skill\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Growth Sub-navigation */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <nav className=\"flex space-x-8\" aria-label=\"Growth & Milestones navigation\">\n            <button\n              onClick={() => setActiveGrowthTab('domains')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeGrowthTab === 'domains'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n              aria-current={activeGrowthTab === 'domains' ? 'page' : undefined}\n            >\n              Domains\n            </button>\n            <button\n              onClick={() => setActiveGrowthTab('overview')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeGrowthTab === 'overview'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n              aria-current={activeGrowthTab === 'overview' ? 'page' : undefined}\n            >\n              Overview\n            </button>\n            <button\n              onClick={() => setActiveGrowthTab('reports')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeGrowthTab === 'reports'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n              aria-current={activeGrowthTab === 'reports' ? 'page' : undefined}\n            >\n              Reports\n            </button>\n            <button\n              onClick={() => setActiveGrowthTab('ideas')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeGrowthTab === 'ideas'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n              aria-current={activeGrowthTab === 'ideas' ? 'page' : undefined}\n            >\n              Ideas Library\n            </button>\n          </nav>\n        </div>\n      </div>\n\n      {/* Filter Bar */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 sm:space-x-6\">\n            {/* Age Selector */}\n            <div className=\"flex items-center space-x-3\">\n              <label className=\"text-sm font-medium text-gray-700\">Age:</label>\n              {useDevelopmentalLevel ? (\n                <select\n                  value={developmentalLevel}\n                  onChange={(e) => setDevelopmentalLevel(e.target.value)}\n                  className=\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"Early\">Early (0-12m)</option>\n                  <option value=\"Toddler\">Toddler (12-36m)</option>\n                  <option value=\"Preschool\">Preschool (3-5y)</option>\n                  <option value=\"School-age\">School-age (5+)</option>\n                </select>\n              ) : (\n                <select\n                  value={chronologicalAge}\n                  onChange={(e) => setChronologicalAge(e.target.value)}\n                  className=\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"6 months\">6 months</option>\n                  <option value=\"12 months\">12 months</option>\n                  <option value=\"18 months\">18 months</option>\n                  <option value=\"24 months\">24 months</option>\n                  <option value=\"3 years\">3 years</option>\n                  <option value=\"4 years\">4 years</option>\n                  <option value=\"5 years\">5 years</option>\n                  <option value=\"6 years\">6 years</option>\n                </select>\n              )}\n            </div>\n\n            {/* Developmental Level Toggle */}\n            <div className=\"flex items-center space-x-3\">\n              <label className=\"text-sm font-medium text-gray-700\">Use developmental level instead:</label>\n              <button\n                onClick={() => setUseDevelopmentalLevel(!useDevelopmentalLevel)}\n                className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${\n                  useDevelopmentalLevel ? 'bg-blue-600' : 'bg-gray-200'\n                }`}\n              >\n                <span\n                  className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                    useDevelopmentalLevel ? 'translate-x-6' : 'translate-x-1'\n                  }`}\n                />\n              </button>\n            </div>\n\n            {/* Time Scope */}\n            <div className=\"flex items-center space-x-3\">\n              <label className=\"text-sm font-medium text-gray-700\">Time scope:</label>\n              <select\n                value={timeScope}\n                onChange={(e) => setTimeScope(e.target.value)}\n                className=\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"This week\">This week</option>\n                <option value=\"30 days\">30 days</option>\n                <option value=\"90 days\">90 days</option>\n                <option value=\"Custom\">Custom</option>\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Content based on active tab */}\n      {activeGrowthTab === 'domains' && (\n        <>\n          {/* Domain Tiles */}\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"lg:flex lg:space-x-8\">\n          {/* Main Content - Domain Tiles */}\n          <div className=\"lg:flex-1\">\n            {isLoading ? (\n              // Loading state - skeleton tiles\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\">\n                {[1, 2, 3, 4, 5].map((i) => (\n                  <DomainTileSkeleton key={i} />\n                ))}\n              </div>\n            ) : !hasMilestones ? (\n              // Empty state - no milestones yet\n              <div className=\"text-center py-12\">\n                <div className=\"mx-auto max-w-md\">\n                  <div className=\"text-gray-400 mb-6\">\n                    <svg className=\"mx-auto h-32 w-32\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                    </svg>\n                  </div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                    No milestones yet\n                  </h3>\n                  <p className=\"text-gray-500 mb-6\">\n                    Start by adding a skill you've noticed.\n                  </p>\n                  <button\n                    onClick={handleAddSkill}\n                    className=\"px-6 py-3 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    aria-label=\"Add your first skill\"\n                  >\n                    Add Skill\n                  </button>\n                </div>\n              </div>\n            ) : (\n              // Normal state - domain tiles\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\">\n                {domains.map((domain) => {\n                  const progressPercentage = (domain.observed / domain.suggested) * 100;\n                  const circumference = 2 * Math.PI * 18; // radius = 18\n                  const strokeDasharray = circumference;\n                  const strokeDashoffset = circumference - (progressPercentage / 100) * circumference;\n\n                  return (\n                    <div key={domain.id} className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow\" role=\"article\" aria-labelledby={`domain-${domain.id}-title`}>\n                      {/* Domain Header */}\n                      <div className=\"flex items-start justify-between mb-4\">\n                        <div className=\"flex items-center space-x-3\">\n                          <div className=\"text-3xl\" aria-hidden=\"true\">{domain.icon}</div>\n                          <div>\n                            <h3 id={`domain-${domain.id}-title`} className=\"text-lg font-semibold text-gray-900\">{domain.name}</h3>\n                            {domain.subtitle && (\n                              <p className=\"text-sm text-gray-500\">{domain.subtitle}</p>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* Progress Ring */}\n                      <div className=\"flex items-center justify-center mb-4\">\n                        <div className=\"relative\" role=\"progressbar\" aria-valuenow={domain.observed} aria-valuemin={0} aria-valuemax={domain.suggested} aria-label={`${domain.name} progress: ${domain.observed} of ${domain.suggested} skills observed`}>\n                          <svg className=\"w-16 h-16 transform -rotate-90\" viewBox=\"0 0 36 36\" aria-hidden=\"true\">\n                            {/* Background circle */}\n                            <circle\n                              cx=\"18\"\n                              cy=\"18\"\n                              r=\"18\"\n                              fill=\"none\"\n                              stroke=\"#e5e7eb\"\n                              strokeWidth=\"3\"\n                            />\n                            {/* Progress circle */}\n                            <circle\n                              cx=\"18\"\n                              cy=\"18\"\n                              r=\"18\"\n                              fill=\"none\"\n                              stroke=\"#3b82f6\"\n                              strokeWidth=\"3\"\n                              strokeDasharray={strokeDasharray}\n                              strokeDashoffset={strokeDashoffset}\n                              strokeLinecap=\"round\"\n                              className=\"transition-all duration-300\"\n                            />\n                          </svg>\n                          <div className=\"absolute inset-0 flex items-center justify-center\">\n                            <span className=\"text-sm font-medium text-gray-900\">\n                              {domain.observed}/{domain.suggested}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* Progress Text */}\n                      <p className=\"text-sm text-gray-600 text-center mb-4\">\n                        Observed {domain.observed} of {domain.suggested} suggested skills\n                      </p>\n\n                      {/* Last Skill Info */}\n                      <div className=\"text-center mb-4\">\n                        {domain.lastSkill ? (\n                          <p className=\"text-sm text-gray-500\">\n                            Last new skill: <span className=\"font-medium text-gray-700\">{domain.lastSkill}</span> on {domain.lastDate}\n                          </p>\n                        ) : (\n                          <p className=\"text-sm text-gray-500\">No skills yet</p>\n                        )}\n                      </div>\n\n                      {/* CTA Button */}\n                      <button\n                        onClick={() => handleOpenDomain(domain.id)}\n                        className=\"w-full px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\n                        aria-label={`Open ${domain.name} domain details`}\n                      >\n                        Open\n                      </button>\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n\n          {/* Right Gutter - Future Care Ideas Panel (5B) */}\n          <div className=\"hidden xl:block xl:w-80 mt-8 lg:mt-0\">\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Care Ideas</h3>\n              <div className=\"text-center py-8\">\n                <div className=\"text-gray-400 mb-4\">\n                  <svg className=\"mx-auto h-16 w-16\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n                  </svg>\n                </div>\n                <p className=\"text-sm text-gray-500 mb-2\">Coming in Phase 5B</p>\n                <p className=\"text-xs text-gray-400\">Personalized care recommendations and strategies</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Mini Milestones Journal Section */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n          {/* Journal Header */}\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">Recent milestone entries</h2>\n              <button\n                onClick={handleViewAllMilestones}\n                className=\"text-sm font-medium text-blue-600 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"View all milestone entries\"\n              >\n                View all\n              </button>\n            </div>\n          </div>\n\n          {/* Journal Entries */}\n          <div className=\"divide-y divide-gray-200\">\n            {isLoading ? (\n              // Loading state - skeleton entries\n              Array.from({ length: 5 }).map((_, i) => (\n                <JournalEntrySkeleton key={i} />\n              ))\n            ) : !hasMilestones ? (\n              // Empty state - no milestone entries\n              <div className=\"px-6 py-8 text-center\">\n                <div className=\"text-gray-400 mb-4\">\n                  <svg className=\"mx-auto h-16 w-16\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                  </svg>\n                </div>\n                <p className=\"text-gray-500 mb-4\">No milestone entries yet</p>\n                <button\n                  onClick={handleAddSkill}\n                  className=\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  aria-label=\"Add your first milestone entry\"\n                >\n                  Add Skill\n                </button>\n              </div>\n            ) : (\n              // Normal state - milestone entries\n              milestoneEntries.slice(0, 10).map((entry) => (\n                <div key={entry.id} className=\"px-6 py-4 hover:bg-gray-50 transition-colors\" role=\"article\" aria-labelledby={`milestone-${entry.id}-title`}>\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"text-xl\" aria-hidden=\"true\">{entry.domainIcon}</div>\n                      <div>\n                        <h3 id={`milestone-${entry.id}-title`} className=\"text-sm font-medium text-gray-900\">{entry.skillName}</h3>\n                        <div className=\"flex items-center space-x-2 mt-1\">\n                          <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${getStatusBadgeColor(entry.status)}`} role=\"status\" aria-label={`Status: ${entry.status}`}>\n                            {entry.status}\n                          </span>\n                          <span className=\"text-xs text-gray-500\">\n                            {entry.date} â€¢ {getContextLabel(entry.context)}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                    <button\n                      onClick={() => handleViewMilestone(entry.id)}\n                      className=\"text-sm font-medium text-blue-600 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      aria-label={`View details for ${entry.skillName}`}\n                    >\n                      View\n                    </button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Page Footer with Settings Link */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"border-t border-gray-200 pt-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"text-sm text-gray-500\">\n              CareGene â€¢ Growth & Development Tracking\n            </div>\n            <button\n              onClick={() => setShowSettingsModal(true)}\n              className=\"text-sm font-medium text-blue-600 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              aria-label=\"Open milestone settings\"\n            >\n              Milestone settings\n            </button>\n          </div>\n        </div>\n      </div>\n        </>\n      )}\n\n      {/* Overview Tab Content */}\n      {activeGrowthTab === 'overview' && (\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          {/* Metrics Strip */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">Cross-Domain Progress</h2>\n              <div className=\"flex items-center space-x-3\">\n                <label className=\"text-sm font-medium text-gray-700\">Date range:</label>\n                <select\n                  value={overviewDateRange}\n                  onChange={(e) => setOverviewDateRange(e.target.value)}\n                  className=\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"This week\">This week</option>\n                  <option value=\"30 days\">30 days</option>\n                  <option value=\"90 days\">90 days</option>\n                  <option value=\"Custom\">Custom</option>\n                </select>\n              </div>\n            </div>\n            \n            {/* Metrics Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n              {/* Observed Skills Card */}\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-blue-600\">Observed Skills</p>\n                    <p className=\"text-2xl font-bold text-blue-900\">{getTotalObservedSkills()}</p>\n                    <p className=\"text-xs text-blue-700\">Total in range</p>\n                  </div>\n                  <div className=\"text-blue-400\">\n                    <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n\n              {/* Emerging Skills Card */}\n              <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-yellow-600\">Emerging Skills</p>\n                    <p className=\"text-2xl font-bold text-yellow-900\">{getTotalEmergingSkills()}</p>\n                    <p className=\"text-xs text-yellow-700\">In development</p>\n                  </div>\n                  <div className=\"text-yellow-400\">\n                    <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n\n              {/* New This Period Card */}\n              <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-green-600\">New This Period</p>\n                    <p className=\"text-2xl font-bold text-green-900\">{getNewSkillsThisPeriod()}</p>\n                    <p className=\"text-xs text-green-700\">Last 30 days</p>\n                  </div>\n                  <div className=\"text-green-400\">\n                    <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n\n              {/* Practice Streak Card */}\n              <div className=\"bg-purple-50 border border-purple-200 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-purple-600\">Practice Streak</p>\n                    <p className=\"text-2xl font-bold text-purple-900\">{getPracticeStreak()}</p>\n                    <p className=\"text-xs text-purple-700\">Days with updates</p>\n                  </div>\n                  <div className=\"text-purple-400\">\n                    <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Add Skill Quick Sheet Modal */}\n      {showAddSkillSheet && (\n        <div \n          className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"add-skill-title\"\n          aria-describedby=\"add-skill-description\"\n        >\n          <div className=\"relative top-10 mx-auto p-6 border w-full max-w-2xl shadow-lg rounded-md bg-white\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 id=\"add-skill-title\" className=\"text-xl font-semibold text-gray-900\">Add Skill</h2>\n              <button\n                onClick={() => setShowAddSkillSheet(false)}\n                className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Close add skill form\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            {/* Progress Steps */}\n            <nav aria-label=\"Add skill progress\" className=\"flex items-center justify-between mb-6\">\n              {[1, 2, 3, 4, 5, 6].map((step) => (\n                <div key={step} className=\"flex items-center\">\n                  <div \n                    className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${\n                      step === currentStep \n                        ? 'bg-blue-600 text-white' \n                        : step < currentStep \n                          ? 'bg-green-500 text-white' \n                          : 'bg-gray-200 text-gray-600'\n                    }`}\n                    aria-current={step === currentStep ? 'step' : undefined}\n                    aria-label={`Step ${step}${step < currentStep ? ' completed' : step === currentStep ? ' current' : ''}`}\n                  >\n                    {step < currentStep ? 'âœ“' : step}\n                  </div>\n                  {step < 6 && (\n                    <div className={`w-16 h-1 mx-2 ${\n                      step < currentStep ? 'bg-green-500' : 'bg-gray-200'\n                    }`} aria-hidden=\"true\" />\n                  )}\n                </div>\n              ))}\n            </nav>\n\n            {/* Step Content */}\n            <div className=\"min-h-64\" id=\"add-skill-description\">\n              {/* Step 1: Choose Domain */}\n              {currentStep === 1 && (\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Choose Domain</h3>\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n                    {domains.map((domain) => (\n                      <button\n                        key={domain.id}\n                        onClick={() => {\n                          setSelectedDomain(domain.id);\n                          handleNextStep();\n                        }}\n                        className={`p-4 border rounded-lg text-left hover:border-blue-300 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                          selectedDomain === domain.id ? 'border-blue-500 bg-blue-50' : 'border-gray-200'\n                        }`}\n                        aria-pressed={selectedDomain === domain.id}\n                        aria-label={`Select ${domain.name} domain${domain.subtitle ? ` (${domain.subtitle})` : ''}`}\n                      >\n                        <div className=\"text-2xl mb-2\" aria-hidden=\"true\">{domain.icon}</div>\n                        <div className=\"font-medium text-gray-900\">{domain.name}</div>\n                        {domain.subtitle && (\n                          <div className=\"text-sm text-gray-500\">{domain.subtitle}</div>\n                        )}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Step 2: Select Skill */}\n              {currentStep === 2 && (\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Select Skill</h3>\n                  <div className=\"mb-4\">\n                    <label htmlFor=\"skill-search\" className=\"sr-only\">Search skills</label>\n                    <input\n                      id=\"skill-search\"\n                      type=\"text\"\n                      placeholder=\"Search skills...\"\n                      value={searchQuery}\n                      onChange={(e) => setSearchQuery(e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      aria-label=\"Search skills by name\"\n                    />\n                  </div>\n                  \n                  {/* AI Pick Skill Button */}\n                  <div className=\"mb-4\">\n                    <button\n                      disabled\n                      className=\"w-full px-3 py-2 text-sm font-medium text-gray-400 bg-gray-50 border border-gray-200 rounded-md cursor-not-allowed opacity-60\"\n                      title=\"Coming soon\"\n                      aria-label=\"Use AI to pick skill (coming soon)\"\n                    >\n                      Use AI to pick skill\n                    </button>\n                    <p className=\"text-xs text-gray-400 mt-1 text-center\">Coming soon</p>\n                  </div>\n                  \n                  <div className=\"space-y-2 max-h-48 overflow-y-auto\" role=\"listbox\" aria-label=\"Available skills\">\n                    {displayedSkills.map((skill) => (\n                      <button\n                        key={skill.id}\n                        onClick={() => {\n                          setSelectedSkill(skill.id);\n                          handleNextStep();\n                        }}\n                        className={`w-full p-3 text-left border rounded-lg hover:border-blue-300 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                          selectedSkill === skill.id ? 'border-blue-500 bg-blue-50' : 'border-gray-200'\n                        }`}\n                        role=\"option\"\n                        aria-selected={selectedSkill === skill.id}\n                        aria-label={`Select skill: ${skill.name} (${skill.ageBand} level)`}\n                      >\n                        <div className=\"font-medium text-gray-900\">{skill.name}</div>\n                        <div className=\"text-sm text-gray-500\">{skill.description}</div>\n                        <div className=\"text-xs text-gray-400 mt-1\">{skill.ageBand}</div>\n                      </button>\n                    ))}\n                  </div>\n                  {filteredSkills.length > 10 && (\n                    <button\n                      onClick={() => setShowAllSkills(!showAllSkills)}\n                      className=\"mt-3 text-blue-600 hover:text-blue-700 text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      aria-expanded={showAllSkills}\n                      aria-controls=\"skill-list\"\n                    >\n                      {showAllSkills ? 'Show top 10' : `Show all ${filteredSkills.length} skills in domain`}\n                    </button>\n                  )}\n                </div>\n              )}\n\n              {/* Step 3: Mark Status */}\n              {currentStep === 3 && (\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Mark Status</h3>\n                  <fieldset className=\"space-y-3\">\n                    <legend className=\"sr-only\">Skill status options</legend>\n                    {['Observed', 'Emerging', 'Not yet', 'Not applicable'].map((status) => (\n                      <label key={status} className=\"flex items-center\">\n                        <input\n                          type=\"radio\"\n                          name=\"status\"\n                          value={status}\n                          checked={skillStatus === status}\n                          onChange={(e) => setSkillStatus(e.target.value)}\n                          className=\"mr-3 text-blue-600 focus:ring-blue-500\"\n                          aria-describedby={`status-${status.toLowerCase().replace(' ', '-')}-help`}\n                        />\n                        <span className=\"text-gray-900\">{status}</span>\n                      </label>\n                    ))}\n                  </fieldset>\n                  <div className=\"mt-3 text-sm text-gray-500\">\n                    <p id=\"status-observed-help\">Observed: You've seen your child demonstrate this skill</p>\n                    <p id=\"status-emerging-help\">Emerging: Your child is starting to show this skill</p>\n                    <p id=\"status-not-yet-help\">Not yet: Your child hasn't shown this skill yet</p>\n                    <p id=\"status-not-applicable-help\">N/A: This skill doesn't apply to your child's situation</p>\n                  </div>\n                </div>\n              )}\n\n              {/* Step 4: Date Observed */}\n              {currentStep === 4 && (\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Date Observed</h3>\n                  <label htmlFor=\"date-observed\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    When did you observe this skill?\n                  </label>\n                  <input\n                    id=\"date-observed\"\n                    type=\"date\"\n                    value={dateObserved}\n                    onChange={(e) => setDateObserved(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    aria-describedby=\"date-observed-help\"\n                  />\n                  <p id=\"date-observed-help\" className=\"mt-1 text-sm text-gray-500\">\n                    Select the date when you first noticed this skill, or today if you're observing it now.\n                  </p>\n                </div>\n              )}\n\n              {/* Step 5: Supports Used */}\n              {currentStep === 5 && (\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Supports Used (Optional)</h3>\n                  <p className=\"text-sm text-gray-500 mb-4\">Select any supports or accommodations that helped your child demonstrate this skill.</p>\n                  <fieldset className=\"grid grid-cols-1 sm:grid-cols-2 gap-2\">\n                    <legend className=\"sr-only\">Support options</legend>\n                    {supportsOptions.map((support) => (\n                      <label key={support} className=\"flex items-center\">\n                        <input\n                          type=\"checkbox\"\n                          checked={supportsUsed.includes(support)}\n                          onChange={(e) => {\n                            if (e.target.checked) {\n                              setSupportsUsed([...supportsUsed, support]);\n                            } else {\n                              setSupportsUsed(supportsUsed.filter(s => s !== support));\n                            }\n                          }}\n                          className=\"mr-2 text-blue-600 focus:ring-blue-500\"\n                        />\n                        <span className=\"text-gray-900 capitalize\">{support}</span>\n                      </label>\n                    ))}\n                  </fieldset>\n                </div>\n              )}\n\n              {/* Step 6: Context and Notes */}\n              {currentStep === 6 && (\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Context and Notes</h3>\n                  <div className=\"mb-4\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Context (Optional)</label>\n                    <p className=\"text-sm text-gray-500 mb-3\">Where and when did you observe this skill?</p>\n                    <fieldset className=\"grid grid-cols-1 sm:grid-cols-2 gap-2\">\n                      <legend className=\"sr-only\">Context options</legend>\n                      {contextOptions.map((ctx) => (\n                        <label key={ctx} className=\"flex items-center\">\n                          <input\n                            type=\"checkbox\"\n                            checked={context.includes(ctx)}\n                            onChange={(e) => {\n                              if (e.target.checked) {\n                                setContext([...context, ctx]);\n                              } else {\n                                setContext(context.filter(c => c !== ctx));\n                              }\n                            }}\n                            className=\"mr-2 text-blue-600 focus:ring-blue-500\"\n                          />\n                          <span className=\"text-gray-900 capitalize\">{ctx}</span>\n                        </label>\n                      ))}\n                    </fieldset>\n                  </div>\n                  <div>\n                    <label htmlFor=\"skill-notes\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Notes (Optional, 200 chars)\n                    </label>\n                    <textarea\n                      id=\"skill-notes\"\n                      value={notes}\n                      onChange={(e) => setNotes(e.target.value.slice(0, 200))}\n                      rows={3}\n                      placeholder=\"Add any additional notes about how your child demonstrated this skill...\"\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      aria-describedby=\"notes-counter\"\n                    />\n                    <div id=\"notes-counter\" className=\"text-right text-sm text-gray-500 mt-1\">\n                      {notes.length}/200\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Navigation */}\n            <div className=\"flex items-center justify-between pt-6 border-t\">\n              <div>\n                {currentStep > 1 && (\n                  <button\n                    onClick={handlePrevStep}\n                    className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    aria-label=\"Go to previous step\"\n                  >\n                    Back\n                  </button>\n                )}\n              </div>\n              <div className=\"flex space-x-3\">\n                <button\n                  onClick={() => setShowAddSkillSheet(false)}\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  aria-label=\"Cancel adding skill\"\n                >\n                  Cancel\n                </button>\n                {currentStep === 6 ? (\n                  <>\n                    <button\n                      onClick={handleSave}\n                      className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      aria-label=\"Save skill entry\"\n                    >\n                      Save\n                    </button>\n                    <button\n                      onClick={handleSaveAndAddAnother}\n                      className=\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      aria-label=\"Save skill and add another\"\n                    >\n                      Save & Add Another\n                    </button>\n                  </>\n                ) : (\n                  <button\n                    onClick={handleNextStep}\n                    disabled={!selectedDomain || (currentStep === 2 && !selectedSkill)}\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    aria-label=\"Go to next step\"\n                    aria-describedby={(!selectedDomain || (currentStep === 2 && !selectedSkill)) ? \"next-step-error\" : undefined}\n                  >\n                    Next\n                  </button>\n                )}\n              </div>\n            </div>\n            {(!selectedDomain || (currentStep === 2 && !selectedSkill)) && (\n              <div id=\"next-step-error\" className=\"mt-2 text-sm text-red-600\" role=\"alert\">\n                Please complete the current step before continuing.\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Milestone Detail Modal */}\n      {showMilestoneDetail && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Milestone Detail</h3>\n              <p className=\"text-sm text-gray-500 mb-4\">\n                This feature will show detailed milestone information.\n              </p>\n              <button\n                onClick={() => setShowMilestoneDetail(null)}\n                className=\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Milestone Settings Modal */}\n      {showSettingsModal && (\n        <div \n          className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"settings-modal-title\"\n        >\n          <div className=\"relative top-10 mx-auto p-6 border w-full max-w-md shadow-lg rounded-md bg-white\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 id=\"settings-modal-title\" className=\"text-lg font-semibold text-gray-900\">Milestone Settings</h3>\n              <button\n                onClick={() => setShowSettingsModal(false)}\n                className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Close settings modal\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"space-y-6\">\n              {/* Default View Setting */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-3\">\n                  Default view\n                </label>\n                <fieldset className=\"space-y-2\">\n                  <legend className=\"sr-only\">Default view options</legend>\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"radio\"\n                      name=\"defaultView\"\n                      value=\"age-based\"\n                      checked={defaultView === 'age-based'}\n                      onChange={(e) => setDefaultView(e.target.value as 'age-based' | 'developmental')}\n                      className=\"mr-3 text-blue-600 focus:ring-blue-500\"\n                    />\n                    <span className=\"text-gray-900\">Age-based (chronological age)</span>\n                  </label>\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"radio\"\n                      name=\"defaultView\"\n                      value=\"developmental\"\n                      checked={defaultView === 'developmental'}\n                      onChange={(e) => setDefaultView(e.target.value as 'age-based' | 'developmental')}\n                      className=\"mr-3 text-blue-600 focus:ring-blue-500\"\n                    />\n                    <span className=\"text-gray-900\">Developmental level</span>\n                  </label>\n                </fieldset>\n                <p className=\"mt-2 text-sm text-gray-500\">\n                  Choose how milestones are displayed by default when you visit this page.\n                </p>\n              </div>\n\n              {/* Show Skills Beyond Current Level */}\n              <div>\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Show skills beyond current level</label>\n                    <p className=\"text-sm text-gray-500 mt-1\">\n                      Display skills that are typically achieved at higher age/developmental levels\n                    </p>\n                  </div>\n                  <button\n                    onClick={() => setShowSkillsBeyondLevel(!showSkillsBeyondLevel)}\n                    className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${\n                      showSkillsBeyondLevel ? 'bg-blue-600' : 'bg-gray-200'\n                    }`}\n                    role=\"switch\"\n                    aria-checked={showSkillsBeyondLevel}\n                    aria-label=\"Toggle showing skills beyond current level\"\n                  >\n                    <span className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                      showSkillsBeyondLevel ? 'translate-x-6' : 'translate-x-1'\n                    }`} />\n                  </button>\n                </div>\n              </div>\n\n              {/* Weekly Reminder */}\n              <div>\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Weekly reminder to review milestones</label>\n                    <p className=\"text-sm text-gray-500 mt-1\">\n                      Get notified weekly to review and update your child's milestone progress\n                    </p>\n                  </div>\n                  <button\n                    onClick={() => setWeeklyReminder(!weeklyReminder)}\n                    className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${\n                      weeklyReminder ? 'bg-blue-600' : 'bg-gray-200'\n                    }`}\n                    role=\"switch\"\n                    aria-checked={weeklyReminder}\n                    aria-label=\"Toggle weekly milestone reminders\"\n                  >\n                    <span className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                      weeklyReminder ? 'translate-x-6' : 'translate-x-1'\n                    }`} />\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex justify-end space-x-3 pt-6 border-t\">\n              <button\n                onClick={() => setShowSettingsModal(false)}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Cancel settings changes\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleSaveSettings}\n                className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Save milestone settings\"\n              >\n                Save\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Generate Milestone Report Modal */}\n      {showReportModal && (\n        <div \n          className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"report-modal-title\"\n        >\n          <div className=\"relative top-10 mx-auto p-6 border w-full max-w-md shadow-lg rounded-md bg-white\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 id=\"report-modal-title\" className=\"text-lg font-semibold text-gray-900\">Milestone Report (last 30 days)</h3>\n              <button\n                onClick={() => {\n                  setShowReportModal(false);\n                  setReportReady(false);\n                  setIsGeneratingReport(false);\n                }}\n                className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Close report modal\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            {!isGeneratingReport && !reportReady && (\n              <>\n                <div className=\"space-y-6\">\n                  {/* Domain Selection */}\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-3\">\n                      Include domains\n                    </label>\n                    <fieldset className=\"space-y-2\">\n                      <legend className=\"sr-only\">Domain selection options</legend>\n                      {[\n                        { id: 'motor', name: 'Motor (Gross & Fine)', icon: 'ðŸƒ' },\n                        { id: 'communication', name: 'Communication (Expressive & Receptive)', icon: 'ðŸ’¬' },\n                        { id: 'social-emotional', name: 'Social-Emotional', icon: 'ðŸ˜Š' },\n                        { id: 'cognitive-play', name: 'Cognitive/Play', icon: 'ðŸ§©' },\n                        { id: 'adaptive-self-help', name: 'Adaptive/Self-Help', icon: 'ðŸ‘•' }\n                      ].map((domain) => (\n                        <label key={domain.id} className=\"flex items-center\">\n                          <input\n                            type=\"checkbox\"\n                            checked={reportOptions.domains.includes(domain.id)}\n                            onChange={(e) => {\n                              if (e.target.checked) {\n                                setReportOptions(prev => ({\n                                  ...prev,\n                                  domains: [...prev.domains, domain.id]\n                                }));\n                              } else {\n                                setReportOptions(prev => ({\n                                  ...prev,\n                                  domains: prev.domains.filter(d => d !== domain.id)\n                                }));\n                              }\n                            }}\n                            className=\"mr-3 text-blue-600 focus:ring-blue-500\"\n                          />\n                          <span className=\"text-gray-900 flex items-center\">\n                            <span className=\"mr-2\" aria-hidden=\"true\">{domain.icon}</span>\n                            {domain.name}\n                          </span>\n                        </label>\n                      ))}\n                    </fieldset>\n                  </div>\n\n                  {/* Include Emerging Skills */}\n                  <div>\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <label className=\"text-sm font-medium text-gray-700\">Include Emerging skills</label>\n                        <p className=\"text-sm text-gray-500 mt-1\">\n                          Show skills that your child is starting to demonstrate\n                        </p>\n                      </div>\n                      <button\n                        onClick={() => setReportOptions(prev => ({ ...prev, includeEmerging: !prev.includeEmerging }))}\n                        className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${\n                          reportOptions.includeEmerging ? 'bg-blue-600' : 'bg-gray-200'\n                        }`}\n                        role=\"switch\"\n                        aria-checked={reportOptions.includeEmerging}\n                        aria-label=\"Toggle including emerging skills in report\"\n                      >\n                        <span className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                          reportOptions.includeEmerging ? 'translate-x-6' : 'translate-x-1'\n                        }`} />\n                      </button>\n                    </div>\n                  </div>\n\n                  {/* Include Notes */}\n                  <div>\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <label className=\"text-sm font-medium text-gray-700\">Include Notes</label>\n                        <p className=\"text-sm text-gray-500 mt-1\">\n                          Include any additional notes you've added to milestone entries\n                        </p>\n                      </div>\n                      <button\n                        onClick={() => setReportOptions(prev => ({ ...prev, includeNotes: !prev.includeNotes }))}\n                        className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${\n                          reportOptions.includeNotes ? 'bg-blue-600' : 'bg-gray-200'\n                        }`}\n                        role=\"switch\"\n                        aria-checked={reportOptions.includeNotes}\n                        aria-label=\"Toggle including notes in report\"\n                      >\n                        <span className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                          reportOptions.includeNotes ? 'translate-x-6' : 'translate-x-1'\n                        }`} />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"flex justify-end space-x-3 pt-6 border-t\">\n                  <button\n                    onClick={() => {\n                      setShowReportModal(false);\n                      setReportReady(false);\n                      setIsGeneratingReport(false);\n                    }}\n                    className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    aria-label=\"Cancel report generation\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={handleGenerateReport}\n                    disabled={reportOptions.domains.length === 0}\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    aria-label=\"Generate milestone report PDF\"\n                    aria-describedby={reportOptions.domains.length === 0 ? \"domain-selection-error\" : undefined}\n                  >\n                    Generate PDF\n                  </button>\n                </div>\n                {reportOptions.domains.length === 0 && (\n                  <div id=\"domain-selection-error\" className=\"mt-2 text-sm text-red-600\" role=\"alert\">\n                    Please select at least one domain to include in the report.\n                  </div>\n                )}\n              </>\n            )}\n\n            {/* Generating Report State */}\n            {isGeneratingReport && (\n              <div className=\"text-center py-8\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\" aria-hidden=\"true\"></div>\n                <h4 className=\"text-lg font-medium text-gray-900 mb-2\">Generating Report</h4>\n                <p className=\"text-sm text-gray-500\">Please wait while we compile your milestone data...</p>\n              </div>\n            )}\n\n            {/* Report Ready State */}\n            {reportReady && (\n              <div className=\"text-center py-8\">\n                <div className=\"text-green-500 mb-4\">\n                  <svg className=\"mx-auto h-16 w-16\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </div>\n                <h4 className=\"text-lg font-medium text-gray-900 mb-2\">Download Ready</h4>\n                <p className=\"text-sm text-gray-500 mb-6\">Your milestone report has been generated successfully.</p>\n                \n                <div className=\"space-y-3\">\n                  <button\n                    onClick={handleDownloadReport}\n                    className=\"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    aria-label=\"Download milestone report PDF\"\n                  >\n                    Download PDF\n                  </button>\n                  <button\n                    onClick={handleSaveToVisitPacket}\n                    className=\"w-full px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    aria-label=\"Save report to Visit Packet\"\n                  >\n                    Save to Visit Packet\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* AI Suggestions Modal */}\n      {showAISuggestionsModal && (\n        <div \n          className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"ai-suggestions-title\"\n        >\n          <div className=\"relative top-10 mx-auto p-6 border w-full max-w-md shadow-lg rounded-md bg-white\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 id=\"ai-suggestions-title\" className=\"text-lg font-semibold text-gray-900\">AI Skill Suggestions</h3>\n              <button\n                onClick={() => setShowAISuggestionsModal(false)}\n                className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Close AI suggestions modal\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            \n            <div className=\"space-y-4\">\n              <p className=\"text-sm text-gray-600\">\n                Based on your child's current skills and developmental level, here are some suggested next skills to work on:\n              </p>\n              \n              {/* Disabled AI Suggestions */}\n              <div className=\"space-y-3\">\n                <div className=\"p-3 bg-gray-50 border border-gray-200 rounded-lg opacity-60\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <h6 className=\"text-sm font-medium text-gray-700\">Fine motor precision</h6>\n                      <p className=\"text-xs text-gray-500 mt-1\">Practice stacking 4-5 blocks with steady hands</p>\n                    </div>\n                    <button\n                      disabled\n                      className=\"px-3 py-1 text-xs font-medium text-gray-400 bg-gray-200 border border-gray-300 rounded cursor-not-allowed\"\n                    >\n                      Accept\n                    </button>\n                  </div>\n                </div>\n                \n                <div className=\"p-3 bg-gray-50 border border-gray-200 rounded-lg opacity-60\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <h6 className=\"text-sm font-medium text-gray-700\">Bilateral coordination</h6>\n                      <p className=\"text-xs text-gray-500 mt-1\">Use both hands together for activities like clapping</p>\n                    </div>\n                    <button\n                      disabled\n                      className=\"px-3 py-1 text-xs font-medium text-gray-400 bg-gray-200 border border-gray-300 rounded cursor-not-allowed\"\n                    >\n                      Accept\n                    </button>\n                  </div>\n                </div>\n                \n                <div className=\"p-3 bg-gray-50 border border-gray-200 rounded-lg opacity-60\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <h6 className=\"text-sm font-medium text-gray-700\">Hand-eye coordination</h6>\n                      <p className=\"text-xs text-gray-500 mt-1\">Practice throwing and catching a soft ball</p>\n                    </div>\n                    <button\n                      disabled\n                      className=\"px-3 py-2 text-xs font-medium text-gray-400 bg-gray-200 border border-gray-300 rounded cursor-not-allowed\"\n                    >\n                      Accept\n                    </button>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n                <div className=\"flex items-start space-x-2\">\n                  <svg className=\"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <div>\n                    <p className=\"text-sm text-blue-800 font-medium\">AI-powered suggestions coming soon!</p>\n                    <p className=\"text-xs text-blue-700 mt-1\">\n                      We're working on intelligent skill recommendations based on your child's unique development pattern.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"flex justify-end\">\n                              <button\n                  onClick={() => setShowAISuggestionsModal(false)}\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  aria-label=\"Close AI suggestions\"\n                >\n                  Close\n                </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Domain Detail Placeholder Modal */}\n      {showDomainDetailModal && (\n        <div \n          className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"domain-detail-title\"\n        >\n          <div className=\"relative top-10 mx-auto p-6 border w-full max-w-7xl shadow-lg rounded-md bg-white h-[90vh] overflow-hidden\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between mb-6 border-b border-gray-200 pb-4\">\n              <div>\n                <h3 id=\"domain-detail-title\" className=\"text-xl font-semibold text-gray-900\">\n                  {domains.find(d => d.id === selectedDomainForDetail)?.name || 'Domain'}\n                </h3>\n                <p className=\"text-sm text-gray-500 mt-1\">Track skills and explore care ideas.</p>\n              </div>\n              <div className=\"flex items-center space-x-3\">\n                <button\n                  disabled\n                  className=\"px-3 py-2 text-xs font-medium text-gray-400 bg-gray-50 border border-gray-200 rounded-md cursor-not-allowed opacity-60\"\n                  title=\"Coming soon\"\n                  aria-label=\"Suggest next skills with AI (coming soon)\"\n                >\n                  Suggest next skills (AI)\n                </button>\n                <button\n                  onClick={() => setShowReportModal(true)}\n                  className=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  aria-label=\"Export domain report\"\n                >\n                  Export domain report\n                </button>\n                <button\n                  onClick={handleAddSkill}\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  aria-label=\"Add skill to this domain\"\n                >\n                  Add Skill\n                </button>\n                <button\n                  onClick={() => setShowDomainDetailModal(false)}\n                  className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  aria-label=\"Close domain detail modal\"\n                >\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n\n            {/* Progress Chip */}\n            <div className=\"flex items-center justify-center mb-6\">\n              <div className=\"inline-flex items-center px-4 py-2 bg-blue-50 border border-blue-200 rounded-full\">\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"relative w-6 h-6\">\n                    <svg className=\"w-6 h-6 transform -rotate-90\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                      <circle\n                        cx=\"12\"\n                        cy=\"12\"\n                        r=\"10\"\n                        fill=\"none\"\n                        stroke=\"#e5e7eb\"\n                        strokeWidth=\"2\"\n                      />\n                      <circle\n                        cx=\"12\"\n                        cy=\"12\"\n                        r=\"10\"\n                        fill=\"none\"\n                        stroke=\"#3b82f6\"\n                        strokeWidth=\"2\"\n                        strokeDasharray=\"62.83\"\n                        strokeDashoffset=\"37.7\"\n                        strokeLinecap=\"round\"\n                      />\n                    </svg>\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\n                      <span className=\"text-xs font-medium text-blue-600\">3/5</span>\n                    </div>\n                  </div>\n                  <span className=\"text-sm font-medium text-blue-900\">\n                    Observed 3 of 5 suggested skills\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            {/* Mobile Tabbed Layout */}\n            <div className=\"lg:hidden\">\n              <div className=\"border-b border-gray-200 mb-6\">\n                <nav className=\"flex space-x-8\" aria-label=\"Domain detail tabs\">\n                  {['Skills', 'Care Ideas', 'Progress'].map((tab) => (\n                    <button\n                      key={tab}\n                      onClick={() => setActiveMobileTab(tab)}\n                      className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                        activeMobileTab === tab\n                          ? 'border-blue-500 text-blue-600'\n                          : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                      }`}\n                      aria-label={`View ${tab.toLowerCase()} tab`}\n                    >\n                      {tab}\n                    </button>\n                  ))}\n                </nav>\n              </div>\n\n              {/* Mobile Tab Content */}\n              <div className=\"h-[calc(90vh-200px)] overflow-y-auto\">\n                {activeMobileTab === 'Skills' && (\n                  <div className=\"space-y-4\">\n                    <h4 className=\"text-lg font-medium text-gray-900\">Skills Checklist</h4>\n                    <p className=\"text-sm text-gray-500\">Coming in Phase 5B Step 4</p>\n                  </div>\n                )}\n                {activeMobileTab === 'Care Ideas' && (\n                  <div className=\"space-y-4\">\n                    <h4 className=\"text-lg font-medium text-gray-900\">Care Ideas</h4>\n                    <p className=\"text-sm text-gray-500\">Coming in Phase 5B Step 5</p>\n                  </div>\n                )}\n                {activeMobileTab === 'Progress' && (\n                  <div className=\"space-y-4\">\n                    <h4 className=\"text-lg font-medium text-gray-900\">Progress Timeline</h4>\n                    <p className=\"text-sm text-gray-500\">Coming in Phase 5B Step 6</p>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Desktop Two-Column Layout */}\n            <div className=\"hidden lg:flex lg:space-x-8 h-[calc(90vh-200px)]\">\n              {/* Left Column - Skills Checklist (70%) */}\n              <div \n                className=\"flex-1 bg-gray-50 rounded-lg p-6 overflow-y-auto\"\n                role=\"region\"\n                aria-label=\"Skills Checklist\"\n              >\n                <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Skills Checklist</h4>\n                \n                {/* Top Bar - Search and Filters */}\n                <div className=\"bg-white rounded-lg border border-gray-200 p-4 mb-6\">\n                  {/* Search */}\n                  <div className=\"mb-4\">\n                    <label htmlFor=\"skills-search\" className=\"sr-only\">Search skills</label>\n                    <input\n                      id=\"skills-search\"\n                      type=\"text\"\n                      placeholder=\"Search skills...\"\n                      value={skillsSearchQuery}\n                      onChange={(e) => setSkillsSearchQuery(e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      aria-label=\"Search skills by name or description\"\n                    />\n                  </div>\n                  \n                  {/* Filters Row */}\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3\">\n                    {/* Level Filter */}\n                    <div>\n                      <label htmlFor=\"level-filter\" className=\"block text-xs font-medium text-gray-700 mb-1\">Level</label>\n                      <select\n                        id=\"level-filter\"\n                        value={skillsLevelFilter}\n                        onChange={(e) => setSkillsLevelFilter(e.target.value)}\n                        className=\"w-full text-sm border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      >\n                        <option value=\"All\">All levels</option>\n                        <option value=\"Early\">Early (0-12m)</option>\n                        <option value=\"Toddler\">Toddler (12-36m)</option>\n                        <option value=\"Preschool\">Preschool (3-5y)</option>\n                        <option value=\"School-age\">School-age (5+)</option>\n                      </select>\n                    </div>\n                    \n                    {/* Subdomain Filter */}\n                    <div>\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">Subdomain</label>\n                      <div className=\"flex flex-wrap gap-1\">\n                        {domainSubdomains[selectedDomainForDetail as keyof typeof domainSubdomains]?.map((subdomain) => (\n                          <button\n                            key={subdomain}\n                            onClick={() => {\n                              if (skillsSubdomainFilter.includes(subdomain.toLowerCase())) {\n                                setSkillsSubdomainFilter(prev => prev.filter(s => s !== subdomain.toLowerCase()));\n                              } else {\n                                setSkillsSubdomainFilter(prev => [...prev, subdomain.toLowerCase()]);\n                              }\n                            }}\n                            className={`px-2 py-1 text-xs rounded-full border ${\n                              skillsSubdomainFilter.includes(subdomain.toLowerCase())\n                                ? 'bg-blue-100 border-blue-300 text-blue-800'\n                                : 'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'\n                            }`}\n                            aria-label={`Filter by ${subdomain} subdomain`}\n                          >\n                            {subdomain}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                    \n                    {/* Status Filter */}\n                    <div>\n                      <label htmlFor=\"status-filter\" className=\"block text-xs font-medium text-gray-700 mb-1\">Status</label>\n                      <select\n                        id=\"status-filter\"\n                        value={skillsStatusFilter}\n                        onChange={(e) => setSkillsStatusFilter(e.target.value)}\n                        className=\"w-full text-sm border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      >\n                        <option value=\"All\">All statuses</option>\n                        <option value=\"Observed\">Observed</option>\n                        <option value=\"Emerging\">Emerging</option>\n                        <option value=\"Not yet\">Not yet</option>\n                        <option value=\"N/A\">N/A</option>\n                      </select>\n                    </div>\n                    \n                    {/* Sort */}\n                    <div>\n                      <label htmlFor=\"sort-filter\" className=\"block text-xs font-medium text-gray-700 mb-1\">Sort</label>\n                      <select\n                        id=\"sort-filter\"\n                        value={skillsSortBy}\n                        onChange={(e) => setSkillsSortBy(e.target.value)}\n                        className=\"w-full text-sm border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      >\n                        <option value=\"Recommended\">Recommended</option>\n                        <option value=\"A-Z\">A-Z</option>\n                        <option value=\"Recently updated\">Recently updated</option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Bulk Actions */}\n                {selectedSkills.length > 0 && (\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-sm text-blue-800\">\n                        {selectedSkills.length} skill{selectedSkills.length !== 1 ? 's' : ''} selected\n                      </span>\n                      <div className=\"flex space-x-2\">\n                        <button\n                          onClick={() => handleBulkAction('mark-observed')}\n                          className=\"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 border border-blue-300 rounded hover:bg-blue-200\"\n                        >\n                          Mark Observed\n                        </button>\n                        <button\n                          onClick={() => handleBulkAction('mark-emerging')}\n                          className=\"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 border border-blue-300 rounded hover:bg-blue-200\"\n                        >\n                          Mark Emerging\n                        </button>\n                        <button\n                          onClick={handleAddSelectedToVisitPacket}\n                          className=\"px-3 py-1 text-xs font-medium text-green-700 bg-green-100 border border-green-300 rounded hover:bg-green-200\"\n                        >\n                          Add selected to Visit Packet\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* Skills List */}\n                <div className=\"space-y-4\">\n                  {(() => {\n                    const { suggested, stretchNext, foundations } = getFilteredAndGroupedSkills();\n                    \n                    return (\n                      <>\n                        {/* Suggested Now Section */}\n                        {suggested.length > 0 && (\n                          <div>\n                            <h5 className=\"text-sm font-medium text-gray-900 mb-3 flex items-center\">\n                              <span className=\"w-2 h-2 bg-green-500 rounded-full mr-2\"></span>\n                              Suggested now ({suggested.length})\n                            </h5>\n                            <div className=\"space-y-2\">\n                              {suggested.map((skill) => (\n                                <SkillRow\n                                  key={skill.id}\n                                  skill={skill}\n                                  status={skillStatuses[skill.id] || 'Not yet'}\n                                  lastObserved={lastObservedDates[skill.id]}\n                                  supports={sampleSupportsUsed[skill.id] || []}\n                                  isSelected={selectedSkills.includes(skill.id)}\n                                  isFocused={focusedSkillId === skill.id}\n                                  index={suggested.indexOf(skill)}\n                                  onSelectionChange={(selected) => {\n                                    if (selected) {\n                                      setSelectedSkills(prev => [...prev, skill.id]);\n                                    } else {\n                                      setSelectedSkills(prev => prev.filter(id => id !== skill.id));\n                                    }\n                                  }}\n                                  onStatusChange={(status) => handleSkillStatusChange(skill.id, status)}\n                                  onSupportsUpdate={(supports) => handleSkillSupportsUpdate(skill.id, supports)}\n                                  onKeyDown={(e) => handleKeyDown(e, skill.id, suggested.indexOf(skill))}\n                                  onFocus={() => handleSkillFocus(skill.id, suggested.indexOf(skill))}\n                                />\n                              ))}\n                            </div>\n                          </div>\n                        )}\n\n                        {/* Stretch Next Section */}\n                        {stretchNext.length > 0 && (\n                          <div>\n                            <h5 className=\"text-sm font-medium text-gray-900 mb-3 flex items-center\">\n                              <span className=\"w-2 h-2 bg-blue-500 rounded-full mr-2\"></span>\n                              Stretch next ({stretchNext.length})\n                            </h5>\n                            <div className=\"space-y-2\">\n                              {stretchNext.map((skill) => (\n                                <SkillRow\n                                  key={skill.id}\n                                  skill={skill}\n                                  status={skillStatuses[skill.id] || 'Not yet'}\n                                  lastObserved={lastObservedDates[skill.id]}\n                                  supports={sampleSupportsUsed[skill.id] || []}\n                                  isSelected={selectedSkills.includes(skill.id)}\n                                  isFocused={focusedSkillId === skill.id}\n                                  index={stretchNext.indexOf(skill)}\n                                  onSelectionChange={(selected) => {\n                                    if (selected) {\n                                      setSelectedSkills(prev => [...prev, skill.id]);\n                                    } else {\n                                      setSelectedSkills(prev => prev.filter(id => id !== skill.id));\n                                    }\n                                  }}\n                                  onStatusChange={(status) => handleSkillStatusChange(skill.id, status)}\n                                  onSupportsUpdate={(supports) => handleSkillSupportsUpdate(skill.id, supports)}\n                                  onKeyDown={(e) => handleKeyDown(e, skill.id, stretchNext.indexOf(skill))}\n                                  onFocus={() => handleSkillFocus(skill.id, stretchNext.indexOf(skill))}\n                                />\n                              ))}\n                            </div>\n                          </div>\n                        )}\n\n                        {/* Foundations Section */}\n                        {foundations.length > 0 && (\n                          <div>\n                            <h5 className=\"text-sm font-medium text-gray-900 mb-3 flex items-center\">\n                              <span className=\"w-2 h-2 bg-gray-500 rounded-full mr-2\"></span>\n                              Foundations ({foundations.length})\n                            </h5>\n                            <div className=\"space-y-2\">\n                              {foundations.map((skill) => (\n                                <SkillRow\n                                  key={skill.id}\n                                  skill={skill}\n                                  status={skillStatuses[skill.id] || 'Not yet'}\n                                  lastObserved={lastObservedDates[skill.id]}\n                                  supports={sampleSupportsUsed[skill.id] || []}\n                                  isSelected={selectedSkills.includes(skill.id)}\n                                  isFocused={focusedSkillId === skill.id}\n                                  index={foundations.indexOf(skill)}\n                                  onSelectionChange={(selected) => {\n                                    if (selected) {\n                                      setSelectedSkills(prev => [...prev, skill.id]);\n                                    } else {\n                                      setSelectedSkills(prev => prev.filter(id => id !== skill.id));\n                                    }\n                                  }}\n                                  onStatusChange={(status) => handleSkillStatusChange(skill.id, status)}\n                                  onSupportsUpdate={(supports) => handleSkillSupportsUpdate(skill.id, supports)}\n                                  onKeyDown={(e) => handleKeyDown(e, skill.id, foundations.indexOf(skill))}\n                                  onFocus={() => handleSkillFocus(skill.id, foundations.indexOf(skill))}\n                                />\n                              ))}\n                            </div>\n                          </div>\n                        )}\n\n                        {/* No Skills Message */}\n                        {suggested.length === 0 && stretchNext.length === 0 && foundations.length === 0 && (\n                          <div className=\"text-center py-8 text-gray-500\">\n                            <p>No skills match the current filters.</p>\n                            <p className=\"text-sm\">Try adjusting your search or filter criteria.</p>\n                          </div>\n                        )}\n                      </>\n                    );\n                  })()}\n                </div>\n\n                {/* Add Custom Skill */}\n                <div className=\"mt-6 pt-4 border-t border-gray-200\">\n                  <button\n                    onClick={() => setShowCustomSkillForm(true)}\n                    className=\"w-full px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    aria-label=\"Add custom skill\"\n                  >\n                    + Add custom skill\n                  </button>\n                </div>\n              </div>\n\n              {/* Right Column - Care Ideas (30%, sticky) */}\n              <div \n                className=\"w-80 bg-white rounded-lg border border-gray-200 p-6 overflow-y-auto lg:sticky lg:top-6 lg:self-start\"\n                role=\"region\"\n                aria-label=\"Care Ideas\"\n              >\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h4 className=\"text-lg font-medium text-gray-900\">\n                    Care Ideas for {selectedDomainForDetail?.charAt(0).toUpperCase() + selectedDomainForDetail?.slice(1)}\n                  </h4>\n                  <button\n                    disabled\n                    className=\"px-3 py-1 text-xs font-medium text-gray-400 bg-gray-100 border border-gray-200 rounded cursor-not-allowed\"\n                    title=\"Coming soon\"\n                    aria-label=\"Generate care ideas using AI (coming soon)\"\n                  >\n                    Generate care ideas (AI)\n                  </button>\n                </div>\n                \n                {/* Personalize Bar */}\n                <div className=\"space-y-4 mb-6\">\n                  {/* Environment */}\n                  <div>\n                    <label className=\"block text-xs font-medium text-gray-700 mb-2\">Environment</label>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {['home', 'school', 'therapy', 'community'].map((env) => (\n                        <button\n                          key={env}\n                          onClick={() => {\n                            if (careIdeasEnvironment.includes(env)) {\n                              setCareIdeasEnvironment(prev => prev.filter(e => e !== env));\n                            } else {\n                              setCareIdeasEnvironment(prev => [...prev, env]);\n                            }\n                          }}\n                          className={`px-2 py-1 text-xs rounded-full border ${\n                            careIdeasEnvironment.includes(env)\n                              ? 'bg-blue-100 border-blue-300 text-blue-800'\n                              : 'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'\n                          }`}\n                          aria-label={`Filter by ${env} environment`}\n                        >\n                          {env.charAt(0).toUpperCase() + env.slice(1)}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                  \n                  {/* Supports Available */}\n                  <div>\n                    <label className=\"block text-xs font-medium text-gray-700 mb-2\">Supports available</label>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {['Visuals', 'AAC', 'Adaptive utensils', 'Orthotics', 'Timer', 'Sensory breaks'].map((support) => (\n                        <button\n                          key={support}\n                          onClick={() => {\n                            if (careIdeasSupports.includes(support.toLowerCase())) {\n                              setCareIdeasSupports(prev => prev.filter(s => s !== support.toLowerCase()));\n                            } else {\n                              setCareIdeasSupports(prev => [...prev, support.toLowerCase()]);\n                            }\n                          }}\n                          className={`px-2 py-1 text-xs rounded-full border ${\n                            careIdeasSupports.includes(support.toLowerCase())\n                              ? 'bg-green-100 border-green-300 text-green-800'\n                              : 'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'\n                          }`}\n                          aria-label={`Filter by ${support} support`}\n                        >\n                          {support}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                  \n                  {/* Time Available */}\n                  <div>\n                    <label className=\"block text-xs font-medium text-gray-700 mb-2\">Time available</label>\n                    <div className=\"flex gap-1\">\n                      {['5 min', '10-15 min', '20+ min'].map((time) => (\n                        <button\n                          key={time}\n                          onClick={() => setCareIdeasTimeAvailable(time)}\n                          className={`px-3 py-1 text-xs rounded-md border ${\n                            careIdeasTimeAvailable === time\n                              ? 'bg-purple-100 border-purple-300 text-purple-800'\n                              : 'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'\n                          }`}\n                          aria-label={`Select ${time} time available`}\n                        >\n                          {time}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n\n                {/* Care Ideas Cards */}\n                <div className=\"space-y-4\">\n                  {(() => {\n                    const filteredIdeas = getFilteredCareIdeas();\n                    \n                    if (filteredIdeas.length === 0) {\n                      return (\n                        <div className=\"text-center py-8 text-gray-500\">\n                          <p className=\"text-sm mb-3\">Log or update skills to see tailored ideas.</p>\n                          <button\n                            onClick={() => {\n                              // TODO: Navigate to skills section\n                              console.log('Navigate to skills');\n                            }}\n                            className=\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100\"\n                          >\n                            Go to Skills\n                          </button>\n                        </div>\n                      );\n                    }\n                    \n                    return filteredIdeas.map((idea) => (\n                      <div key={idea.id} className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n                        {/* Header */}\n                        <div className=\"flex items-start justify-between mb-3\">\n                          <h5 className=\"text-sm font-medium text-gray-900\">{idea.title}</h5>\n                          <button\n                            className=\"text-gray-400 hover:text-gray-600\"\n                            aria-label=\"Pin to shortcuts\"\n                            title=\"Pin to shortcuts\"\n                          >\n                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\" />\n                            </svg>\n                          </button>\n                        </div>\n                        \n                        {/* Tags */}\n                        <div className=\"flex flex-wrap gap-1 mb-3\">\n                          {idea.goalTags.map((tag) => (\n                            <span key={tag} className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                              {tag}\n                            </span>\n                          ))}\n                          <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${\n                            idea.levelTag === 'Suggested now' ? 'bg-green-100 text-green-800' :\n                            idea.levelTag === 'Stretch' ? 'bg-yellow-100 text-yellow-800' :\n                            'bg-gray-100 text-gray-800'\n                          }`}>\n                            {idea.levelTag}\n                          </span>\n                        </div>\n                        \n                        {/* Materials */}\n                        <div className=\"mb-3\">\n                          <span className=\"text-xs font-medium text-gray-700\">Materials: </span>\n                          <span className=\"text-xs text-gray-600\">{idea.materials.join(', ')}</span>\n                        </div>\n                        \n                        {/* Steps */}\n                        <div className=\"mb-3\">\n                          <span className=\"text-xs font-medium text-gray-700\">Steps:</span>\n                          <ul className=\"mt-1 space-y-1\">\n                            {idea.steps.map((step, index) => (\n                              <li key={index} className=\"text-xs text-gray-600 flex items-start\">\n                                <span className=\"text-gray-400 mr-1\">â€¢</span>\n                                {step}\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                        \n                        {/* Adaptations */}\n                        {idea.adaptations.length > 0 && (\n                          <div className=\"mb-3\">\n                            <span className=\"text-xs font-medium text-gray-700\">Adaptations: </span>\n                            <div className=\"flex flex-wrap gap-1 mt-1\">\n                              {idea.adaptations.map((adaptation) => (\n                                <span key={adaptation} className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800\">\n                                  {adaptation}\n                                </span>\n                              ))}\n                            </div>\n                          </div>\n                        )}\n                        \n                        {/* Safety Note */}\n                        {idea.safetyNote && (\n                          <div className=\"mb-3 p-2 bg-red-50 border border-red-200 rounded\">\n                            <span className=\"text-xs font-medium text-red-800\">Safety: </span>\n                            <span className=\"text-xs text-red-700\">{idea.safetyNote}</span>\n                          </div>\n                        )}\n                        \n                        {/* Actions */}\n                        <div className=\"flex space-x-2 pt-3 border-t border-gray-200\">\n                          <button className=\"flex-1 px-2 py-1 text-xs font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded hover:bg-blue-100\">\n                            Save\n                          </button>\n                          <button className=\"flex-1 px-2 py-1 text-xs font-medium text-gray-600 bg-gray-50 border border-gray-200 rounded hover:bg-gray-100\">\n                            Print\n                          </button>\n                          <button className=\"flex-1 px-2 py-1 text-xs font-medium text-green-600 bg-green-50 border border-green-200 rounded hover:bg-green-100\">\n                            Share\n                          </button>\n                        </div>\n                      </div>\n                    ));\n                  })()}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Custom Skill Form Modal */}\n      {showCustomSkillForm && (\n        <div \n          className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"custom-skill-title\"\n        >\n          <div className=\"relative top-10 mx-auto p-6 border w-full max-w-md shadow-lg rounded-md bg-white\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 id=\"custom-skill-title\" className=\"text-lg font-semibold text-gray-900\">Add Custom Skill</h3>\n              <button\n                onClick={() => setShowCustomSkillForm(false)}\n                className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Close custom skill form\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              {/* Skill Name */}\n              <div>\n                <label htmlFor=\"custom-skill-name\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Skill Name *\n                </label>\n                <input\n                  id=\"custom-skill-name\"\n                  type=\"text\"\n                  value={customSkillForm.name}\n                  onChange={(e) => setCustomSkillForm(prev => ({ ...prev, name: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\"Enter skill name\"\n                  aria-describedby=\"skill-name-help\"\n                />\n                <p id=\"skill-name-help\" className=\"mt-1 text-sm text-gray-500\">\n                  Describe the specific skill you want to track\n                </p>\n              </div>\n\n              {/* Subdomain */}\n              <div>\n                <label htmlFor=\"custom-skill-subdomain\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Subdomain *\n                </label>\n                <select\n                  id=\"custom-skill-subdomain\"\n                  value={customSkillForm.subdomain}\n                  onChange={(e) => setCustomSkillForm(prev => ({ ...prev, subdomain: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"\">Select subdomain</option>\n                  {domainSubdomains[selectedDomainForDetail as keyof typeof domainSubdomains]?.map((subdomain) => (\n                    <option key={subdomain} value={subdomain.toLowerCase()}>\n                      {subdomain}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Level Band */}\n              <div>\n                <label htmlFor=\"custom-skill-level\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Level Band\n                </label>\n                <select\n                  id=\"custom-skill-level\"\n                  value={customSkillForm.levelBand}\n                  onChange={(e) => setCustomSkillForm(prev => ({ ...prev, levelBand: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"Early\">Early (0-12m)</option>\n                  <option value=\"Toddler\">Toddler (12-36m)</option>\n                  <option value=\"Preschool\">Preschool (3-5y)</option>\n                  <option value=\"School-age\">School-age (5+)</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex justify-end space-x-3 pt-6 border-t\">\n              <button\n                onClick={() => setShowCustomSkillForm(false)}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Cancel adding custom skill\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleAddCustomSkill}\n                disabled={!customSkillForm.name || !customSkillForm.subdomain}\n                className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                aria-label=\"Save custom skill\"\n              >\n                Save\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Skill History Drawer */}\n      {showSkillHistory && selectedSkillForHistory && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 z-50\">\n          <div className=\"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-xl\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-900\">\n                  {selectedSkillForHistory.name}\n                </h3>\n                <p className=\"text-sm text-gray-500 capitalize\">\n                  {selectedSkillForHistory.subdomain} â€¢ {selectedSkillForHistory.ageBand}\n                </p>\n              </div>\n              <button\n                onClick={() => setShowSkillHistory(false)}\n                className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Close skill history\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            {/* Content */}\n            <div className=\"flex-1 overflow-y-auto p-6\">\n              {/* Actions */}\n              <div className=\"flex space-x-2 mb-6\">\n                <button\n                  onClick={handleEditLastEntry}\n                  className=\"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                >\n                  Edit last entry\n                </button>\n                <button\n                  onClick={() => setShowAddNoteForm(true)}\n                  className=\"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-50 border border-gray-200 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n                >\n                  Add note\n                </button>\n              </div>\n\n              {/* Status Changes Timeline */}\n              <div className=\"mb-8\">\n                <h4 className=\"text-md font-medium text-gray-900 mb-4\">Status Changes</h4>\n                <div className=\"space-y-4\">\n                  {skillHistoryData[selectedSkillForHistory.id]?.statusChanges?.map((change, index) => (\n                    <div key={index} className=\"relative pl-6\">\n                      {/* Timeline dot */}\n                      <div className=\"absolute left-0 top-2 w-3 h-3 bg-blue-500 rounded-full\"></div>\n                      \n                      {/* Timeline line */}\n                      {index < (skillHistoryData[selectedSkillForHistory.id]?.statusChanges?.length || 0) - 1 && (\n                        <div className=\"absolute left-1.5 top-5 w-0.5 h-8 bg-gray-200\"></div>\n                      )}\n                      \n                      {/* Content */}\n                      <div className=\"bg-gray-50 rounded-lg p-3\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                          <span className=\"text-sm font-medium text-gray-900\">\n                            {change.status}\n                          </span>\n                          <span className=\"text-xs text-gray-500\">\n                            {new Date(change.date).toLocaleDateString()}\n                          </span>\n                        </div>\n                        \n                        {change.supports.length > 0 && (\n                          <div className=\"mb-2\">\n                            <span className=\"text-xs text-gray-600\">Supports: </span>\n                            <span className=\"text-xs text-gray-800\">\n                              {change.supports.join(', ')}\n                            </span>\n                          </div>\n                        )}\n                        \n                        <div className=\"text-xs text-gray-500\">\n                          Updated by {change.author}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                  \n                  {(!skillHistoryData[selectedSkillForHistory.id]?.statusChanges || skillHistoryData[selectedSkillForHistory.id].statusChanges.length === 0) && (\n                    <div className=\"text-center py-4 text-gray-500\">\n                      <p className=\"text-sm\">No status changes recorded yet.</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Notes */}\n              <div>\n                <h4 className=\"text-md font-medium text-gray-900 mb-4\">Notes</h4>\n                <div className=\"space-y-3\">\n                  {skillHistoryData[selectedSkillForHistory.id]?.notes?.map((note, index) => (\n                    <div key={index} className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\">\n                      <div className=\"flex items-start justify-between mb-2\">\n                        <span className=\"text-xs font-medium text-yellow-800\">\n                          {note.author}\n                        </span>\n                        <span className=\"text-xs text-yellow-600\">\n                          {new Date(note.timestamp).toLocaleString()}\n                        </span>\n                      </div>\n                      <p className=\"text-sm text-yellow-900\">{note.text}</p>\n                    </div>\n                  ))}\n                  \n                  {(!skillHistoryData[selectedSkillForHistory.id]?.notes || skillHistoryData[selectedSkillForHistory.id].notes.length === 0) && (\n                    <div className=\"text-center py-4 text-gray-500\">\n                      <p className=\"text-sm\">No notes yet.</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Add Note Form Modal */}\n      {showAddNoteForm && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 z-50 flex items-center justify-center\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Add Note</h3>\n              <button\n                onClick={() => setShowAddNoteForm(false)}\n                className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Close add note form\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"mb-4\">\n              <label htmlFor=\"note-text\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Note *\n              </label>\n              <textarea\n                id=\"note-text\"\n                value={newNoteText}\n                onChange={(e) => setNewNoteText(e.target.value)}\n                rows={4}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Enter your note about this skill...\"\n                aria-describedby=\"note-help\"\n              />\n              <p id=\"note-help\" className=\"mt-1 text-sm text-gray-500\">\n                Add observations, progress notes, or reminders about this skill.\n              </p>\n            </div>\n\n            <div className=\"flex justify-end space-x-3\">\n              <button\n                onClick={() => setShowAddNoteForm(false)}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleAddNote}\n                disabled={!newNoteText.trim()}\n                className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                Add Note\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Progress Timeline Section (Desktop) */}\n      <div className=\"hidden lg:block mt-8 bg-white rounded-lg border border-gray-200 p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h4 className=\"text-lg font-medium text-gray-900\">Progress Timeline</h4>\n          \n          {/* Progress Controls */}\n          <div className=\"flex items-center space-x-4\">\n            {/* Time Scope */}\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-sm text-gray-700\">Time scope:</span>\n              <div className=\"flex space-x-1\">\n                {['30 days', '90 days', 'Custom'].map((scope) => (\n                  <button\n                    key={scope}\n                    onClick={() => setProgressTimeScope(scope)}\n                    className={`px-3 py-1 text-xs rounded-md border ${\n                      progressTimeScope === scope\n                        ? 'bg-blue-100 border-blue-300 text-blue-800'\n                        : 'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'\n                    }`}\n                  >\n                    {scope}\n                  </button>\n                ))}\n              </div>\n              \n              {/* Custom Date Range */}\n              {progressTimeScope === 'Custom' && (\n                <div className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"date\"\n                    value={progressCustomStartDate}\n                    onChange={(e) => setProgressCustomStartDate(e.target.value)}\n                    className=\"text-xs border border-gray-300 rounded px-2 py-1\"\n                    placeholder=\"Start date\"\n                  />\n                  <span className=\"text-xs text-gray-500\">to</span>\n                  <input\n                    type=\"date\"\n                    value={progressCustomEndDate}\n                    onChange={(e) => setProgressCustomEndDate(e.target.value)}\n                    className=\"text-xs border border-gray-300 rounded px-2 py-1\"\n                    placeholder=\"End date\"\n                  />\n                </div>\n              )}\n            </div>\n            \n            {/* View Type */}\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-sm text-gray-700\">View:</span>\n              <div className=\"flex space-x-1\">\n                {['By date', 'By subdomain'].map((view) => (\n                  <button\n                    key={view}\n                    onClick={() => setProgressView(view as 'By date' | 'By subdomain')}\n                    className={`px-3 py-1 text-xs rounded-md border ${\n                      progressView === view\n                        ? 'bg-green-100 border-green-300 text-green-800'\n                        : 'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'\n                    }`}\n                  >\n                    {view}\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Progress Visualization */}\n        <div className=\"mb-6\">\n          {(() => {\n            const progressData = getProgressDataForDomain();\n            if (!progressData) {\n              return (\n                <div className=\"text-center py-8 text-gray-500\">\n                  <p className=\"text-sm\">No progress data available for this domain.</p>\n                </div>\n              );\n            }\n\n            if (progressView === 'By date') {\n              return (\n                <div>\n                  <h5 className=\"text-sm font-medium text-gray-900 mb-4\">Timeline View</h5>\n                  <div className=\"relative\">\n                    {/* Timeline line */}\n                    <div className=\"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200\"></div>\n                    \n                    {/* Timeline entries */}\n                    <div className=\"space-y-4\">\n                      {progressData.timeline.map((item, index) => (\n                        <div key={index} className=\"relative pl-12\">\n                          {/* Timeline dot */}\n                          <div className={`absolute left-4 top-2 w-4 h-4 rounded-full border-2 ${\n                            item.status === 'Observed' \n                              ? 'bg-green-500 border-green-600' \n                              : 'bg-yellow-500 border-yellow-600'\n                          }`}></div>\n                          \n                          {/* Content */}\n                          <div className=\"bg-gray-50 rounded-lg p-3\">\n                            <div className=\"flex items-center justify-between mb-2\">\n                              <span className=\"text-sm font-medium text-gray-900\">\n                                {item.skill}\n                              </span>\n                              <span className=\"text-xs text-gray-500\">\n                                {new Date(item.date).toLocaleDateString()}\n                              </span>\n                            </div>\n                            <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${\n                              item.status === 'Observed' \n                                ? 'bg-green-100 text-green-800' \n                                : 'bg-yellow-100 text-yellow-800'\n                            }`}>\n                              {item.status}\n                            </span>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              );\n            } else {\n              return (\n                <div>\n                  <h5 className=\"text-sm font-medium text-gray-900 mb-4\">Subdomain View</h5>\n                  <div className=\"grid grid-cols-2 gap-6\">\n                    {Object.entries(progressData.subdomains).map(([subdomain, counts]) => (\n                      <div key={subdomain} className=\"space-y-3\">\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-sm font-medium text-gray-700 capitalize\">\n                            {subdomain}\n                          </span>\n                          <span className=\"text-xs text-gray-500\">\n                            {counts.observed + counts.emerging} skills\n                          </span>\n                        </div>\n                        \n                        {/* Progress bars */}\n                        <div className=\"space-y-2\">\n                          <div className=\"flex items-center space-x-2\">\n                            <span className=\"text-xs text-gray-500 w-16\">Observed:</span>\n                            <div className=\"flex-1 bg-gray-200 rounded-full h-3\">\n                              <div \n                                className=\"bg-green-500 h-3 rounded-full transition-all duration-300\"\n                                style={{ width: `${(counts.observed / Math.max(counts.observed + counts.emerging, 1)) * 100}%` }}\n                              ></div>\n                            </div>\n                            <span className=\"text-xs text-gray-700 w-8\">{counts.observed}</span>\n                          </div>\n                          \n                          <div className=\"flex items-center space-x-2\">\n                            <span className=\"text-xs text-gray-500 w-16\">Emerging:</span>\n                            <div className=\"flex-1 bg-gray-200 rounded-full h-3\">\n                              <div \n                                className=\"bg-yellow-500 h-3 rounded-full transition-all duration-300\"\n                                style={{ width: `${(counts.emerging / Math.max(counts.observed + counts.emerging, 1)) * 100}%` }}\n                              ></div>\n                            </div>\n                            <span className=\"text-xs text-gray-700 w-8\">{counts.emerging}</span>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              );\n            }\n          })()}\n        </div>\n\n        {/* New Skills Added List */}\n        <div className=\"mb-6\">\n          <h5 className=\"text-sm font-medium text-gray-900 mb-4\">New skills added</h5>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n            {(() => {\n              const progressData = getProgressDataForDomain();\n              if (!progressData || progressData.timeline.length === 0) {\n                return (\n                  <div className=\"col-span-2 text-center py-4 text-gray-500\">\n                    <p className=\"text-sm\">No new skills in the selected time period.</p>\n                  </div>\n                );\n              }\n\n              return progressData.timeline\n                .filter(item => item.status === 'Observed')\n                .map((item, index) => (\n                  <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                    <div>\n                      <div className=\"text-sm font-medium text-gray-900\">{item.skill}</div>\n                      <div className=\"text-xs text-gray-500\">\n                        {new Date(item.date).toLocaleDateString()}\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <button\n                        onClick={() => {\n                          // TODO: Navigate to skill history\n                          console.log('Navigate to skill history for:', item.skill);\n                        }}\n                        className=\"text-xs text-blue-600 hover:text-blue-700 underline\"\n                      >\n                        View history\n                      </button>\n                      <button\n                        onClick={() => {\n                          if (visitPacketItems.has(item.skill)) {\n                            handleRemoveFromVisitPacket(item.skill, 'Progress item');\n                          } else {\n                            handleAddToVisitPacket(item.skill, 'Progress item');\n                          }\n                        }}\n                        className={`text-xs px-2 py-1 rounded ${\n                          visitPacketItems.has(item.skill)\n                            ? 'text-red-600 bg-red-50 border border-red-200'\n                            : 'text-green-600 bg-green-50 border border-green-200'\n                        }`}\n                      >\n                        {visitPacketItems.has(item.skill) ? 'Remove' : 'Add to Visit Packet'}\n                      </button>\n                    </div>\n                  </div>\n                ));\n            })()}\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex space-x-3\">\n          <button\n            onClick={handleExportDomainProgress}\n            className=\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n          >\n            Export domain progress (PDF)\n          </button>\n          <button\n            onClick={() => handleAddToVisitPacket('domain-progress', 'Domain progress')}\n            className=\"px-4 py-2 text-sm font-medium text-green-600 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n          >\n            Add to Visit Packet\n          </button>\n        </div>\n      </div>\n\n      {/* Export Domain Report Modal */}\n      {showExportReportModal && (\n        <div \n          className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"export-report-title\"\n        >\n          <div className=\"relative top-10 mx-auto p-6 border w-full max-w-2xl shadow-lg rounded-md bg-white\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 id=\"export-report-title\" className=\"text-lg font-semibold text-gray-900\">\n                Export Domain Report\n              </h3>\n              <button\n                onClick={() => {\n                  setShowExportReportModal(false);\n                  setExportReportStatus('options');\n                }}\n                className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Close export report modal\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            {/* Content based on status */}\n            {exportReportStatus === 'options' && (\n              <div className=\"space-y-6\">\n                {/* Date Range Picker */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-3\">Date Range</label>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label htmlFor=\"export-start-date\" className=\"block text-xs font-medium text-gray-600 mb-1\">\n                        Start Date\n                      </label>\n                      <input\n                        id=\"export-start-date\"\n                        type=\"date\"\n                        value={exportReportOptions.dateRange.start}\n                        onChange={(e) => setExportReportOptions(prev => ({\n                          ...prev,\n                          dateRange: { ...prev.dateRange, start: e.target.value }\n                        }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      />\n                    </div>\n                    <div>\n                      <label htmlFor=\"export-end-date\" className=\"block text-xs font-medium text-gray-600 mb-1\">\n                        End Date\n                      </label>\n                      <input\n                        id=\"export-end-date\"\n                        type=\"date\"\n                        value={exportReportOptions.dateRange.end}\n                        onChange={(e) => setExportReportOptions(prev => ({\n                          ...prev,\n                          dateRange: { ...prev.dateRange, end: e.target.value }\n                        }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                {/* Include Options */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-3\">Include</label>\n                  <div className=\"space-y-2\">\n                    {[\n                      { key: 'observed', label: 'Observed skills', description: 'Skills marked as observed in the selected time range' },\n                      { key: 'emerging', label: 'Emerging skills', description: 'Skills marked as emerging in the selected time range' },\n                      { key: 'notes', label: 'Notes and observations', description: 'All notes and observations for skills in the selected time range' }\n                    ].map((option) => (\n                      <label key={option.key} className=\"flex items-start\">\n                        <input\n                          type=\"checkbox\"\n                          checked={exportReportOptions.include[option.key as keyof typeof exportReportOptions.include]}\n                          onChange={(e) => setExportReportOptions(prev => ({\n                            ...prev,\n                            include: { ...prev.include, [option.key]: e.target.checked }\n                          }))}\n                          className=\"mt-1 mr-3 text-blue-600 focus:ring-blue-500\"\n                        />\n                        <div>\n                          <span className=\"text-sm font-medium text-gray-900\">{option.label}</span>\n                          <p className=\"text-xs text-gray-500\">{option.description}</p>\n                        </div>\n                      </label>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Sections */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-3\">Report Sections</label>\n                  <div className=\"space-y-2\">\n                    {[\n                      { key: 'skillsList', label: 'Skills List', description: 'Complete list of skills with current status and progress' },\n                      { key: 'careIdeasSnapshot', label: 'Care Ideas Snapshot', description: 'Current care ideas and activity suggestions' },\n                      { key: 'timelineChart', label: 'Timeline Chart', description: 'Visual timeline of skill development progress' }\n                    ].map((section) => (\n                      <label key={section.key} className=\"flex items-start\">\n                        <input\n                          type=\"checkbox\"\n                          checked={exportReportOptions.sections[section.key as keyof typeof exportReportOptions.sections]}\n                          onChange={(e) => setExportReportOptions(prev => ({\n                            ...prev,\n                            sections: { ...prev.sections, [section.key]: e.target.checked }\n                          }))}\n                          className=\"mt-1 mr-3 text-blue-600 focus:ring-blue-500\"\n                        />\n                        <div>\n                          <span className=\"text-sm font-medium text-gray-900\">{section.label}</span>\n                          <p className=\"text-xs text-gray-500\">{section.description}</p>\n                        </div>\n                      </label>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n                  <button\n                    onClick={() => {\n                      setShowExportReportModal(false);\n                      setExportReportStatus('options');\n                    }}\n                    className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={handleExportDomainReport}\n                    disabled={!exportReportOptions.dateRange.start || !exportReportOptions.dateRange.end}\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    Generate PDF\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* Generating Status */}\n            {exportReportStatus === 'generating' && (\n              <div className=\"text-center py-12\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n                <h4 className=\"text-lg font-medium text-gray-900 mb-2\">Generating Report</h4>\n                <p className=\"text-sm text-gray-500\">\n                  Creating your domain report with the selected options...\n                </p>\n              </div>\n            )}\n\n            {/* Ready Status */}\n            {exportReportStatus === 'ready' && (\n              <div className=\"text-center py-8\">\n                <div className=\"mx-auto mb-4 w-16 h-16 bg-green-100 rounded-full flex items-center justify-center\">\n                  <svg className=\"w-8 h-8 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                  </svg>\n                </div>\n                <h4 className=\"text-lg font-medium text-gray-900 mb-2\">Report Ready!</h4>\n                <p className=\"text-sm text-gray-500 mb-6\">\n                  Your domain report has been generated successfully.\n                </p>\n                \n                {/* Action Buttons */}\n                <div className=\"flex flex-col sm:flex-row justify-center space-y-3 sm:space-y-0 sm:space-x-3\">\n                  <button\n                    onClick={handleDownloadReport}\n                    className=\"px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    Download Report\n                  </button>\n                  <button\n                    onClick={handleSaveToVisitPacket}\n                    className=\"px-6 py-2 text-sm font-medium text-green-600 bg-green-50 border border-green-200 rounded-md hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n                  >\n                    Save to Visit Packet\n                  </button>\n                </div>\n                \n                {/* Close Button */}\n                <button\n                  onClick={() => {\n                    setShowExportReportModal(false);\n                    setExportReportStatus('options');\n                  }}\n                  className=\"mt-4 text-sm text-gray-500 hover:text-gray-700 underline\"\n                >\n                  Close\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Toast Notification with live region */}\n      {showToast && (\n        <div \n          className={`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg border ${\n            toastType === 'success' ? 'bg-green-50 border-green-200 text-green-800' :\n            toastType === 'info' ? 'bg-blue-50 border-blue-200 text-blue-800' :\n            'bg-red-50 border-red-200 text-red-800'\n          }`}\n          role=\"alert\"\n          aria-live=\"polite\"\n          aria-atomic=\"true\"\n        >\n          <div className=\"flex items-center space-x-2\">\n            {toastType === 'success' && (\n              <svg className=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n              </svg>\n            )}\n            {toastType === 'info' && (\n              <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n            )}\n            {toastType === 'error' && (\n              <svg className=\"w-5 h-5 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n            )}\n            <span className=\"text-sm font-medium\">{toastMessage}</span>\n          </div>\n        </div>\n      )}\n\n      {/* Mobile Sticky Save/Update Bar */}\n      <div className=\"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-40\">\n        <div className=\"flex space-x-3\">\n          <button\n            onClick={() => {\n              // TODO: Save all changes\n              showToastMessage('Changes saved successfully');\n            }}\n            className=\"flex-1 px-4 py-3 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n          >\n            Save Changes\n          </button>\n          <button\n            onClick={() => {\n              // TODO: Reset changes\n              showToastMessage('Changes reset');\n            }}\n            className=\"px-4 py-3 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n          >\n            Reset\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default GrowthDevelopmentScreen; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}