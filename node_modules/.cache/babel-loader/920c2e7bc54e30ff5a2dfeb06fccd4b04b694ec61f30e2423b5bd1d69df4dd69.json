{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const GrowthDevelopmentScreen=()=>{var _domains$find,_domainSubdomains,_domainSubdomains2,_skillHistoryData$sel,_skillHistoryData$sel2,_skillHistoryData$sel5,_skillHistoryData$sel6,_skillHistoryData$sel7,_skillHistoryData$sel8;const[showReportModal,setShowReportModal]=useState(false);const[showSettingsModal,setShowSettingsModal]=useState(false);const[showAISuggestionsModal,setShowAISuggestionsModal]=useState(false);const[showDomainDetailModal,setShowDomainDetailModal]=useState(false);const[selectedDomainForDetail,setSelectedDomainForDetail]=useState('');const[activeMobileTab,setActiveMobileTab]=useState('Skills');// Growth sub-navigation state\nconst[activeGrowthTab,setActiveGrowthTab]=useState('domains');// Overview tab state\nconst[overviewDateRange,setOverviewDateRange]=useState('30 days');// Ideas Library state\nconst[savedIdeas,setSavedIdeas]=useState([]);const[showPracticePlanDrawer,setShowPracticePlanDrawer]=useState(false);const[practicePlanItems,setPracticePlanItems]=useState([]);const[showSavePlanModal,setShowSavePlanModal]=useState(false);const[savedPlans,setSavedPlans]=useState([]);// Settings state\nconst[defaultView,setDefaultView]=useState('age-based');const[showSkillsBeyondLevel,setShowSkillsBeyondLevel]=useState(true);const[weeklyReminder,setWeeklyReminder]=useState(false);// Report generation state\nconst[reportOptions,setReportOptions]=useState({domains:['motor','communication','social-emotional','cognitive-play','adaptive-self-help'],includeEmerging:true,includeNotes:true});const[isGeneratingReport,setIsGeneratingReport]=useState(false);const[reportReady,setReportReady]=useState(false);const[useDevelopmentalLevel,setUseDevelopmentalLevel]=useState(false);const[chronologicalAge,setChronologicalAge]=useState('6 months');const[developmentalLevel,setDevelopmentalLevel]=useState('Early');const[timeScope,setTimeScope]=useState('30 days');// Add Skill Quick Sheet states\nconst[showAddSkillSheet,setShowAddSkillSheet]=useState(false);const[currentStep,setCurrentStep]=useState(1);const[selectedDomain,setSelectedDomain]=useState('');const[selectedSkill,setSelectedSkill]=useState('');const[skillStatus,setSkillStatus]=useState('Observed');const[dateObserved,setDateObserved]=useState(new Date().toISOString().split('T')[0]);const[supportsUsed,setSupportsUsed]=useState([]);const[context,setContext]=useState([]);const[notes,setNotes]=useState('');const[showAllSkills,setShowAllSkills]=useState(false);const[searchQuery,setSearchQuery]=useState('');// Skills Checklist state\nconst[skillsSearchQuery,setSkillsSearchQuery]=useState('');const[skillsLevelFilter,setSkillsLevelFilter]=useState('All');const[skillsSubdomainFilter,setSkillsSubdomainFilter]=useState([]);const[skillsStatusFilter,setSkillsStatusFilter]=useState('All');const[skillsSortBy,setSkillsSortBy]=useState('Recommended');const[selectedSkills,setSelectedSkills]=useState([]);const[showCustomSkillForm,setShowCustomSkillForm]=useState(false);const[customSkillForm,setCustomSkillForm]=useState({name:'',subdomain:'',levelBand:'Early'});// Skill History drawer state\nconst[showSkillHistory,setShowSkillHistory]=useState(false);const[selectedSkillForHistory,setSelectedSkillForHistory]=useState(null);const[showAddNoteForm,setShowAddNoteForm]=useState(false);const[newNoteText,setNewNoteText]=useState('');// Sample domain data\nconst domains=[{id:'motor',name:'Motor',subtitle:'Gross & Fine',icon:'üèÉ‚Äç‚ôÄÔ∏è',observed:8,suggested:12,lastSkill:'Rolls both ways',lastDate:'2024-03-15'},{id:'communication',name:'Communication',subtitle:'Expressive & Receptive',icon:'üí¨',observed:5,suggested:10,lastSkill:'Uses 3 words',lastDate:'2024-03-12'},{id:'social-emotional',name:'Social-Emotional',subtitle:'',icon:'üòä',observed:6,suggested:8,lastSkill:'Social smile',lastDate:'2024-03-10'},{id:'cognitive-play',name:'Cognitive/Play',subtitle:'',icon:'üß©',observed:4,suggested:9,lastSkill:'Bangs objects together',lastDate:'2024-03-08'},{id:'adaptive-self-help',name:'Adaptive/Self-Help',subtitle:'feeding, dressing, toileting',icon:'üëï',observed:3,suggested:7,lastSkill:'Finger feeds',lastDate:'2024-03-05'}];// Sample skills data with proper age band mapping\nconst allSkills=[// Motor skills\n{id:'m1',domain:'motor',subdomain:'gross',name:'Rolls both ways',ageBand:'Early',description:'Rolls from back to stomach and stomach to back'},{id:'m2',domain:'motor',subdomain:'gross',name:'Sits briefly without support',ageBand:'Early',description:'Maintains sitting position for a few seconds'},{id:'m3',domain:'motor',subdomain:'gross',name:'Pulls to stand',ageBand:'Toddler',description:'Pulls self up to standing position using furniture'},{id:'m4',domain:'motor',subdomain:'gross',name:'Cruises along furniture',ageBand:'Toddler',description:'Walks sideways while holding onto furniture'},{id:'m5',domain:'motor',subdomain:'gross',name:'Walks with support',ageBand:'Toddler',description:'Takes steps while holding hands or walker'},{id:'m6',domain:'motor',subdomain:'fine',name:'Pincer grasp',ageBand:'Early',description:'Picks up small objects using thumb and index finger'},{id:'m7',domain:'motor',subdomain:'fine',name:'Stacks 2 blocks',ageBand:'Toddler',description:'Places one block on top of another'},{id:'m8',domain:'motor',subdomain:'gross',name:'Throws ball forward',ageBand:'Toddler',description:'Throws ball in forward direction'},{id:'m9',domain:'motor',subdomain:'gross',name:'Runs with coordination',ageBand:'Preschool',description:'Runs with improved balance and coordination'},{id:'m10',domain:'motor',subdomain:'gross',name:'Hops on one foot',ageBand:'Preschool',description:'Hops briefly on one foot'},{id:'m11',domain:'motor',subdomain:'gross',name:'Catches large ball',ageBand:'Preschool',description:'Catches ball with arms extended'},{id:'m12',domain:'motor',subdomain:'fine',name:'Uses scissors',ageBand:'Preschool',description:'Cuts paper with child-safe scissors'},// Communication skills\n{id:'c1',domain:'communication',subdomain:'expressive',name:'Babbles with consonants',ageBand:'Early',description:'Makes consonant sounds like ba, da, ma'},{id:'c2',domain:'communication',subdomain:'receptive',name:'Points to request',ageBand:'Toddler',description:'Points to objects to indicate wants'},{id:'c3',domain:'communication',subdomain:'expressive',name:'Uses 5-10 words',ageBand:'Toddler',description:'Says 5-10 recognizable words'},{id:'c4',domain:'communication',subdomain:'receptive',name:'Follows 1-step directions',ageBand:'Toddler',description:'Understands and follows simple commands'},{id:'c5',domain:'communication',subdomain:'expressive',name:'Names common objects',ageBand:'Preschool',description:'Identifies familiar objects by name'},{id:'c6',domain:'communication',subdomain:'expressive',name:'Combines 2 words',ageBand:'Preschool',description:'Uses two-word phrases'},{id:'c7',domain:'communication',subdomain:'expressive',name:'Asks questions',ageBand:'Preschool',description:'Asks what, where, why questions'},{id:'c8',domain:'communication',subdomain:'expressive',name:'Tells simple stories',ageBand:'School-age',description:'Recounts events in sequence'},{id:'c9',domain:'communication',subdomain:'expressive',name:'Uses past tense',ageBand:'School-age',description:'Correctly uses past tense verbs'},{id:'c10',domain:'communication',subdomain:'receptive',name:'Follows 3-step directions',ageBand:'School-age',description:'Understands and follows multi-step commands'},// Social-Emotional skills\n{id:'s1',domain:'social-emotional',subdomain:'interaction',name:'Social smile',ageBand:'Early',description:'Smiles in response to social interaction'},{id:'s2',domain:'social-emotional',subdomain:'interaction',name:'Joint attention',ageBand:'Early',description:'Looks where you point'},{id:'s3',domain:'social-emotional',subdomain:'interaction',name:'Waves bye',ageBand:'Toddler',description:'Waves goodbye'},{id:'s4',domain:'social-emotional',subdomain:'interaction',name:'Brings item to show',ageBand:'Toddler',description:'Shows objects to others'},{id:'s5',domain:'social-emotional',subdomain:'interaction',name:'Parallel play',ageBand:'Preschool',description:'Plays alongside other children'},{id:'s6',domain:'social-emotional',subdomain:'interaction',name:'Takes turns briefly',ageBand:'Preschool',description:'Participates in simple turn-taking'},{id:'s7',domain:'social-emotional',subdomain:'regulation',name:'Shows empathy',ageBand:'Preschool',description:'Comforts others when upset'},{id:'s8',domain:'social-emotional',subdomain:'interaction',name:'Shares toys',ageBand:'Preschool',description:'Willingly shares toys with peers'},{id:'s9',domain:'social-emotional',subdomain:'regulation',name:'Manages emotions',ageBand:'School-age',description:'Uses strategies to calm down'},{id:'s10',domain:'social-emotional',subdomain:'interaction',name:'Makes friends',ageBand:'School-age',description:'Initiates and maintains friendships'},// Cognitive/Play skills\n{id:'cp1',domain:'cognitive-play',subdomain:'early-play',name:'Bangs two objects',ageBand:'Early',description:'Hits two objects together'},{id:'cp2',domain:'cognitive-play',subdomain:'problem-solving',name:'Puts objects in/out',ageBand:'Toddler',description:'Places objects in containers and removes them'},{id:'cp3',domain:'cognitive-play',subdomain:'problem-solving',name:'Cause-and-effect toy play',ageBand:'Toddler',description:'Understands simple cause and effect'},{id:'cp4',domain:'cognitive-play',subdomain:'problem-solving',name:'Matches shapes',ageBand:'Preschool',description:'Identifies and matches similar shapes'},{id:'cp5',domain:'cognitive-play',subdomain:'problem-solving',name:'Completes 3-piece puzzle',ageBand:'Preschool',description:'Assembles simple puzzles'},{id:'cp6',domain:'cognitive-play',subdomain:'pretend',name:'Pretend feeds doll',ageBand:'Preschool',description:'Engages in pretend play'},{id:'cp7',domain:'cognitive-play',subdomain:'problem-solving',name:'Counts to 10',ageBand:'Preschool',description:'Recites numbers 1-10'},{id:'cp8',domain:'cognitive-play',subdomain:'problem-solving',name:'Recognizes colors',ageBand:'Preschool',description:'Names basic colors'},{id:'cp9',domain:'cognitive-play',subdomain:'problem-solving',name:'Understands time concepts',ageBand:'School-age',description:'Grasps yesterday, today, tomorrow'},{id:'cp10',domain:'cognitive-play',subdomain:'problem-solving',name:'Solves simple problems',ageBand:'School-age',description:'Finds solutions to everyday challenges'},// Adaptive/Self-Help skills\n{id:'a1',domain:'adaptive-self-help',subdomain:'feeding',name:'Finger feeds',ageBand:'Early',description:'Picks up food with fingers and eats'},{id:'a2',domain:'adaptive-self-help',subdomain:'feeding',name:'Drinks from open cup with help',ageBand:'Toddler',description:'Uses open cup with assistance'},{id:'a3',domain:'adaptive-self-help',subdomain:'feeding',name:'Uses spoon with some spills',ageBand:'Toddler',description:'Attempts to use spoon independently'},{id:'a4',domain:'adaptive-self-help',subdomain:'dressing',name:'Removes socks',ageBand:'Toddler',description:'Takes off socks independently'},{id:'a5',domain:'adaptive-self-help',subdomain:'dressing',name:'Helps with dressing',ageBand:'Toddler',description:'Assists with putting on clothes'},{id:'a6',domain:'adaptive-self-help',subdomain:'toileting',name:'Indicates wet/soiled diaper',ageBand:'Toddler',description:'Shows awareness of diaper state'},{id:'a7',domain:'adaptive-self-help',subdomain:'toileting',name:'Sits on toilet with support',ageBand:'Toddler',description:'Sits on toilet with assistance'},{id:'a8',domain:'adaptive-self-help',subdomain:'hygiene',name:'Washes hands with help',ageBand:'Preschool',description:'Washes hands with supervision'},{id:'a9',domain:'adaptive-self-help',subdomain:'dressing',name:'Buttons large buttons',ageBand:'Preschool',description:'Fastens large buttons independently'},{id:'a10',domain:'adaptive-self-help',subdomain:'hygiene',name:'Brushes teeth with help',ageBand:'Preschool',description:'Brushes teeth with supervision'}];// Subdomain tags for each domain\nconst domainSubdomains={'motor':['Gross','Fine'],'communication':['Expressive','Receptive'],'social-emotional':['Interaction','Regulation'],'cognitive-play':['Early Play','Problem-Solving','Pretend'],'adaptive-self-help':['Feeding','Dressing','Toileting','Hygiene']};// Sample milestone entries for the journal\nconst milestoneEntries=[{id:'1',domainIcon:'üèÉ',skillName:'Rolls both ways',status:'Observed',date:'2024-03-15',context:'home'},{id:'2',domainIcon:'üí¨',skillName:'Uses 3 words',status:'Observed',date:'2024-03-12',context:'therapy'},{id:'3',domainIcon:'üòä',skillName:'Social smile',status:'Emerging',date:'2024-03-10',context:'home'}];// Sample skill statuses for demonstration\nconst skillStatuses={'m1':'Observed','m2':'Emerging','c1':'Observed','c2':'Not yet','s1':'Observed','cp1':'Emerging','a1':'Not yet'};// Sample last observed dates\nconst lastObservedDates={'m1':'2024-03-15','c1':'2024-03-12','s1':'2024-03-10'};// Sample supports used\nconst sampleSupportsUsed={'m2':['hand-over-hand','prompts'],'cp1':['adaptive utensil'],'a1':['AAC']};// Supports options for skills\nconst supportsOptions=['hand-over-hand','adaptive utensil','prompts','AAC','orthotics'];// Sample skill history data\nconst skillHistoryData={'m1':{statusChanges:[{date:'2024-03-15',status:'Observed',supports:[],author:'Mom'},{date:'2024-03-10',status:'Emerging',supports:['hand-over-hand'],author:'Dad'},{date:'2024-02-28',status:'Not yet',supports:[],author:'Mom'}],notes:[{timestamp:'2024-03-15 14:30',text:'First time rolling both ways consistently!',author:'Mom'},{timestamp:'2024-03-12 10:15',text:'Showed interest in rolling during tummy time',author:'Dad'}]},'c1':{statusChanges:[{date:'2024-03-12',status:'Observed',supports:[],author:'Mom'},{date:'2024-03-05',status:'Emerging',supports:['prompts'],author:'Therapist'}],notes:[{timestamp:'2024-03-12 16:45',text:'Said \"mama\" clearly for the first time!',author:'Mom'},{timestamp:'2024-03-08 11:20',text:'Working on consonant sounds in therapy',author:'Therapist'}]}};const[showMilestoneDetail,setShowMilestoneDetail]=useState(null);const[isLoading,setIsLoading]=useState(false);const[hasMilestones,setHasMilestones]=useState(true);// For demo purposes, set to true initially\nconst getStatusBadgeColor=status=>{switch(status){case'Observed':return'bg-green-100 text-green-800 border-green-200';case'Emerging':return'bg-yellow-100 text-yellow-800 border-yellow-200';case'Not yet':return'bg-gray-100 text-gray-800 border-gray-200';case'N/A':return'bg-blue-100 text-blue-800 border-blue-200';default:return'bg-gray-100 text-gray-800 border-gray-200';}};const getContextLabel=context=>{switch(context){case'home':return'Home';case'school':return'School';case'therapy':return'Therapy';case'community':return'Community';default:return context;}};const handleViewMilestone=milestoneId=>{setShowMilestoneDetail(milestoneId);};const handleViewAllMilestones=()=>{// TODO: Route to Log & Track > Journal filtered to Milestones type\nconsole.log('Navigate to Journal with Milestones filter');};// Skeleton loading components\nconst DomainTileSkeleton=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gray-200 rounded-full\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-5 bg-gray-200 rounded w-24 mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-32\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-200 rounded-full\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-full mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-3/4 mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-9 bg-gray-200 rounded w-full\"})]});const JournalEntrySkeleton=()=>/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 animate-pulse\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gray-200 rounded-full\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-32 mb-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-5 bg-gray-200 rounded w-16\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-24\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-12\"})]})});const contextOptions=['home','school','therapy','community'];// Helper function to get age band from chronological age\nconst getAgeBandFromChronological=age=>{if(age.includes('months')){const months=parseInt(age.split(' ')[0]);if(months<=12)return'Early';if(months<=36)return'Toddler';if(months<=60)return'Preschool';return'School-age';}else if(age.includes('years')){const years=parseInt(age.split(' ')[0]);if(years<=5)return'Preschool';return'School-age';}return'Early';// default\n};// Helper function to check if skill is within ¬±1 age band\nconst isSkillAgeAppropriate=(skillAgeBand,selectedAgeBand)=>{const ageBands=['Early','Toddler','Preschool','School-age'];const skillIndex=ageBands.indexOf(skillAgeBand);const selectedIndex=ageBands.indexOf(selectedAgeBand);if(skillIndex===-1||selectedIndex===-1)return true;// fallback\nreturn Math.abs(skillIndex-selectedIndex)<=1;};const handleOpenDomain=domainId=>{// TODO: Route to domain detail (will be implemented in 5B)\nconsole.log(`Opening domain: ${domainId}`);// For now, show a placeholder modal indicating this will be implemented in Phase 5B\nsetShowDomainDetailModal(true);setSelectedDomainForDetail(domainId);};const handleAddSkill=()=>{setShowAddSkillSheet(true);setCurrentStep(1);setSelectedDomain('');setSelectedSkill('');setSkillStatus('Observed');setDateObserved(new Date().toISOString().split('T')[0]);setSupportsUsed([]);setContext([]);setNotes('');setShowAllSkills(false);setSearchQuery('');};const handleNextStep=()=>{if(currentStep<6){setCurrentStep(currentStep+1);}};const handlePrevStep=()=>{if(currentStep>1){setCurrentStep(currentStep-1);}};const handleSave=()=>{// TODO: Save skill data\nconsole.log('Saving skill:',{selectedDomain,selectedSkill,skillStatus,dateObserved,supportsUsed,context,notes});setShowAddSkillSheet(false);// TODO: Show toast: \"Skill saved. View it in Journal or the domain page.\"\n};const handleSaveAndAddAnother=()=>{// TODO: Save skill data\nconsole.log('Saving skill and adding another:',{selectedDomain,selectedSkill,skillStatus,dateObserved,supportsUsed,context,notes});// Reset form for next skill\nsetSelectedSkill('');setSkillStatus('Observed');setDateObserved(new Date().toISOString().split('T')[0]);setSupportsUsed([]);setContext([]);setNotes('');setCurrentStep(2);// Go back to skill selection\n};const handleSaveSettings=()=>{// TODO: Save settings to localStorage or API\nsetShowSettingsModal(false);// TODO: Show toast: \"Settings saved.\"\n};// Get current age band for filtering\nconst currentAgeBand=useDevelopmentalLevel?developmentalLevel:getAgeBandFromChronological(chronologicalAge);const filteredSkills=allSkills.filter(skill=>{if(selectedDomain&&skill.domain!==selectedDomain)return false;if(searchQuery&&!skill.name.toLowerCase().includes(searchQuery.toLowerCase()))return false;return true;});// Filter by age appropriateness (default: ¬±1 band)\nconst ageAppropriateSkills=showAllSkills?filteredSkills:filteredSkills.filter(skill=>isSkillAgeAppropriate(skill.ageBand,currentAgeBand));const suggestedSkills=ageAppropriateSkills.slice(0,10);const displayedSkills=showAllSkills?ageAppropriateSkills:suggestedSkills;const handleGenerateReport=()=>{setIsGeneratingReport(true);// TODO: Simulate report generation\nsetTimeout(()=>{setIsGeneratingReport(false);setReportReady(true);},2000);};const handleDownloadReport=()=>{// TODO: Trigger actual PDF download\nsetReportReady(false);setShowReportModal(false);// TODO: Show toast: \"Report downloaded\"\n};// Ideas Library handlers\nconst handleSaveIdea=ideaId=>{if(savedIdeas.includes(ideaId)){setSavedIdeas(prev=>prev.filter(id=>id!==ideaId));}else{setSavedIdeas(prev=>[...prev,ideaId]);}};const handleAddToPracticePlan=ideaId=>{const idea=sampleIdeas.find(i=>i.id===ideaId);if(idea){const newItem={id:`plan-${Date.now()}`,ideaId:idea.id,title:idea.title,environment:idea.environment[0]||'Home',time:idea.timeNeeded,domain:idea.domain,notes:''};setPracticePlanItems(prev=>[...prev,newItem]);setShowPracticePlanDrawer(true);}};const handleRemoveFromPlan=itemId=>{setPracticePlanItems(prev=>prev.filter(item=>item.id!==itemId));};const handleUpdatePlanItemNotes=(itemId,notes)=>{setPracticePlanItems(prev=>prev.map(item=>item.id===itemId?{...item,notes}:item));};const handlePrintPlan=()=>{// TODO: Implement print functionality\nconsole.log('Printing practice plan...');};const handleSharePlan=()=>{// TODO: Implement share functionality\nconsole.log('Sharing practice plan...');};const handleSavePlan=()=>{setShowSavePlanModal(true);};const handleClearPlan=()=>{setPracticePlanItems([]);};// Sample ideas data - Expanded with 6-10 ideas per domain across levels\nconst sampleIdeas=[// MOTOR DOMAIN - 8 ideas across levels\n{id:'motor-1',title:'Tummy Time with Mirror',domain:'Motor',subdomain:'Gross Motor',levelTag:'Suggested now',timeNeeded:'10‚Äì15 min',materials:['Baby-safe mirror','Soft blanket','Favorite toys'],steps:['Place baby on tummy on a soft blanket','Position mirror at eye level, about 8-12 inches away','Place favorite toys just out of reach to encourage reaching','Talk to baby and make faces in the mirror','Gradually increase time spent in position'],adaptations:['Visual support','Sensory breaks'],environment:['Home'],supports:['Visuals']},{id:'motor-2',title:'Crawling Obstacle Course',domain:'Motor',subdomain:'Gross Motor',levelTag:'Stretch',timeNeeded:'15 min',materials:['Pillows','Soft blocks','Tunnels','Favorite toys'],steps:['Create a simple obstacle course with pillows and blocks','Place favorite toys at the end as motivation','Encourage crawling through and over obstacles','Celebrate each successful navigation','Gradually increase complexity'],adaptations:['Visual markers','Physical guidance'],environment:['Home'],supports:['Visuals']},{id:'motor-3',title:'Ball Rolling Games',domain:'Motors',subdomain:'Gross Motor',levelTag:'Foundations',timeNeeded:'10 min',materials:['Soft balls','Ramps','Targets'],steps:['Set up simple ramps or inclines','Show child how to roll balls down ramps','Add targets to aim for','Encourage different rolling techniques','Take turns and celebrate hits'],adaptations:['Adaptive grips','Visual targets'],environment:['Home','Therapy'],supports:['Adaptive utensils','Visuals']},{id:'motor-4',title:'Fine Motor Bead Stringing',domain:'Motor',subdomain:'Fine Motor',levelTag:'Suggested now',timeNeeded:'15 min',materials:['Large beads','Thick string','Pattern cards'],steps:['Start with large, easy-to-grasp beads','Show simple patterns to follow','Guide hand-over-hand if needed','Celebrate each bead added','Gradually use smaller beads'],adaptations:['Adaptive grips','Visual patterns'],environment:['Home','School'],supports:['Adaptive utensils','Visuals']},{id:'motor-5',title:'Pincer Grasp Practice',domain:'Motor',subdomain:'Fine Motor',levelTag:'Stretch',timeNeeded:'10 min',materials:['Cheerios','Small containers','Tweezers'],steps:['Place small items in one container','Show pincer grasp technique','Practice picking up items one by one','Transfer to another container','Use tweezers for advanced practice'],adaptations:['Adaptive utensils','Visual guides'],environment:['Home'],supports:['Adaptive utensils','Visuals']},{id:'motor-6',title:'Drawing and Coloring',domain:'Motor',subdomain:'Fine Motor',levelTag:'Foundations',timeNeeded:'20 min',materials:['Large crayons','Paper','Coloring books'],steps:['Provide large, easy-to-grasp crayons','Start with simple shapes and lines','Encourage free drawing and exploration','Praise all attempts and efforts','Gradually introduce more complex patterns'],adaptations:['Adaptive grips','Visual guides'],environment:['Home','School'],supports:['Adaptive utensils','Visuals']},{id:'motor-7',title:'Building with Mega Blocks',domain:'Motor',subdomain:'Fine Motor',levelTag:'Suggested now',timeNeeded:'25 min',materials:['Mega blocks','Picture cards','Base plates'],steps:['Show simple structure pictures','Start with basic stacking','Encourage following visual guides','Build together and celebrate success','Add complexity gradually'],adaptations:['Visual guides','Physical support'],environment:['Home','School'],supports:['Visuals']},{id:'motor-8',title:'Play Dough Activities',domain:'Motor',subdomain:'Fine Motor',levelTag:'Stretch',timeNeeded:'20 min',materials:['Play dough','Rolling pins','Cookie cutters'],steps:['Start with simple rolling and squishing','Introduce cookie cutters for shapes','Practice making balls and snakes','Create simple objects together','Encourage imaginative play'],adaptations:['Adaptive tools','Visual guides'],environment:['Home'],supports:['Adaptive utensils','Visuals']},// COMMUNICATION DOMAIN - 8 ideas across levels\n{id:'comm-1',title:'Sound and Movement Game',domain:'Communication',subdomain:'Expressive Language',levelTag:'Stretch',timeNeeded:'5 min',materials:['Musical instruments','Pictures of animals'],steps:['Show child pictures of different animals','Make the animal sound together','Add movement that matches the animal','Encourage child to imitate sounds and movements','Take turns choosing animals'],adaptations:['AAC support','Visual cues'],environment:['Home','Therapy'],supports:['AAC','Visuals']},{id:'comm-2',title:'Picture Exchange Communication',domain:'Communication',subdomain:'Expressive Language',levelTag:'Suggested now',timeNeeded:'10 min',materials:['Picture cards','Reinforcing items','Communication book'],steps:['Start with highly motivating items','Show picture and item together','Guide hand to give picture','Immediately give the item','Gradually increase picture vocabulary'],adaptations:['AAC system','Visual supports'],environment:['Home','Therapy'],supports:['AAC','Visuals']},{id:'comm-3',title:'Sign Language Basics',domain:'Communication',subdomain:'Expressive Language',levelTag:'Foundations',timeNeeded:'15 min',materials:['Sign language cards','Mirror','Favorite objects'],steps:['Start with basic signs (more, please, thank you)','Show sign while saying word','Practice in mirror together','Use signs during daily routines','Reinforce with praise and objects'],adaptations:['Visual guides','Physical prompts'],environment:['Home','Therapy'],supports:['AAC','Visuals']},{id:'comm-4',title:'Receptive Language Games',domain:'Communication',subdomain:'Receptive Language',levelTag:'Suggested now',timeNeeded:'10 min',materials:['Common objects','Picture cards','Basket'],steps:['Place several objects in front of child','Ask child to find specific items','Start with familiar name recognition','Add simple commands (put in basket)','Gradually increase complexity'],adaptations:['Visual cues','Physical prompts'],environment:['Home','School'],supports:['Visuals']},{id:'comm-5',title:'Story Time with Props',domain:'Communication',subdomain:'Receptive Language',levelTag:'Stretch',timeNeeded:'15 min',materials:['Simple storybooks','Props','Puppets'],steps:['Choose books with repetitive text','Use props to act out story','Point to pictures while reading','Ask simple questions about story','Encourage child to retell parts'],adaptations:['Visual supports','AAC integration'],environment:['Home','School'],supports:['AAC','Visuals']},{id:'comm-6',title:'Turn-Taking Conversations',domain:'Communication',subdomain:'Social Communication',levelTag:'Foundations',timeNeeded:'10 min',materials:['Timer','Favorite toys','Picture cards'],steps:['Set up structured turn-taking activity','Use timer to show turn length','Model waiting and taking turns','Praise good turn-taking behavior','Gradually increase conversation complexity'],adaptations:['Visual timer','Social stories'],environment:['Home','School'],supports:['Timer','Visuals']},{id:'comm-7',title:'Emotion Vocabulary Building',domain:'Communication',subdomain:'Social Communication',levelTag:'Suggested now',timeNeeded:'12 min',materials:['Emotion cards','Mirror','Real photos'],steps:['Show emotion cards with faces','Practice making faces in mirror','Talk about when we feel each emotion','Use real photos to identify','Practice expressing emotions appropriately'],adaptations:['Visual supports','Social stories'],environment:['Home','School'],supports:['Visuals']},{id:'comm-8',title:'Requesting with Choices',domain:'Communication',subdomain:'Expressive Language',levelTag:'Stretch',timeNeeded:'8 min',materials:['Choice boards','Preferred items','Timer'],steps:['Present two clear choices','Wait for child to indicate choice','Honor the choice immediately','Gradually increase choice options','Add language modeling'],adaptations:['Choice boards','Visual supports'],environment:['Home','Therapy'],supports:['AAC','Visuals']},// SOCIAL-EMOTIONAL DOMAIN - 8 ideas across levels\n{id:'social-1',title:'Emotion Matching Game',domain:'Social-Emotional',subdomain:'Emotional Regulation',levelTag:'Foundations',timeNeeded:'15 min',materials:['Emotion cards','Mirror','Timer'],steps:['Show child pictures of different emotion cards','Make the emotion face together in mirror','Talk about when we feel this emotion','Practice calming strategies for each emotion','Use timer for structured play time'],adaptations:['Sensory breaks','Visual schedule'],environment:['Home','School'],supports:['Visuals','Timer','Sensory breaks']},{id:'social-2',title:'Calming Strategies Practice',domain:'Social-Emotional',subdomain:'Emotional Regulation',levelTag:'Suggested now',timeNeeded:'10 min',materials:['Calming cards','Timer','Quiet space'],steps:['Introduce calming strategies when calm','Practice deep breathing together','Use visual timer for practice duration','Reinforce with praise and rewards','Apply during real emotional moments'],adaptations:['Visual guides','Sensory tools'],environment:['Home','School'],supports:['Timer','Visuals','Sensory breaks']},{id:'social-3',title:'Social Skills Role Play',domain:'Social-Emotional',subdomain:'Social Skills',levelTag:'Stretch',timeNeeded:'20 min',materials:['Puppets','Social story cards','Props'],steps:['Choose social situation to practice','Use puppets to act out scenario','Practice appropriate responses','Role play different outcomes','Reinforce positive social behaviors'],adaptations:['Social stories','Visual scripts'],environment:['Home','School'],supports:['Visuals']},{id:'social-4',title:'Friendship Building Activities',domain:'Social-Emotional',subdomain:'Social Skills',levelTag:'Foundations',timeNeeded:'15 min',materials:['Cooperative games','Sharing toys','Timer'],steps:['Start with simple sharing activities','Use timer for turn-taking','Praise sharing and cooperation','Gradually increase complexity','Practice with peers when possible'],adaptations:['Visual timers','Social stories'],environment:['Home','School'],supports:['Timer','Visuals']},{id:'social-5',title:'Self-Awareness Mirror Work',domain:'Social-Emotional',subdomain:'Self-Awareness',levelTag:'Suggested now',timeNeeded:'12 min',materials:['Mirror','Body markers','Picture cards'],steps:['Practice making different faces','Point to body parts in mirror','Practice different expressions','Talk about how we look when we feel certain ways','Celebrate self-recognition'],adaptations:['Visual guides','Physical prompts'],environment:['Home'],supports:['Visuals']},{id:'social-6',title:'Empathy Building Activities',domain:'Social-Emotional',subdomain:'Empathy',levelTag:'Stretch',timeNeeded:'15 min',materials:['Emotion cards','Real photos','Stories'],steps:['Show photos of people with different emotions','Talk about what they might be feeling','Discuss why they might feel that way','Practice appropriate responses','Model empathy in daily interactions'],adaptations:['Visual supports','Social stories'],environment:['Home','School'],supports:['Visuals']},{id:'social-7',title:'Confidence Building Games',domain:'Social-Emotional',subdomain:'Self-Confidence',levelTag:'Foundations',timeNeeded:'18 min',materials:['Achievement chart','Stickers','Simple tasks'],steps:['Break activities into small steps','Celebrate each small success','Use visual achievement chart','Provide specific praise','Gradually increase challenge level'],adaptations:['Visual charts','Adaptive tools'],environment:['Home','School'],supports:['Visuals','Adaptive utensils']},{id:'social-8',title:'Conflict Resolution Practice',domain:'Social-Emotional',subdomain:'Social Skills',levelTag:'Suggested now',timeNeeded:'15 min',materials:['Conflict scenario cards','Timer','Solution cards'],steps:['Present simple conflict scenarios','Discuss different solutions','Practice using words instead of actions','Role play appropriate responses','Reinforce positive conflict resolution'],adaptations:['Visual guides','Social stories'],environment:['Home','School'],supports:['Visuals','Timer']},// COGNITIVE/PLAY DOMAIN - 8 ideas across levels\n{id:'cog-1',title:'Building with Blocks',domain:'Cognitive/Play',subdomain:'Problem Solving',levelTag:'Suggested now',timeNeeded:'20+ min',materials:['Building blocks','Picture cards of structures'],steps:['Show child a simple structure to build','Start with basic stacking and building','Encourage problem-solving when blocks fall','Add complexity as child progresses','Celebrate successful building attempts'],adaptations:['Adaptive utensils','Visual support'],environment:['Home','School'],supports:['Visuals','Adaptive utensils']},{id:'cog-2',title:'Simple Puzzle Activities',domain:'Cognitive/Play',subdomain:'Problem Solving',levelTag:'Foundations',timeNeeded:'15 min',materials:['Large puzzle pieces','Puzzle board','Picture guide'],steps:['Start with 3-4 piece puzzles','Show completed picture first','Guide hand to correct placement','Celebrate each piece placed','Gradually increase piece count'],adaptations:['Adaptive grips','Visual guides'],environment:['Home','School'],supports:['Adaptive utensils','Visuals']},{id:'cog-3',title:'Memory Matching Games',domain:'Cognitive/Play',subdomain:'Memory',levelTag:'Stretch',timeNeeded:'12 min',materials:['Picture cards','Timer','Reward items'],steps:['Start with 4-6 cards face up','Show briefly, then turn over','Ask child to find matches','Use timer for structured play','Celebrate successful matches'],adaptations:['Visual supports','Adaptive tools'],environment:['Home','School'],supports:['Visuals','Timer']},{id:'cog-4',title:'Imaginative Play Scenarios',domain:'Cognitive/Play',subdomain:'Imaginative Play',levelTag:'Suggested now',timeNeeded:'25 min',materials:['Dress-up clothes','Props','Picture prompts'],steps:['Set up simple play scenarios','Use props to encourage imagination','Join in and model pretend play','Follow child\\'s lead and ideas','Expand on their imaginative ideas'],adaptations:['Visual prompts','Physical props'],environment:['Home','School'],supports:['Visuals']},{id:'cog-5',title:'Sorting and Categorizing',domain:'Cognitive/Play',subdomain:'Classification',levelTag:'Foundations',timeNeeded:'18 min',materials:['Various objects','Sorting containers','Category cards'],steps:['Start with simple categories (colors, shapes)','Show sorting containers with labels','Guide hand to sort items','Praise correct sorting','Gradually increase complexity'],adaptations:['Visual labels','Adaptive containers'],environment:['Home','School'],supports:['Visuals','Adaptive utensils']},{id:'cog-6',title:'Cause and Effect Games',domain:'Cognitive/Play',subdomain:'Scientific Thinking',levelTag:'Stretch',timeNeeded:'15 min',materials:['Pop-up toys','Musical instruments','Light switches'],steps:['Demonstrate cause and effect','Let child explore independently','Talk about what happens and why','Encourage prediction','Celebrate discoveries'],adaptations:['Adaptive switches','Visual cues'],environment:['Home','Therapy'],supports:['Adaptive utensils','Visuals']},{id:'cog-7',title:'Pattern Recognition',domain:'Cognitive/Play',subdomain:'Mathematical Thinking',levelTag:'Suggested now',timeNeeded:'20 min',materials:['Pattern blocks','Pattern cards','Timer'],steps:['Start with simple AB patterns','Show pattern and let child continue','Use visual and verbal cues','Gradually increase pattern complexity','Celebrate pattern completion'],adaptations:['Visual patterns','Adaptive tools'],environment:['Home','School'],supports:['Visuals','Adaptive utensils','Timer']},{id:'cog-8',title:'Sequencing Activities',domain:'Cognitive/Play',subdomain:'Sequencing',levelTag:'Foundations',timeNeeded:'15 min',materials:['Sequencing cards','Real objects','Picture guides'],steps:['Start with 3-step sequences','Show completed sequence first','Mix up cards and ask to order','Use real objects when possible','Gradually increase steps'],adaptations:['Visual guides','Adaptive tools'],environment:['Home','School'],supports:['Visuals','Adaptive utensils']},// ADAPTIVE/SELF-HELP DOMAIN - 8 ideas across levels\n{id:'adaptive-1',title:'Self-Feeding Practice',domain:'Adaptive/Self-Help',subdomain:'Self-Care',levelTag:'Stretch',timeNeeded:'10‚Äì15 min',materials:['Child-sized utensils','Easy-to-grasp foods','Bib'],steps:['Set up child-friendly eating area','Provide easy-to-grasp foods (cubes, strips)','Demonstrate proper utensil use','Encourage independent attempts','Provide positive reinforcement for effort'],adaptations:['Adaptive utensils','Visual cues'],environment:['Home'],supports:['Visuals']},{id:'adaptive-2',title:'Dressing Skills Practice',domain:'Adaptive/Self-Help',subdomain:'Self-Care',levelTag:'Suggested now',timeNeeded:'20 min',materials:['Large-button shirts','Elastic pants','Dressing board'],steps:['Start with simple clothing items','Break down dressing into steps','Use dressing board for practice','Provide physical guidance as needed','Celebrate each step completed'],adaptations:['Adaptive clothing','Visual guides'],environment:['Home','School'],supports:['Visuals','Adaptive utensils']},{id:'adaptive-3',title:'Toileting Independence',domain:'Adaptive/Self-Help',subdomain:'Self-Care',levelTag:'Foundations',timeNeeded:'Varies',materials:['Potty chair','Timer','Reward system'],steps:['Establish regular toileting schedule','Use timer for structured attempts','Provide visual and verbal cues','Celebrate all attempts and successes','Gradually increase independence'],adaptations:['Visual schedule','Adaptive equipment'],environment:['Home'],supports:['Timer','Visuals']},{id:'adaptive-4',title:'Hand Washing Routine',domain:'Adaptive/Self-Help',subdomain:'Self-Care',levelTag:'Suggested now',timeNeeded:'8 min',materials:['Step-by-step pictures','Timer','Soap'],steps:['Post visual steps near sink','Guide through each step','Use timer for adequate washing time','Model proper technique','Reinforce with praise'],adaptations:['Visual guides','Adaptive soap dispensers'],environment:['Home','School'],supports:['Visuals','Timer']},{id:'adaptive-5',title:'Cleaning Up After Play',domain:'Adaptive/Self-Help',subdomain:'Daily Living',levelTag:'Stretch',timeNeeded:'10 min',materials:['Clean-up song','Picture labels','Timer'],steps:['Use clean-up song as signal','Show where items belong','Make it a game or race','Provide specific instructions','Celebrate completion'],adaptations:['Visual labels','Adaptive containers'],environment:['Home','School'],supports:['Timer','Visuals']},{id:'adaptive-6',title:'Setting the Table',domain:'Adaptive/Self-Help',subdomain:'Daily Living',levelTag:'Foundations',timeNeeded:'15 min',materials:['Placemat with outlines','Child-sized dishes','Picture guide'],steps:['Use placemat with item outlines','Start with one item at a time','Show picture of completed table','Guide hand to correct placement','Gradually add more items'],adaptations:['Visual guides','Adaptive utensils'],environment:['Home'],supports:['Visuals','Adaptive utensils']},{id:'adaptive-7',title:'Making Simple Choices',domain:'Adaptive/Self-Help',subdomain:'Decision Making',levelTag:'Suggested now',timeNeeded:'5 min',materials:['Choice boards','Preferred items','Timer'],steps:['Present two clear options','Wait for child to indicate choice','Honor choice immediately','Gradually increase options','Add language modeling'],adaptations:['Choice boards','Visual supports'],environment:['Home','School'],supports:['Visuals','Timer']},{id:'adaptive-8',title:'Following Daily Routines',domain:'Adaptive/Self-Help',subdomain:'Daily Living',levelTag:'Stretch',timeNeeded:'Varies',materials:['Visual schedule','Timer','Reward system'],steps:['Create visual daily routine','Use timer for transitions','Provide clear expectations','Celebrate routine completion','Gradually increase independence'],adaptations:['Visual schedules','Adaptive timers'],environment:['Home','School'],supports:['Timer','Visuals']}];const handleSkillStatusChange=(skillId,status)=>{// TODO: Update skill status in database\nconsole.log(`Updating skill ${skillId} status to ${status}`);// TODO: Show toast: \"Updated\"\n};const handleSkillSupportsUpdate=(skillId,supports)=>{// TODO: Update skill supports in database\nconsole.log(`Updating skill ${skillId} supports to:`,supports);};const handleBulkAction=action=>{if(selectedSkills.length===0)return;switch(action){case'mark-observed':// TODO: Mark all selected skills as observed\nbreak;case'mark-emerging':// TODO: Mark all selected skills as emerging\nbreak;case'add-to-visit-packet':// TODO: Add selected skills to visit packet\nbreak;}setSelectedSkills([]);};const handleAddCustomSkill=()=>{if(!customSkillForm.name||!customSkillForm.subdomain)return;// TODO: Add custom skill to database\nconsole.log('Adding custom skill:',customSkillForm);setShowCustomSkillForm(false);setCustomSkillForm({name:'',subdomain:'',levelBand:'Early'});// TODO: Show toast: \"Custom skill added\"\n};const getFilteredAndGroupedSkills=()=>{let filtered=allSkills.filter(skill=>skill.domain===selectedDomainForDetail);// Apply search filter\nif(skillsSearchQuery){filtered=filtered.filter(skill=>skill.name.toLowerCase().includes(skillsSearchQuery.toLowerCase())||skill.description.toLowerCase().includes(skillsSearchQuery.toLowerCase()));}// Apply level filter\nif(skillsLevelFilter!=='All'){filtered=filtered.filter(skill=>skill.ageBand===skillsLevelFilter);}// Apply subdomain filter\nif(skillsSubdomainFilter.length>0){filtered=filtered.filter(skill=>skillsSubdomainFilter.includes(skill.subdomain));}// Apply status filter\nif(skillsStatusFilter!=='All'){filtered=filtered.filter(skill=>skillStatuses[skill.id]===skillsStatusFilter);}// Apply sorting\nswitch(skillsSortBy){case'A-Z':filtered.sort((a,b)=>a.name.localeCompare(b.name));break;case'Recently updated':// TODO: Sort by last updated date\nbreak;case'Recommended':default:// Keep default order (age-appropriate first)\nbreak;}// Group skills\nconst currentLevel=chronologicalAge.includes('months')?getAgeBandFromChronological(chronologicalAge):developmentalLevel;const ageBands=['Early','Toddler','Preschool','School-age'];const currentIndex=ageBands.indexOf(currentLevel);const suggested=filtered.filter(skill=>skill.ageBand===currentLevel);const stretchNext=filtered.filter(skill=>{const skillIndex=ageBands.indexOf(skill.ageBand);return skillIndex===currentIndex+1;});const foundations=filtered.filter(skill=>{const skillIndex=ageBands.indexOf(skill.ageBand);return skillIndex<currentIndex;});return{suggested,stretchNext,foundations};};// Keyboard navigation state\nconst[focusedSkillIndex,setFocusedSkillIndex]=useState(-1);const[focusedSkillId,setFocusedSkillId]=useState(null);const handleKeyDown=(event,skillId,index)=>{switch(event.key){case'ArrowDown':event.preventDefault();const nextIndex=Math.min(index+1,getFilteredAndGroupedSkills().suggested.length-1);setFocusedSkillIndex(nextIndex);setFocusedSkillId(skillId);break;case'ArrowUp':event.preventDefault();const prevIndex=Math.max(index-1,0);setFocusedSkillIndex(prevIndex);setFocusedSkillId(skillId);break;case' ':event.preventDefault();// Toggle status - find current status and cycle through\nconst currentStatus=skillStatuses[skillId]||'Not yet';const statusOptions=['Observed','Emerging','Not yet','N/A'];const currentIndex=statusOptions.indexOf(currentStatus);const nextStatus=statusOptions[(currentIndex+1)%statusOptions.length];handleSkillStatusChange(skillId,nextStatus);break;case'Enter':event.preventDefault();// Open supports popover - this will be handled by the supports button\nconst supportsButton=document.querySelector(`[data-skill-id=\"${skillId}\"] [data-supports-button]`);if(supportsButton){supportsButton.click();}break;}};const handleSkillFocus=(skillId,index)=>{setFocusedSkillIndex(index);setFocusedSkillId(skillId);};// SkillRow Component with enhanced accessibility\nconst SkillRow=_ref=>{let{skill,status,lastObserved,supports,isSelected,isFocused,index,onSelectionChange,onStatusChange,onSupportsUpdate,onKeyDown,onFocus}=_ref;const[showSupportsPopover,setShowSupportsPopover]=useState(false);const[showOverflowMenu,setShowOverflowMenu]=useState(false);const[showDatePicker,setShowDatePicker]=useState(false);const[selectedDate,setSelectedDate]=useState(lastObserved||new Date().toISOString().split('T')[0]);const supportsOptions=['hand-over-hand','adaptive utensil','prompts','AAC','orthotics'];const handleStatusChange=newStatus=>{if(newStatus==='Observed'&&!lastObserved){setShowDatePicker(true);}else{onStatusChange(newStatus);}};const handleDateSave=()=>{onStatusChange('Observed');setShowDatePicker(false);// TODO: Save last observed date\n};return/*#__PURE__*/_jsxs(\"div\",{className:`bg-white border border-gray-200 rounded-lg p-3 hover:border-gray-300 transition-colors ${isFocused?'ring-2 ring-blue-500 ring-offset-2':''}`,tabIndex:0,onKeyDown:onKeyDown,onFocus:onFocus,role:\"row\",\"aria-selected\":isSelected,\"aria-label\":`Skill: ${skill.name}, Status: ${status}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isSelected,onChange:e=>onSelectionChange(e.target.checked),className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\",\"aria-label\":`Select ${skill.name} skill`}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-sm font-medium text-gray-900 truncate\",children:skill.name}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-400 hover:text-gray-600\",\"aria-label\":`Show description for ${skill.name}`,title:skill.description,children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:skill.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800\",children:skill.subdomain}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",children:skill.ageBand})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",role:\"radiogroup\",\"aria-label\":`Status for ${skill.name}`,children:['Observed','Emerging','Not yet','N/A'].map(statusOption=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:`status-${skill.id}`,value:statusOption,checked:status===statusOption,onChange:()=>handleStatusChange(statusOption),className:\"mr-1 text-blue-600 focus:ring-blue-500\",\"aria-label\":`Mark ${skill.name} as ${statusOption}`}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-700\",children:statusOption})]},statusOption))}),lastObserved&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"Last: \",new Date(lastObserved).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"button\",{\"data-supports-button\":true,\"data-skill-id\":skill.id,onClick:()=>setShowSupportsPopover(!showSupportsPopover),className:\"text-xs text-blue-600 hover:text-blue-700 underline\",\"aria-label\":\"Manage supports for this skill\",\"aria-expanded\":showSupportsPopover,\"aria-haspopup\":\"true\",children:\"Supports\"}),showSupportsPopover&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 top-6 w-48 bg-white border border-gray-200 rounded-lg shadow-lg p-3 z-10\",role:\"dialog\",\"aria-label\":\"Supports selection\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-xs font-medium text-gray-900 mb-2\",children:\"Supports used:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:supportsOptions.map(option=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:supports.includes(option),onChange:e=>{if(e.target.checked){onSupportsUpdate([...supports,option]);}else{onSupportsUpdate(supports.filter(s=>s!==option));}},className:\"mr-2 text-blue-600 focus:ring-blue-500\",\"aria-label\":`Use ${option} support`}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-700 capitalize\",children:option})]},option))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowOverflowMenu(!showOverflowMenu),className:\"text-gray-400 hover:text-gray-600 p-1\",\"aria-label\":\"More options for this skill\",\"aria-expanded\":showOverflowMenu,\"aria-haspopup\":\"true\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\"})})}),showOverflowMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 top-6 w-32 bg-white border border-gray-200 rounded-lg shadow-lg p-2 z-10\",role:\"menu\",\"aria-label\":\"Skill options\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{handleViewSkillHistory(skill);setShowOverflowMenu(false);},className:\"w-full text-left px-2 py-1 text-xs text-gray-700 hover:bg-gray-100 rounded\",role:\"menuitem\",children:\"View history\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left px-2 py-1 text-xs text-gray-700 hover:bg-gray-100 rounded\",role:\"menuitem\",children:\"Add note\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(visitPacketItems.has(skill.id)){handleRemoveFromVisitPacket(skill.id);}else{handleAddToVisitPacket(skill.id);}setShowOverflowMenu(false);},className:`w-full text-left px-2 py-1 text-xs rounded ${visitPacketItems.has(skill.id)?'text-red-600 hover:bg-red-50':'text-gray-700 hover:bg-gray-100'}`,role:\"menuitem\",children:visitPacketItems.has(skill.id)?'Remove from Visit Packet':'Add to Visit Packet'}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left px-2 py-1 text-xs text-red-600 hover:bg-red-50 rounded\",role:\"menuitem\",children:\"Delete\"})]})]})]}),showDatePicker&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 z-50 flex items-center justify-center\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"date-picker-title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4 max-w-sm w-full mx-4\",children:[/*#__PURE__*/_jsx(\"h6\",{id:\"date-picker-title\",className:\"text-sm font-medium text-gray-900 mb-3\",children:\"When did you observe this skill?\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:selectedDate,onChange:e=>setSelectedDate(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\"aria-label\":\"Select observation date\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDatePicker(false),className:\"px-3 py-1 text-sm text-gray-700 bg-gray-100 border border-gray-300 rounded hover:bg-gray-200\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDateSave,className:\"px-3 py-1 text-sm text-white bg-blue-600 border border-transparent rounded hover:bg-blue-700\",children:\"Save\"})]})]})})]});};const handleViewSkillHistory=skill=>{setSelectedSkillForHistory(skill);setShowSkillHistory(true);};const handleAddNote=()=>{if(!newNoteText.trim()||!selectedSkillForHistory)return;// TODO: Add note to database\nconsole.log('Adding note to skill:',selectedSkillForHistory.id,newNoteText);setNewNoteText('');setShowAddNoteForm(false);// TODO: Show toast: \"Note added\"\n};const handleEditLastEntry=()=>{if(!selectedSkillForHistory)return;// TODO: Open edit form for last status change\nconsole.log('Editing last entry for skill:',selectedSkillForHistory.id);// TODO: Show edit modal\n};// Care Ideas panel state\nconst[careIdeasEnvironment,setCareIdeasEnvironment]=useState(['home']);const[careIdeasSupports,setCareIdeasSupports]=useState([]);const[careIdeasTimeAvailable,setCareIdeasTimeAvailable]=useState('10-15 min');// Sample care ideas data\nconst careIdeasData={'motor':[{id:'motor-1',title:'Tummy-time with bolster',goalTags:['Gross motor','Core strength'],levelTag:'Suggested now',materials:['Firm pillow or bolster','Favorite toys'],steps:['Place bolster under child\\'s chest for support','Position interesting toys just out of reach','Encourage reaching and stretching movements','Gradually increase time spent in position'],adaptations:['Use visual markers','Hand-over-hand support'],safetyNote:'Supervise closely, ensure safe surface',environment:['home','therapy'],supports:['visuals','hand-over-hand'],timeRequired:'5 min'},{id:'motor-2',title:'Cruising along couch',goalTags:['Gross motor','Balance'],levelTag:'Suggested now',materials:['Stable furniture','Soft landing area'],steps:['Clear safe path along furniture edge','Place favorite toys at intervals','Encourage side-stepping while holding on','Celebrate each step taken'],adaptations:['Use visual markers','Provide hand support'],safetyNote:'Ensure furniture is stable, supervise closely',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'10-15 min'},{id:'motor-3',title:'Stack 2-3 blocks',goalTags:['Fine motor','Precision'],levelTag:'Stretch',materials:['Large, lightweight blocks'],steps:['Start with just 2 blocks','Model stacking action slowly','Encourage imitation and practice','Gradually increase to 3 blocks'],adaptations:['Larger blocks','Non-slip base'],safetyNote:'Use soft blocks, supervise play',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'5 min'},{id:'motor-4',title:'Large-bead threading',goalTags:['Fine motor','Coordination'],levelTag:'Stretch',materials:['Large wooden beads','Thick string'],steps:['Demonstrate threading motion','Start with just a few beads','Practice hand-eye coordination','Celebrate each successful thread'],adaptations:['Larger beads','Stiffer string'],safetyNote:'Supervise closely, avoid small parts',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'10 min'},{id:'motor-5',title:'Two-hand carry',goalTags:['Fine motor','Bilateral coordination'],levelTag:'Foundations',materials:['Various sized containers','Toys'],steps:['Start with small, lightweight items','Encourage using both hands together','Practice carrying different objects','Build up to larger containers'],adaptations:['Larger handles','Non-slip grips'],safetyNote:'Ensure items are safe to carry',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'5 min'}],'communication':[{id:'comm-1',title:'Choice-making with pictures',goalTags:['Receptive','Understanding'],levelTag:'Suggested now',materials:['Picture cards','Favorite items'],steps:['Show 2-3 picture options','Ask \"Which one do you want?\"','Wait for response (point, reach, or vocalize)','Provide chosen item immediately'],adaptations:['Larger pictures','Real objects'],safetyNote:'Keep choices simple and clear',environment:['home','school'],supports:['visuals','aac'],timeRequired:'5 min'},{id:'comm-2',title:'Label-and-point during routines',goalTags:['Expressive','Vocabulary'],levelTag:'Suggested now',materials:['Daily routine items','Picture schedule'],steps:['Point to items during daily activities','Say the name clearly and wait','Encourage child to repeat or point','Use consistent labels for same items'],adaptations:['Picture schedule','Visual cues'],safetyNote:'Keep routines predictable and positive',environment:['home','school'],supports:['visuals'],timeRequired:'10-15 min'},{id:'comm-3',title:'\"One-step helper\" games',goalTags:['Receptive','Following directions'],levelTag:'Stretch',materials:['Simple household tasks','Clear instructions'],steps:['Give one simple instruction at a time','Use gestures and visual cues','Model the action if needed','Celebrate completion of each step'],adaptations:['Visual instructions','Hand-over-hand'],safetyNote:'Choose safe, age-appropriate tasks',environment:['home','school'],supports:['visuals','hand-over-hand'],timeRequired:'10 min'},{id:'comm-4',title:'Echoic practice with favorite words',goalTags:['Expressive','Imitation'],levelTag:'Stretch',materials:['Favorite toys','Books','Daily items'],steps:['Say favorite words clearly and slowly','Wait for child to attempt imitation','Accept any approximation of the word','Provide positive reinforcement'],adaptations:['Slower speech','Visual cues'],safetyNote:'Keep practice fun and low-pressure',environment:['home','therapy'],supports:['visuals'],timeRequired:'5 min'}],'social-emotional':[{id:'social-1',title:'Peekaboo turn-taking',goalTags:['Interaction','Social games'],levelTag:'Suggested now',materials:['Blanket','Favorite toy','Mirror'],steps:['Play simple peekaboo games','Take turns hiding and revealing','Encourage child to initiate hiding','Use different hiding spots'],adaptations:['Visual cues','Slower pace'],safetyNote:'Keep game fun and not scary',environment:['home','therapy'],supports:['visuals'],timeRequired:'10 min'},{id:'social-2',title:'\"Show and share\" box',goalTags:['Interaction','Sharing'],levelTag:'Suggested now',materials:['Special box','Favorite items'],steps:['Create a special sharing box','Encourage child to show items to others','Practice sharing and taking turns','Celebrate sharing behaviors'],adaptations:['Visual schedule','Picture cues'],safetyNote:'Ensure items are safe to share',environment:['home','school'],supports:['visuals'],timeRequired:'15 min'},{id:'social-3',title:'Visual schedule for transitions',goalTags:['Regulation','Predictability'],levelTag:'Stretch',materials:['Picture schedule','Timer','Transition items'],steps:['Create simple picture schedule','Show upcoming transitions','Use timer for countdown','Provide transition object if needed'],adaptations:['Larger pictures','Simple steps'],safetyNote:'Keep transitions smooth and predictable',environment:['home','school'],supports:['visuals','timer'],timeRequired:'5 min'},{id:'social-4',title:'Emotion faces matching',goalTags:['Regulation','Emotional awareness'],levelTag:'Stretch',materials:['Emotion cards','Mirror','Simple faces'],steps:['Show simple emotion faces','Model making the same face','Practice in front of mirror','Connect emotions to situations'],adaptations:['Larger faces','Simple emotions'],safetyNote:'Start with basic emotions only',environment:['home','therapy'],supports:['visuals'],timeRequired:'10 min'}],'cognitive-play':[{id:'cog-1',title:'In-out games',goalTags:['Early Play','Exploration'],levelTag:'Suggested now',materials:['Containers','Various objects','Toys'],steps:['Demonstrate putting items in and out','Practice with different containers','Encourage exploration and experimentation','Celebrate discovery and learning'],adaptations:['Larger containers','Simple objects'],safetyNote:'Ensure objects are safe and age-appropriate',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'10 min'},{id:'cog-2',title:'Cause-effect button toys',goalTags:['Problem-Solving','Cause-effect'],levelTag:'Suggested now',materials:['Simple cause-effect toys','Buttons'],steps:['Show how pressing button creates effect','Encourage child to press buttons','Practice different buttons and effects','Celebrate cause-effect understanding'],adaptations:['Larger buttons','Clear effects'],safetyNote:'Choose toys with clear, safe effects',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'10 min'},{id:'cog-3',title:'Shape sorter',goalTags:['Problem-Solving','Matching'],levelTag:'Stretch',materials:['Simple shape sorter','Basic shapes'],steps:['Start with just 2-3 simple shapes','Demonstrate matching and sorting','Practice with hand-over-hand support','Gradually increase difficulty'],adaptations:['Larger shapes','Simple designs'],safetyNote:'Supervise closely, ensure pieces are safe',environment:['home','therapy'],supports:['hand-over-hand','visuals'],timeRequired:'15 min'},{id:'cog-4',title:'Pretend tea party',goalTags:['Pretend','Imaginative play'],levelTag:'Stretch',materials:['Toy cups','Plates','Pretend food'],steps:['Model pretend actions (drinking, eating)','Encourage imitation of pretend behaviors','Practice simple pretend scenarios','Celebrate imaginative play'],adaptations:['Realistic toys','Simple scenarios'],safetyNote:'Ensure toys are safe and age-appropriate',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'15 min'}],'adaptive-self-help':[{id:'adaptive-1',title:'Open-cup sips with tiny amounts',goalTags:['Feeding','Drinking skills'],levelTag:'Suggested now',materials:['Small open cup','Tiny amounts of liquid'],steps:['Start with very small amounts','Demonstrate sipping motion','Practice with hand-over-hand support','Gradually increase amount'],adaptations:['Smaller cup','Thicker liquids'],safetyNote:'Supervise closely, use safe liquids',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'5 min'},{id:'adaptive-2',title:'Spoon practice with thick foods',goalTags:['Feeding','Self-feeding'],levelTag:'Suggested now',materials:['Child-sized spoon','Thick foods (yogurt, pudding)'],steps:['Demonstrate proper spoon grip','Practice scooping thick foods','Encourage self-feeding attempts','Provide positive reinforcement'],adaptations:['Adaptive spoon','Non-slip bowl'],safetyNote:'Supervise eating, choose safe foods',environment:['home','therapy'],supports:['adaptive utensils'],timeRequired:'15 min'},{id:'adaptive-3',title:'Sock-off game',goalTags:['Dressing','Undressing skills'],levelTag:'Stretch',materials:['Loose socks','Comfortable clothing'],steps:['Start with loose, easy-to-remove socks','Demonstrate pulling motion','Practice with hand-over-hand support','Celebrate each successful removal'],adaptations:['Larger socks','Loose fit'],safetyNote:'Ensure socks are not too tight',environment:['home','therapy'],supports:['hand-over-hand'],timeRequired:'5 min'},{id:'adaptive-4',title:'Hand-wash 3-step routine',goalTags:['Hygiene','Self-care routine'],levelTag:'Stretch',materials:['Sink','Soap','Towel','Step stool'],steps:['Turn on water (with help)','Apply soap and rub hands','Rinse and dry hands'],adaptations:['Step stool','Visual routine'],safetyNote:'Supervise water temperature and usage',environment:['home','school'],supports:['visuals','hand-over-hand'],timeRequired:'10 min'}]};// Overview metrics helper functions\nconst getTotalObservedSkills=()=>{// TODO: Calculate total observed skills based on overviewDateRange\nreturn 25;};const getTotalEmergingSkills=()=>{// TODO: Calculate total emerging skills based on overviewDateRange\nreturn 8;};const getNewSkillsThisPeriod=()=>{// TODO: Calculate new skills in the last 30 days\nreturn 3;};const getPracticeStreak=()=>{// TODO: Calculate practice streak (days with milestone updates)\nreturn 7;};const getFilteredCareIdeas=()=>{const domain=selectedDomainForDetail;if(!domain||!careIdeasData[domain])return[];let ideas=careIdeasData[domain];// Filter by environment\nif(careIdeasEnvironment.length>0){ideas=ideas.filter(idea=>idea.environment.some(env=>careIdeasEnvironment.includes(env)));}// Filter by supports\nif(careIdeasSupports.length>0){ideas=ideas.filter(idea=>idea.supports.some(support=>careIdeasSupports.includes(support)));}// Filter by time available\nideas=ideas.filter(idea=>{if(careIdeasTimeAvailable==='5 min')return idea.timeRequired==='5-10 min';if(careIdeasTimeAvailable==='10-15 min')return idea.timeRequired==='10-15 min';if(careIdeasTimeAvailable==='20+ min')return idea.timeRequired==='15-20 min';return true;});// Content logic: prioritize based on skill statuses\nconst{suggested,stretchNext,foundations}=getFilteredAndGroupedSkills();const notYetOrEmergingCount=suggested.filter(skill=>skillStatuses[skill.id]==='Not yet'||skillStatuses[skill.id]==='Emerging').length;// Show more \"Foundations\" ideas if >50% of \"Suggested now\" are Not yet\nconst shouldShowFoundations=notYetOrEmergingCount>suggested.length*0.5;// Sort by priority: Suggested now > Stretch > Foundations\nideas.sort((a,b)=>{const priority={'Suggested now':3,'Stretch':2,'Foundations':1};return priority[b.levelTag]-priority[a.levelTag];});// Limit to 3-6 ideas\nreturn ideas.slice(0,shouldShowFoundations?6:4);};// Progress Timeline state\nconst[progressTimeScope,setProgressTimeScope]=useState('30 days');const[progressView,setProgressView]=useState('By date');const[progressCustomStartDate,setProgressCustomStartDate]=useState('');const[progressCustomEndDate,setProgressCustomEndDate]=useState('');// Sample progress data for demonstration\nconst progressData={'motor':{timeline:[{date:'2024-03-15',skill:'Rolls both ways',status:'Observed'},{date:'2024-03-12',skill:'Sits briefly without support',status:'Observed'},{date:'2024-03-08',skill:'Pulls to stand',status:'Emerging'},{date:'2024-03-05',skill:'Pincer grasp',status:'Observed'},{date:'2024-02-28',skill:'Stacks 2 blocks',status:'Emerging'}],subdomains:{'gross':{observed:3,emerging:2},'fine':{observed:1,emerging:1}}},'communication':{timeline:[{date:'2024-03-12',skill:'Uses 5-10 words',status:'Observed'},{date:'2024-03-08',skill:'Follows 1-step directions',status:'Observed'},{date:'2024-03-03',skill:'Points to request',status:'Emerging'}],subdomains:{'expressive':{observed:1,emerging:0},'receptive':{observed:1,emerging:1}}},'social-emotional':{timeline:[{date:'2024-03-10',skill:'Social smile',status:'Observed'},{date:'2024-03-05',skill:'Joint attention',status:'Emerging'}],subdomains:{'interaction':{observed:1,emerging:1},'regulation':{observed:0,emerging:0}}}};const getProgressDataForDomain=()=>{const domain=selectedDomainForDetail;if(!domain||!progressData[domain])return null;const data=progressData[domain];let filteredTimeline=[...data.timeline];// Filter by time scope\nconst endDate=new Date();let startDate=new Date();switch(progressTimeScope){case'30 days':startDate.setDate(endDate.getDate()-30);break;case'90 days':startDate.setDate(endDate.getDate()-90);break;case'Custom':if(progressCustomStartDate&&progressCustomEndDate){startDate=new Date(progressCustomStartDate);const customEnd=new Date(progressCustomEndDate);filteredTimeline=filteredTimeline.filter(item=>{const itemDate=new Date(item.date);return itemDate>=startDate&&itemDate<=customEnd;});return{timeline:filteredTimeline,subdomains:data.subdomains};}break;}filteredTimeline=filteredTimeline.filter(item=>{const itemDate=new Date(item.date);return itemDate>=startDate&&itemDate<=endDate;});return{timeline:filteredTimeline,subdomains:data.subdomains};};const handleExportDomainProgress=()=>{// TODO: Export domain progress to PDF\nconsole.log('Exporting domain progress to PDF');// TODO: Show toast: \"Export started\"\n};const handleAddToVisitPacket=function(itemId){let itemType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'skill';setVisitPacketItems(prev=>new Set(Array.from(prev).concat(itemId)));showToastMessage(`${itemType} added to Visit Packet`);};const handleRemoveFromVisitPacket=function(itemId){let itemType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'skill';setVisitPacketItems(prev=>{const newSet=new Set(Array.from(prev));newSet.delete(itemId);return newSet;});showToastMessage(`${itemType} removed from Visit Packet`);};const handleAddSelectedToVisitPacket=()=>{if(selectedSkills.length===0)return;setVisitPacketItems(prev=>new Set(Array.from(prev).concat(selectedSkills)));showToastMessage(`${selectedSkills.length} skill${selectedSkills.length!==1?'s':''} added to Visit Packet`);setSelectedSkills([]);};// Export domain report modal state\nconst[showExportReportModal,setShowExportReportModal]=useState(false);const[exportReportOptions,setExportReportOptions]=useState({dateRange:{start:new Date(Date.now()-30*24*60*60*1000).toISOString().split('T')[0],// 30 days ago\nend:new Date().toISOString().split('T')[0]},include:{observed:true,emerging:true,notes:true},sections:{skillsList:true,careIdeasSnapshot:true,timelineChart:true}});const[exportReportStatus,setExportReportStatus]=useState('options');// Visit Packet state\nconst[visitPacketItems,setVisitPacketItems]=useState(new Set());const[showToast,setShowToast]=useState(false);const[toastMessage,setToastMessage]=useState('');const[toastType,setToastType]=useState('success');const handleExportDomainReport=()=>{// TODO: Generate domain report PDF\nconsole.log('Generating domain report with options:',exportReportOptions);setExportReportStatus('generating');// Simulate PDF generation\nsetTimeout(()=>{setExportReportStatus('ready');},2000);};const handleSaveToVisitPacket=()=>{// TODO: Save report to visit packet\nconsole.log('Saving report to visit packet');// TODO: Show toast: \"Report saved to visit packet\"\n};const showToastMessage=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'success';setToastMessage(message);setToastType(type);setShowToast(true);setTimeout(()=>setShowToast(false),3000);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm border-b\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-20 py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-semibold text-gray-900\",children:\"Growth & Milestones\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"Track observed skills across domains at your child's pace.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"p-2 text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10\",children:[\"Not a diagnostic tool\",/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAISuggestionsModal(true),className:\"px-3 py-2 text-xs font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\",\"aria-label\":\"Get AI suggestions for next skills\",children:\"Suggest next skills (AI)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowReportModal(true),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Generate Milestone Report\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddSkill,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Add Skill\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex space-x-8\",\"aria-label\":\"Growth & Milestones navigation\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveGrowthTab('domains'),className:`py-4 px-1 border-b-2 font-medium text-sm ${activeGrowthTab==='domains'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\"aria-current\":activeGrowthTab==='domains'?'page':undefined,children:\"Domains\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveGrowthTab('overview'),className:`py-4 px-1 border-b-2 font-medium text-sm ${activeGrowthTab==='overview'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\"aria-current\":activeGrowthTab==='overview'?'page':undefined,children:\"Overview\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveGrowthTab('reports'),className:`py-4 px-1 border-b-2 font-medium text-sm ${activeGrowthTab==='reports'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\"aria-current\":activeGrowthTab==='reports'?'page':undefined,children:\"Reports\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveGrowthTab('ideas'),className:`py-4 px-1 border-b-2 font-medium text-sm ${activeGrowthTab==='ideas'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\"aria-current\":activeGrowthTab==='ideas'?'page':undefined,children:\"Ideas Library\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 sm:space-x-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Age:\"}),useDevelopmentalLevel?/*#__PURE__*/_jsxs(\"select\",{value:developmentalLevel,onChange:e=>setDevelopmentalLevel(e.target.value),className:\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Early\",children:\"Early (0-12m)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Toddler\",children:\"Toddler (12-36m)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Preschool\",children:\"Preschool (3-5y)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"School-age\",children:\"School-age (5+)\"})]}):/*#__PURE__*/_jsxs(\"select\",{value:chronologicalAge,onChange:e=>setChronologicalAge(e.target.value),className:\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"6 months\",children:\"6 months\"}),/*#__PURE__*/_jsx(\"option\",{value:\"12 months\",children:\"12 months\"}),/*#__PURE__*/_jsx(\"option\",{value:\"18 months\",children:\"18 months\"}),/*#__PURE__*/_jsx(\"option\",{value:\"24 months\",children:\"24 months\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3 years\",children:\"3 years\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4 years\",children:\"4 years\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5 years\",children:\"5 years\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6 years\",children:\"6 years\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Use developmental level instead:\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setUseDevelopmentalLevel(!useDevelopmentalLevel),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${useDevelopmentalLevel?'bg-blue-600':'bg-gray-200'}`,children:/*#__PURE__*/_jsx(\"span\",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${useDevelopmentalLevel?'translate-x-6':'translate-x-1'}`})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Time scope:\"}),/*#__PURE__*/_jsxs(\"select\",{value:timeScope,onChange:e=>setTimeScope(e.target.value),className:\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"This week\",children:\"This week\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30 days\",children:\"30 days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"90 days\",children:\"90 days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Custom\",children:\"Custom\"})]})]})]})})}),activeGrowthTab==='domains'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"lg:flex lg:space-x-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:flex-1\",children:isLoading?/*#__PURE__*/// Loading state - skeleton tiles\n_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\",children:[1,2,3,4,5].map(i=>/*#__PURE__*/_jsx(DomainTileSkeleton,{},i))}):!hasMilestones?/*#__PURE__*/// Empty state - no milestones yet\n_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto max-w-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 mb-6\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-32 w-32\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:1,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No milestones yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-6\",children:\"Start by adding a skill you've noticed.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddSkill,className:\"px-6 py-3 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Add your first skill\",children:\"Add Skill\"})]})}):/*#__PURE__*/// Normal state - domain tiles\n_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\",children:domains.map(domain=>{const progressPercentage=domain.observed/domain.suggested*100;const circumference=2*Math.PI*18;// radius = 18\nconst strokeDasharray=circumference;const strokeDashoffset=circumference-progressPercentage/100*circumference;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow\",role:\"article\",\"aria-labelledby\":`domain-${domain.id}-title`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl\",\"aria-hidden\":\"true\",children:domain.icon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{id:`domain-${domain.id}-title`,className:\"text-lg font-semibold text-gray-900\",children:domain.name}),domain.subtitle&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:domain.subtitle})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",role:\"progressbar\",\"aria-valuenow\":domain.observed,\"aria-valuemin\":0,\"aria-valuemax\":domain.suggested,\"aria-label\":`${domain.name} progress: ${domain.observed} of ${domain.suggested} skills observed`,children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-16 h-16 transform -rotate-90\",viewBox:\"0 0 36 36\",\"aria-hidden\":\"true\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"18\",cy:\"18\",r:\"18\",fill:\"none\",stroke:\"#e5e7eb\",strokeWidth:\"3\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"18\",cy:\"18\",r:\"18\",fill:\"none\",stroke:\"#3b82f6\",strokeWidth:\"3\",strokeDasharray:strokeDasharray,strokeDashoffset:strokeDashoffset,strokeLinecap:\"round\",className:\"transition-all duration-300\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-900\",children:[domain.observed,\"/\",domain.suggested]})})]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 text-center mb-4\",children:[\"Observed \",domain.observed,\" of \",domain.suggested,\" suggested skills\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-4\",children:domain.lastSkill?/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Last new skill: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:domain.lastSkill}),\" on \",domain.lastDate]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"No skills yet\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleOpenDomain(domain.id),className:\"w-full px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\",\"aria-label\":`Open ${domain.name} domain details`,children:\"Open\"})]},domain.id);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden xl:block xl:w-80 mt-8 lg:mt-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Care Ideas\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-16 w-16\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:1,d:\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"})})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-2\",children:\"Coming in Phase 5B\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400\",children:\"Personalized care recommendations and strategies\"})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Recent milestone entries\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleViewAllMilestones,className:\"text-sm font-medium text-blue-600 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"View all milestone entries\",children:\"View all\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-gray-200\",children:isLoading?// Loading state - skeleton entries\nArray.from({length:5}).map((_,i)=>/*#__PURE__*/_jsx(JournalEntrySkeleton,{},i)):!hasMilestones?/*#__PURE__*/// Empty state - no milestone entries\n_jsxs(\"div\",{className:\"px-6 py-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-16 w-16\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:1,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"No milestone entries yet\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddSkill,className:\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Add your first milestone entry\",children:\"Add Skill\"})]}):// Normal state - milestone entries\nmilestoneEntries.slice(0,10).map(entry=>/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 hover:bg-gray-50 transition-colors\",role:\"article\",\"aria-labelledby\":`milestone-${entry.id}-title`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl\",\"aria-hidden\":\"true\",children:entry.domainIcon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{id:`milestone-${entry.id}-title`,className:\"text-sm font-medium text-gray-900\",children:entry.skillName}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${getStatusBadgeColor(entry.status)}`,role:\"status\",\"aria-label\":`Status: ${entry.status}`,children:entry.status}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[entry.date,\" \\u2022 \",getContextLabel(entry.context)]})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewMilestone(entry.id),className:\"text-sm font-medium text-blue-600 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":`View details for ${entry.skillName}`,children:\"View\"})]})},entry.id))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 pt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"CareGene \\u2022 Growth & Development Tracking\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettingsModal(true),className:\"text-sm font-medium text-blue-600 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Open milestone settings\",children:\"Milestone settings\"})]})})})]}),activeGrowthTab==='overview'&&/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Cross-Domain Progress\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Date range:\"}),/*#__PURE__*/_jsxs(\"select\",{value:overviewDateRange,onChange:e=>setOverviewDateRange(e.target.value),className:\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"This week\",children:\"This week\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30 days\",children:\"30 days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"90 days\",children:\"90 days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Custom\",children:\"Custom\"})]}),/*#__PURE__*/_jsx(\"button\",{disabled:true,title:\"Coming soon\",className:\"px-3 py-1.5 text-sm font-medium text-gray-400 bg-gray-100 border border-gray-200 rounded-md cursor-not-allowed\",children:\"AI: suggest next 5 skills focus\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-blue-600\",children:\"Observed Skills\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-blue-900\",children:getTotalObservedSkills()}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-700\",children:\"Total in range\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-400\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-yellow-600\",children:\"Emerging Skills\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-yellow-900\",children:getTotalEmergingSkills()}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-yellow-700\",children:\"In development\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-yellow-400\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 10V3L4 14h7v7l9-11h-7z\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 border border-green-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-green-600\",children:\"New This Period\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-900\",children:getNewSkillsThisPeriod()}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-green-700\",children:\"Last 30 days\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-green-400\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 6v6m0 0v6m0-6h6m-6 0H6\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-50 border border-purple-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-purple-600\",children:\"Practice Streak\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-purple-900\",children:getPracticeStreak()}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-purple-700\",children:\"Days with updates\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-purple-400\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 10V3L4 14h7v7l9-11h-7z\"})})})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Domain Progress Heatmap\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Time unit:\"}),/*#__PURE__*/_jsxs(\"select\",{value:overviewDateRange==='This week'?'weeks':'months',onChange:e=>setOverviewDateRange(e.target.value==='weeks'?'This week':'30 days'),className:\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"weeks\",children:\"Weeks (last 12)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"months\",children:\"Months (last 6)\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"min-w-max\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid gap-1\",style:{gridTemplateColumns:'repeat(13, minmax(0, 1fr))'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 text-center py-2\",children:\"Domain\"}),Array.from({length:12},(_,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 text-center py-2\",children:[\"W\",i+1]},i)),['Motor','Communication','Social-Emotional','Cognitive/Play','Adaptive/Self-Help'].map(domain=>/*#__PURE__*/_jsxs(\"div\",{className:\"contents\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-700 py-2\",children:domain}),Array.from({length:12},(_,i)=>{const count=Math.floor(Math.random()*6);// Mock data\nconst intensity=Math.min(count/5,1);return/*#__PURE__*/_jsx(\"button\",{onClick:()=>{/* TODO: Open filtered entries drawer */},className:`w-8 h-8 rounded text-xs font-medium text-white transition-colors hover:ring-2 hover:ring-blue-300 ${count===0?'bg-gray-100 text-gray-400':intensity<0.3?'bg-blue-200':intensity<0.6?'bg-blue-400':intensity<0.8?'bg-blue-600':'bg-blue-800'}`,title:`${count} skills observed in ${domain} - Week ${i+1}`,children:count},i);})]},domain))]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-6\",children:\"Cumulative Progress\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-64 flex items-end justify-center space-x-2\",children:Array.from({length:12},(_,i)=>{const observed=Math.floor(Math.random()*20)+10;const emerging=Math.floor(Math.random()*15)+5;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 bg-blue-600 rounded-t transition-all duration-300 hover:bg-blue-700\",style:{height:`${observed}px`},title:`Week ${i+1}: ${observed} observed, ${emerging} emerging`}),/*#__PURE__*/_jsx(\"div\",{className:\"w-4 bg-yellow-400 rounded-t opacity-60\",style:{height:`${emerging}px`}})]},i);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-blue-900\",children:\"Hover over bars to see details\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-700\",children:\"Blue bars: Observed skills, Yellow bars: Emerging skills\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-6\",children:\"Coverage by Domain\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:[{name:'Motor',observedPercent:75,emergingPercent:15},{name:'Communication',observedPercent:60,emergingPercent:25},{name:'Social-Emotional',observedPercent:80,emergingPercent:10},{name:'Cognitive/Play',observedPercent:65,emergingPercent:20},{name:'Adaptive/Self-Help',observedPercent:70,emergingPercent:20}].map(domain=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:domain.name}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{/* TODO: Open domain */},className:\"text-sm text-blue-600 hover:text-blue-800 underline\",children:\"Open domain\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-4 rounded-full overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500 h-4 transition-all duration-300\",style:{width:`${domain.observedPercent}%`},title:`${domain.observedPercent}% observed`}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-500 h-4 transition-all duration-300\",style:{width:`${domain.emergingPercent}%`},title:`${domain.emergingPercent}% emerging`})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Observed: \",domain.observedPercent,\"%\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Emerging: \",domain.emergingPercent,\"%\"]})]})]},domain.name))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Subdomain Distribution\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"View:\"}),/*#__PURE__*/_jsxs(\"select\",{defaultValue:\"counts\",className:\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"counts\",children:\"Counts\"}),/*#__PURE__*/_jsx(\"option\",{value:\"percentages\",children:\"Percentages\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[{name:'Gross Motor',observed:12,emerging:3,observedPercent:80,emergingPercent:20},{name:'Fine Motor',observed:8,emerging:4,observedPercent:67,emergingPercent:33},{name:'Expressive Language',observed:10,emerging:5,observedPercent:67,emergingPercent:33},{name:'Receptive Language',observed:15,emerging:2,observedPercent:88,emergingPercent:12}].map(subdomain=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:subdomain.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500\",children:[subdomain.observed,\" observed, \",subdomain.emerging,\" emerging\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-3 rounded-full overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500 h-3 transition-all duration-300\",style:{width:`${subdomain.observedPercent}%`}}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-500 h-3 transition-all duration-300\",style:{width:`${subdomain.emergingPercent}%`}})]})})]},subdomain.name))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Skills Velocity\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-gray-900\",children:\"3.2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl text-green-500\",children:\"\\u2197\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"New Observed skills per 30 days\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Context and supports can influence pace\"})]})]})]})]}),activeGrowthTab==='ideas'&&/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search ideas...\",className:\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"absolute left-3 top-2.5 h-5 w-4 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 0 11-14 0 7 7 0 0114 0z\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Sort:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"relevance\",children:\"Relevance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"time\",children:\"Time needed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"alphabetical\",children:\"A\\u2013Z\"})]}),/*#__PURE__*/_jsx(\"button\",{disabled:true,title:\"Coming soon\",className:\"px-3 py-1.5 text-sm font-medium text-gray-400 bg-gray-100 border border-gray-200 rounded-md cursor-not-allowed\",children:\"AI: build weekly plan\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"px-3 py-1.5 text-sm rounded-full border bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200\",children:[\"Domain\",/*#__PURE__*/_jsx(\"svg\",{className:\"ml-1 w-4 h-4 inline\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"px-3 py-1.5 text-sm rounded-full border bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200\",children:[\"Subdomain\",/*#__PURE__*/_jsx(\"svg\",{className:\"ml-1 w-4 h-4 inline\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"px-3 py-1.5 text-sm rounded-full border bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200\",children:[\"Level band\",/*#__PURE__*/_jsx(\"svg\",{className:\"ml-1 w-4 h-4 inline\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"px-3 py-1.5 text-sm rounded-full border bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200\",children:[\"Environment\",/*#__PURE__*/_jsx(\"svg\",{className:\"ml-1 w-4 h-4 inline\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"px-3 py-1.5 text-sm rounded-full border bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200\",children:[\"Time available\",/*#__PURE__*/_jsx(\"svg\",{className:\"ml-1 w-4 h-4 inline\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Supports available\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:['Visuals','AAC','Adaptive utensils','Orthotics','Timer','Sensory breaks'].map(support=>/*#__PURE__*/_jsx(\"button\",{className:\"px-3 py-1.5 text-sm rounded-full border bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200\",children:support},support))})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\",children:sampleIdeas.map(idea=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 pr-4\",children:idea.title}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSaveIdea(idea.id),className:`p-2 rounded-full transition-colors ${savedIdeas.includes(idea.id)?'text-yellow-600 bg-yellow-50':'text-gray-400 hover:text-gray-600 hover:bg-gray-50'}`,children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:savedIdeas.includes(idea.id)?'currentColor':'none',stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full\",children:idea.domain}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full\",children:idea.subdomain})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"span\",{className:`px-3 py-1 text-xs font-medium rounded-full ${idea.levelTag==='Suggested now'?'bg-green-100 text-green-800':idea.levelTag==='Stretch'?'bg-yellow-100 text-yellow-800':'bg-gray-100 text-gray-800'}`,children:idea.levelTag})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm text-gray-600 mb-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),idea.timeNeeded]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 00-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"})}),idea.materials.length,\" materials\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900 mb-2\",children:\"Steps\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-1\",children:idea.steps.map((step,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"text-sm text-gray-600 flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-500 mr-2 mt-0.5\",children:\"\\u2022\"}),step]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900 mb-2\",children:\"Adaptations\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1\",children:idea.adaptations.map((adaptation,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded-full\",children:adaptation},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between pt-4 border-t border-gray-100\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddToPracticePlan(idea.id),className:\"px-3 py-1.5 text-sm font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md transition-colors\",children:\"Add to Practice Plan\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{/* TODO: Implement print */},className:\"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-md transition-colors\",title:\"Print\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{/* TODO: Implement share */},className:\"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-md transition-colors\",title:\"Share\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\"})})})]})]})]})]},idea.id))})]}),activeGrowthTab==='reports'&&/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Report Templates\"}),/*#__PURE__*/_jsx(\"button\",{disabled:true,title:\"Coming soon\",className:\"px-3 py-2 text-sm font-medium text-gray-400 bg-gray-100 border border-gray-200 rounded-md cursor-not-allowed\",children:\"AI: auto-select sections\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{/* TODO: Select template */},className:\"p-6 text-left border rounded-lg transition-colors border-gray-200 hover:border-gray-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-3\",children:\"\\uD83C\\uDFE5\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 mb-2\",children:\"Pediatric Visit Summary\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Comprehensive summary for pediatric appointments\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{/* TODO: Select template */},className:\"p-6 text-left border rounded-lg transition-colors border-gray-200 hover:border-gray-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-3\",children:\"\\uD83E\\uDDE0\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 mb-2\",children:\"Early Intervention/Therapist Summary\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Detailed progress for therapy sessions\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{/* TODO: Select template */},className:\"p-6 text-left border rounded-lg transition-colors border-gray-200 hover:border-gray-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-3\",children:\"\\uD83C\\uDF93\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 mb-2\",children:\"School/IEP Snapshot\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Key information for educational planning\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-6\",children:\"Report Builder\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:flex lg:space-x-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:w-1/3 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Date Range\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"w-full text-sm border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Last 30 days\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Last 90 days\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Last 6 months\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Custom range\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Domains to Include\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:['Motor','Communication','Social-Emotional','Cognitive/Play','Adaptive/Self-Help'].map(domain=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:true,className:\"mr-2 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:domain})]},domain))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Include\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:true,className:\"mr-2 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Observed skills\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:true,className:\"mr-2 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Emerging skills\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:true,className:\"mr-2 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Notes\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"mr-2 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Supports used\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"mr-2 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Contexts\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Visuals\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:true,className:\"mr-2 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Overview heatmap\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:true,className:\"mr-2 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Coverage bars\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:true,className:\"mr-2 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Cumulative chart\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"mr-2 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Add \\\"Care Ideas snapshot\\\"\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Includes 3 ideas per domain based on Not yet/Emerging\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Header Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Child's name\",className:\"w-full text-sm border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Date of birth\",className:\"w-full text-sm border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"MRN (if available)\",className:\"w-full text-sm border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"mr-2 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Include caregiver contact\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:w-2/3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-6 min-h-96\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Live Preview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded border\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium text-gray-900 mb-2\",children:\"Sample Report Header\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Report preview will appear here based on selected options\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded border\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium text-gray-900 mb-2\",children:\"Progress Summary\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Metrics and visualizations will be rendered here\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded border\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium text-gray-900 mb-2\",children:\"Skills Breakdown\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Domain-specific skill details will appear here\"})]})]})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-6\",children:\"Generate & Share\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{/* TODO: Generate PDF */},className:\"px-6 py-3 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Generate PDF\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{/* TODO: Save template */},className:\"px-6 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Save template\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{/* TODO: Share */},className:\"px-6 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Share\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-blue-900 mb-2\",children:\"One-page Overview\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-700 mb-4\",children:\"Generate a single-page summary with metrics strip, coverage ladder, and top 5 recent skills\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{/* TODO: Generate one-page overview */},className:\"px-4 py-2 text-sm font-medium text-blue-700 bg-blue-100 border border-blue-300 rounded-md hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Generate a page\"})]})]})]}),showAddSkillSheet&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"add-skill-title\",\"aria-describedby\":\"add-skill-description\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-10 mx-auto p-6 border w-full max-w-2xl shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{id:\"add-skill-title\",className:\"text-xl font-semibold text-gray-900\",children:\"Add Skill\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddSkillSheet(false),className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close add skill form\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"Add skill progress\",className:\"flex items-center justify-between mb-6\",children:[1,2,3,4,5,6].map(step=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${step===currentStep?'bg-blue-600 text-white':step<currentStep?'bg-green-500 text-white':'bg-gray-200 text-gray-600'}`,\"aria-current\":step===currentStep?'step':undefined,\"aria-label\":`Step ${step}${step<currentStep?' completed':step===currentStep?' current':''}`,children:step<currentStep?'‚úì':step}),step<6&&/*#__PURE__*/_jsx(\"div\",{className:`w-16 h-1 mx-2 ${step<currentStep?'bg-green-500':'bg-gray-200'}`,\"aria-hidden\":\"true\"})]},step))}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-64\",id:\"add-skill-description\",children:[currentStep===1&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Choose Domain\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-3\",children:domains.map(domain=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSelectedDomain(domain.id);handleNextStep();},className:`p-4 border rounded-lg text-left hover:border-blue-300 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 ${selectedDomain===domain.id?'border-blue-500 bg-blue-50':'border-gray-200'}`,\"aria-pressed\":selectedDomain===domain.id,\"aria-label\":`Select ${domain.name} domain${domain.subtitle?` (${domain.subtitle})`:''}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl mb-2\",\"aria-hidden\":\"true\",children:domain.icon}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:domain.name}),domain.subtitle&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:domain.subtitle})]},domain.id))})]}),currentStep===2&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Select Skill\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"skill-search\",className:\"sr-only\",children:\"Search skills\"}),/*#__PURE__*/_jsx(\"input\",{id:\"skill-search\",type:\"text\",placeholder:\"Search skills...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\"aria-label\":\"Search skills by name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"w-full px-3 py-2 text-sm font-medium text-gray-400 bg-gray-50 border border-gray-200 rounded-md cursor-not-allowed opacity-60\",title:\"Coming soon\",\"aria-label\":\"Use AI to pick skill (coming soon)\",children:\"Use AI to pick skill\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-1 text-center\",children:\"Coming soon\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 max-h-48 overflow-y-auto\",role:\"listbox\",\"aria-label\":\"Available skills\",children:displayedSkills.map(skill=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSelectedSkill(skill.id);handleNextStep();},className:`w-full p-3 text-left border rounded-lg hover:border-blue-300 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 ${selectedSkill===skill.id?'border-blue-500 bg-blue-50':'border-gray-200'}`,role:\"option\",\"aria-selected\":selectedSkill===skill.id,\"aria-label\":`Select skill: ${skill.name} (${skill.ageBand} level)`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:skill.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:skill.description}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400 mt-1\",children:skill.ageBand})]},skill.id))}),filteredSkills.length>10&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAllSkills(!showAllSkills),className:\"mt-3 text-blue-600 hover:text-blue-700 text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-expanded\":showAllSkills,\"aria-controls\":\"skill-list\",children:showAllSkills?'Show top 10':`Show all ${filteredSkills.length} skills in domain`})]}),currentStep===3&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Mark Status\"}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"sr-only\",children:\"Skill status options\"}),['Observed','Emerging','Not yet','Not applicable'].map(status=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"status\",value:status,checked:skillStatus===status,onChange:e=>setSkillStatus(e.target.value),className:\"mr-3 text-blue-600 focus:ring-blue-500\",\"aria-describedby\":`status-${status.toLowerCase().replace(' ','-')}-help`}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900\",children:status})]},status))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"status-observed-help\",children:\"Observed: You've seen your child demonstrate this skill\"}),/*#__PURE__*/_jsx(\"p\",{id:\"status-emerging-help\",children:\"Emerging: Your child is starting to show this skill\"}),/*#__PURE__*/_jsx(\"p\",{id:\"status-not-yet-help\",children:\"Not yet: Your child hasn't shown this skill yet\"}),/*#__PURE__*/_jsx(\"p\",{id:\"status-not-applicable-help\",children:\"N/A: This skill doesn't apply to your child's situation\"})]})]}),currentStep===4&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Date Observed\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date-observed\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"When did you observe this skill?\"}),/*#__PURE__*/_jsx(\"input\",{id:\"date-observed\",type:\"date\",value:dateObserved,onChange:e=>setDateObserved(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\"aria-describedby\":\"date-observed-help\"}),/*#__PURE__*/_jsx(\"p\",{id:\"date-observed-help\",className:\"mt-1 text-sm text-gray-500\",children:\"Select the date when you first noticed this skill, or today if you're observing it now.\"})]}),currentStep===5&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Supports Used (Optional)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-4\",children:\"Select any supports or accommodations that helped your child demonstrate this skill.\"}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"sr-only\",children:\"Support options\"}),supportsOptions.map(support=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:supportsUsed.includes(support),onChange:e=>{if(e.target.checked){setSupportsUsed([...supportsUsed,support]);}else{setSupportsUsed(supportsUsed.filter(s=>s!==support));}},className:\"mr-2 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900 capitalize\",children:support})]},support))]})]}),currentStep===6&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Context and Notes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Context (Optional)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-3\",children:\"Where and when did you observe this skill?\"}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"sr-only\",children:\"Context options\"}),contextOptions.map(ctx=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:context.includes(ctx),onChange:e=>{if(e.target.checked){setContext([...context,ctx]);}else{setContext(context.filter(c=>c!==ctx));}},className:\"mr-2 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900 capitalize\",children:ctx})]},ctx))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"skill-notes\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Notes (Optional, 200 chars)\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"skill-notes\",value:notes,onChange:e=>setNotes(e.target.value.slice(0,200)),rows:3,placeholder:\"Add any additional notes about how your child demonstrated this skill...\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\"aria-describedby\":\"notes-counter\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"notes-counter\",className:\"text-right text-sm text-gray-500 mt-1\",children:[notes.length,\"/200\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between pt-6 border-t\",children:[/*#__PURE__*/_jsx(\"div\",{children:currentStep>1&&/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevStep,className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Go to previous step\",children:\"Back\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddSkillSheet(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Cancel adding skill\",children:\"Cancel\"}),currentStep===6?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Save skill entry\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveAndAddAnother,className:\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Save skill and add another\",children:\"Save & Add Another\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:handleNextStep,disabled:!selectedDomain||currentStep===2&&!selectedSkill,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\",\"aria-label\":\"Go to next step\",\"aria-describedby\":!selectedDomain||currentStep===2&&!selectedSkill?\"next-step-error\":undefined,children:\"Next\"})]})]}),(!selectedDomain||currentStep===2&&!selectedSkill)&&/*#__PURE__*/_jsx(\"div\",{id:\"next-step-error\",className:\"mt-2 text-sm text-red-600\",role:\"alert\",children:\"Please complete the current step before continuing.\"})]})}),showMilestoneDetail&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Milestone Detail\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-4\",children:\"This feature will show detailed milestone information.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMilestoneDetail(null),className:\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Close\"})]})})}),showSettingsModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"settings-modal-title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-10 mx-auto p-6 border w-full max-w-md shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"settings-modal-title\",className:\"text-lg font-semibold text-gray-900\",children:\"Milestone Settings\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettingsModal(false),className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close settings modal\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Default view\"}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"sr-only\",children:\"Default view options\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"defaultView\",value:\"age-based\",checked:defaultView==='age-based',onChange:e=>setDefaultView(e.target.value),className:\"mr-3 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900\",children:\"Age-based (chronological age)\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"defaultView\",value:\"developmental\",checked:defaultView==='developmental',onChange:e=>setDefaultView(e.target.value),className:\"mr-3 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900\",children:\"Developmental level\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-gray-500\",children:\"Choose how milestones are displayed by default when you visit this page.\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Show skills beyond current level\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"Display skills that are typically achieved at higher age/developmental levels\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSkillsBeyondLevel(!showSkillsBeyondLevel),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${showSkillsBeyondLevel?'bg-blue-600':'bg-gray-200'}`,role:\"switch\",\"aria-checked\":showSkillsBeyondLevel,\"aria-label\":\"Toggle showing skills beyond current level\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${showSkillsBeyondLevel?'translate-x-6':'translate-x-1'}`})})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Weekly reminder to review milestones\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"Get notified weekly to review and update your child's milestone progress\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setWeeklyReminder(!weeklyReminder),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${weeklyReminder?'bg-blue-600':'bg-gray-200'}`,role:\"switch\",\"aria-checked\":weeklyReminder,\"aria-label\":\"Toggle weekly milestone reminders\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${weeklyReminder?'translate-x-6':'translate-x-1'}`})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-6 border-t\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettingsModal(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Cancel settings changes\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveSettings,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Save milestone settings\",children:\"Save\"})]})]})}),showReportModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"report-modal-title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-10 mx-auto p-6 border w-full max-w-md shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"report-modal-title\",className:\"text-lg font-semibold text-gray-900\",children:\"Milestone Report (last 30 days)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowReportModal(false);setReportReady(false);setIsGeneratingReport(false);},className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close report modal\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),!isGeneratingReport&&!reportReady&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Include domains\"}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"sr-only\",children:\"Domain selection options\"}),[{id:'motor',name:'Motor (Gross & Fine)',icon:'üèÉ'},{id:'communication',name:'Communication (Expressive & Receptive)',icon:'üí¨'},{id:'social-emotional',name:'Social-Emotional',icon:'üòä'},{id:'cognitive-play',name:'Cognitive/Play',icon:'üß©'},{id:'adaptive-self-help',name:'Adaptive/Self-Help',icon:'üëï'}].map(domain=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:reportOptions.domains.includes(domain.id),onChange:e=>{if(e.target.checked){setReportOptions(prev=>({...prev,domains:[...prev.domains,domain.id]}));}else{setReportOptions(prev=>({...prev,domains:prev.domains.filter(d=>d!==domain.id)}));}},className:\"mr-3 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",\"aria-hidden\":\"true\",children:domain.icon}),domain.name]})]},domain.id))]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Include Emerging skills\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"Show skills that your child is starting to demonstrate\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setReportOptions(prev=>({...prev,includeEmerging:!prev.includeEmerging})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${reportOptions.includeEmerging?'bg-blue-600':'bg-gray-200'}`,role:\"switch\",\"aria-checked\":reportOptions.includeEmerging,\"aria-label\":\"Toggle including emerging skills in report\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${reportOptions.includeEmerging?'translate-x-6':'translate-x-1'}`})})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Include Notes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"Include any additional notes you've added to milestone entries\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setReportOptions(prev=>({...prev,includeNotes:!prev.includeNotes})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${reportOptions.includeNotes?'bg-blue-600':'bg-gray-200'}`,role:\"switch\",\"aria-checked\":reportOptions.includeNotes,\"aria-label\":\"Toggle including notes in report\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${reportOptions.includeNotes?'translate-x-6':'translate-x-1'}`})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-6 border-t\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowReportModal(false);setReportReady(false);setIsGeneratingReport(false);},className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Cancel report generation\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerateReport,disabled:reportOptions.domains.length===0,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\",\"aria-label\":\"Generate milestone report PDF\",\"aria-describedby\":reportOptions.domains.length===0?\"domain-selection-error\":undefined,children:\"Generate PDF\"})]}),reportOptions.domains.length===0&&/*#__PURE__*/_jsx(\"div\",{id:\"domain-selection-error\",className:\"mt-2 text-sm text-red-600\",role:\"alert\",children:\"Please select at least one domain to include in the report.\"})]}),isGeneratingReport&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Generating Report\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Please wait while we compile your milestone data...\"})]}),reportReady&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-green-500 mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-16 w-16\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Download Ready\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-6\",children:\"Your milestone report has been generated successfully.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDownloadReport,className:\"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Download milestone report PDF\",children:\"Download PDF\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveToVisitPacket,className:\"w-full px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Save report to Visit Packet\",children:\"Save to Visit Packet\"})]})]})]})}),showAISuggestionsModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"ai-suggestions-title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-10 mx-auto p-6 border w-full max-w-md shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"ai-suggestions-title\",className:\"text-lg font-semibold text-gray-900\",children:\"AI Skill Suggestions\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAISuggestionsModal(false),className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close AI suggestions modal\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Based on your child's current skills and developmental level, here are some suggested next skills to work on:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gray-50 border border-gray-200 rounded-lg opacity-60\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-sm font-medium text-gray-700\",children:\"Fine motor precision\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Practice stacking 4-5 blocks with steady hands\"})]}),/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"px-3 py-1 text-xs font-medium text-gray-400 bg-gray-200 border border-gray-300 rounded cursor-not-allowed\",children:\"Accept\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gray-50 border border-gray-200 rounded-lg opacity-60\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-sm font-medium text-gray-700\",children:\"Bilateral coordination\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Use both hands together for activities like clapping\"})]}),/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"px-3 py-1 text-xs font-medium text-gray-400 bg-gray-200 border border-gray-300 rounded cursor-not-allowed\",children:\"Accept\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gray-50 border border-gray-200 rounded-lg opacity-60\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-sm font-medium text-gray-700\",children:\"Hand-eye coordination\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Practice throwing and catching a soft ball\"})]}),/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"px-3 py-2 text-xs font-medium text-gray-400 bg-gray-200 border border-gray-300 rounded cursor-not-allowed\",children:\"Accept\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-800 font-medium\",children:\"AI-powered suggestions coming soon!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-700 mt-1\",children:\"We're working on intelligent skill recommendations based on your child's unique development pattern.\"})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAISuggestionsModal(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close AI suggestions\",children:\"Close\"})})]})}),showDomainDetailModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"domain-detail-title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-10 mx-auto p-6 border w-full max-w-7xl shadow-lg rounded-md bg-white h-[90vh] overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6 border-b border-gray-200 pb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{id:\"domain-detail-title\",className:\"text-xl font-semibold text-gray-900\",children:((_domains$find=domains.find(d=>d.id===selectedDomainForDetail))===null||_domains$find===void 0?void 0:_domains$find.name)||'Domain'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"Track skills and explore care ideas.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"px-3 py-2 text-xs font-medium text-gray-400 bg-gray-50 border border-gray-200 rounded-md cursor-not-allowed opacity-60\",title:\"Coming soon\",\"aria-label\":\"Suggest next skills with AI (coming soon)\",children:\"Suggest next skills (AI)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowReportModal(true),className:\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Export domain report\",children:\"Export domain report\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddSkill,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Add skill to this domain\",children:\"Add Skill\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDomainDetailModal(false),className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close domain detail modal\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center px-4 py-2 bg-blue-50 border border-blue-200 rounded-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-6 h-6\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-6 h-6 transform -rotate-90\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",fill:\"none\",stroke:\"#e5e7eb\",strokeWidth:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",fill:\"none\",stroke:\"#3b82f6\",strokeWidth:\"2\",strokeDasharray:\"62.83\",strokeDashoffset:\"37.7\",strokeLinecap:\"round\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-blue-600\",children:\"3/5\"})})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-900\",children:\"Observed 3 of 5 suggested skills\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200 mb-6\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"flex space-x-8\",\"aria-label\":\"Domain detail tabs\",children:['Skills','Care Ideas','Progress'].map(tab=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveMobileTab(tab),className:`py-2 px-1 border-b-2 font-medium text-sm ${activeMobileTab===tab?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\"aria-label\":`View ${tab.toLowerCase()} tab`,children:tab},tab))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"h-[calc(90vh-200px)] overflow-y-auto\",children:[activeMobileTab==='Skills'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:\"Skills Checklist\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Coming in Phase 5B Step 4\"})]}),activeMobileTab==='Care Ideas'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:\"Care Ideas\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Coming in Phase 5B Step 5\"})]}),activeMobileTab==='Progress'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:\"Progress Timeline\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Coming in Phase 5B Step 6\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden lg:flex lg:space-x-8 h-[calc(90vh-200px)]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 bg-gray-50 rounded-lg p-6 overflow-y-auto\",role:\"region\",\"aria-label\":\"Skills Checklist\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Skills Checklist\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg border border-gray-200 p-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"skills-search\",className:\"sr-only\",children:\"Search skills\"}),/*#__PURE__*/_jsx(\"input\",{id:\"skills-search\",type:\"text\",placeholder:\"Search skills...\",value:skillsSearchQuery,onChange:e=>setSkillsSearchQuery(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\"aria-label\":\"Search skills by name or description\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"level-filter\",className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Level\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"level-filter\",value:skillsLevelFilter,onChange:e=>setSkillsLevelFilter(e.target.value),className:\"w-full text-sm border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"All levels\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Early\",children:\"Early (0-12m)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Toddler\",children:\"Toddler (12-36m)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Preschool\",children:\"Preschool (3-5y)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"School-age\",children:\"School-age (5+)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Subdomain\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1\",children:(_domainSubdomains=domainSubdomains[selectedDomainForDetail])===null||_domainSubdomains===void 0?void 0:_domainSubdomains.map(subdomain=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(skillsSubdomainFilter.includes(subdomain.toLowerCase())){setSkillsSubdomainFilter(prev=>prev.filter(s=>s!==subdomain.toLowerCase()));}else{setSkillsSubdomainFilter(prev=>[...prev,subdomain.toLowerCase()]);}},className:`px-2 py-1 text-xs rounded-full border ${skillsSubdomainFilter.includes(subdomain.toLowerCase())?'bg-blue-100 border-blue-300 text-blue-800':'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'}`,\"aria-label\":`Filter by ${subdomain} subdomain`,children:subdomain},subdomain))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"status-filter\",className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"status-filter\",value:skillsStatusFilter,onChange:e=>setSkillsStatusFilter(e.target.value),className:\"w-full text-sm border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"All statuses\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Observed\",children:\"Observed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Emerging\",children:\"Emerging\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Not yet\",children:\"Not yet\"}),/*#__PURE__*/_jsx(\"option\",{value:\"N/A\",children:\"N/A\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"sort-filter\",className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Sort\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"sort-filter\",value:skillsSortBy,onChange:e=>setSkillsSortBy(e.target.value),className:\"w-full text-sm border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Recommended\",children:\"Recommended\"}),/*#__PURE__*/_jsx(\"option\",{value:\"A-Z\",children:\"A-Z\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Recently updated\",children:\"Recently updated\"})]})]})]})]}),selectedSkills.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-blue-800\",children:[selectedSkills.length,\" skill\",selectedSkills.length!==1?'s':'',\" selected\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleBulkAction('mark-observed'),className:\"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 border border-blue-300 rounded hover:bg-blue-200\",children:\"Mark Observed\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleBulkAction('mark-emerging'),className:\"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 border border-blue-300 rounded hover:bg-blue-200\",children:\"Mark Emerging\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddSelectedToVisitPacket,className:\"px-3 py-1 text-xs font-medium text-green-700 bg-green-100 border border-green-300 rounded hover:bg-green-200\",children:\"Add selected to Visit Packet\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:(()=>{const{suggested,stretchNext,foundations}=getFilteredAndGroupedSkills();return/*#__PURE__*/_jsxs(_Fragment,{children:[suggested.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-sm font-medium text-gray-900 mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-green-500 rounded-full mr-2\"}),\"Suggested now (\",suggested.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:suggested.map(skill=>/*#__PURE__*/_jsx(SkillRow,{skill:skill,status:skillStatuses[skill.id]||'Not yet',lastObserved:lastObservedDates[skill.id],supports:sampleSupportsUsed[skill.id]||[],isSelected:selectedSkills.includes(skill.id),isFocused:focusedSkillId===skill.id,index:suggested.indexOf(skill),onSelectionChange:selected=>{if(selected){setSelectedSkills(prev=>[...prev,skill.id]);}else{setSelectedSkills(prev=>prev.filter(id=>id!==skill.id));}},onStatusChange:status=>handleSkillStatusChange(skill.id,status),onSupportsUpdate:supports=>handleSkillSupportsUpdate(skill.id,supports),onKeyDown:e=>handleKeyDown(e,skill.id,suggested.indexOf(skill)),onFocus:()=>handleSkillFocus(skill.id,suggested.indexOf(skill))},skill.id))})]}),stretchNext.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-sm font-medium text-gray-900 mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-blue-500 rounded-full mr-2\"}),\"Stretch next (\",stretchNext.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:stretchNext.map(skill=>/*#__PURE__*/_jsx(SkillRow,{skill:skill,status:skillStatuses[skill.id]||'Not yet',lastObserved:lastObservedDates[skill.id],supports:sampleSupportsUsed[skill.id]||[],isSelected:selectedSkills.includes(skill.id),isFocused:focusedSkillId===skill.id,index:stretchNext.indexOf(skill),onSelectionChange:selected=>{if(selected){setSelectedSkills(prev=>[...prev,skill.id]);}else{setSelectedSkills(prev=>prev.filter(id=>id!==skill.id));}},onStatusChange:status=>handleSkillStatusChange(skill.id,status),onSupportsUpdate:supports=>handleSkillSupportsUpdate(skill.id,supports),onKeyDown:e=>handleKeyDown(e,skill.id,stretchNext.indexOf(skill)),onFocus:()=>handleSkillFocus(skill.id,stretchNext.indexOf(skill))},skill.id))})]}),foundations.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-sm font-medium text-gray-900 mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-gray-500 rounded-full mr-2\"}),\"Foundations (\",foundations.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:foundations.map(skill=>/*#__PURE__*/_jsx(SkillRow,{skill:skill,status:skillStatuses[skill.id]||'Not yet',lastObserved:lastObservedDates[skill.id],supports:sampleSupportsUsed[skill.id]||[],isSelected:selectedSkills.includes(skill.id),isFocused:focusedSkillId===skill.id,index:foundations.indexOf(skill),onSelectionChange:selected=>{if(selected){setSelectedSkills(prev=>[...prev,skill.id]);}else{setSelectedSkills(prev=>prev.filter(id=>id!==skill.id));}},onStatusChange:status=>handleSkillStatusChange(skill.id,status),onSupportsUpdate:supports=>handleSkillSupportsUpdate(skill.id,supports),onKeyDown:e=>handleKeyDown(e,skill.id,foundations.indexOf(skill)),onFocus:()=>handleSkillFocus(skill.id,foundations.indexOf(skill))},skill.id))})]}),suggested.length===0&&stretchNext.length===0&&foundations.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"No skills match the current filters.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Try adjusting your search or filter criteria.\"})]})]});})()}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 pt-4 border-t border-gray-200\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCustomSkillForm(true),className:\"w-full px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Add custom skill\",children:\"+ Add custom skill\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-80 bg-white rounded-lg border border-gray-200 p-6 overflow-y-auto lg:sticky lg:top-6 lg:self-start\",role:\"region\",\"aria-label\":\"Care Ideas\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:[\"Care Ideas for \",(selectedDomainForDetail===null||selectedDomainForDetail===void 0?void 0:selectedDomainForDetail.charAt(0).toUpperCase())+(selectedDomainForDetail===null||selectedDomainForDetail===void 0?void 0:selectedDomainForDetail.slice(1))]}),/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"px-3 py-1 text-xs font-medium text-gray-400 bg-gray-100 border border-gray-200 rounded cursor-not-allowed\",title:\"Coming soon\",\"aria-label\":\"Generate care ideas using AI (coming soon)\",children:\"Generate care ideas (AI)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-2\",children:\"Environment\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1\",children:['home','school','therapy','community'].map(env=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(careIdeasEnvironment.includes(env)){setCareIdeasEnvironment(prev=>prev.filter(e=>e!==env));}else{setCareIdeasEnvironment(prev=>[...prev,env]);}},className:`px-2 py-1 text-xs rounded-full border ${careIdeasEnvironment.includes(env)?'bg-blue-100 border-blue-300 text-blue-800':'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'}`,\"aria-label\":`Filter by ${env} environment`,children:env.charAt(0).toUpperCase()+env.slice(1)},env))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-2\",children:\"Supports available\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1\",children:['Visuals','AAC','Adaptive utensils','Orthotics','Timer','Sensory breaks'].map(support=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(careIdeasSupports.includes(support.toLowerCase())){setCareIdeasSupports(prev=>prev.filter(s=>s!==support.toLowerCase()));}else{setCareIdeasSupports(prev=>[...prev,support.toLowerCase()]);}},className:`px-2 py-1 text-xs rounded-full border ${careIdeasSupports.includes(support.toLowerCase())?'bg-green-100 border-green-300 text-green-800':'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'}`,\"aria-label\":`Filter by ${support} support`,children:support},support))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-2\",children:\"Time available\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-1\",children:['5 min','10-15 min','20+ min'].map(time=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCareIdeasTimeAvailable(time),className:`px-3 py-1 text-xs rounded-md border ${careIdeasTimeAvailable===time?'bg-purple-100 border-purple-300 text-purple-800':'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'}`,\"aria-label\":`Select ${time} time available`,children:time},time))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:(()=>{const filteredIdeas=getFilteredCareIdeas();if(filteredIdeas.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mb-3\",children:\"Log or update skills to see tailored ideas.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// TODO: Navigate to skills section\nconsole.log('Navigate to skills');},className:\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100\",children:\"Go to Skills\"})]});}return filteredIdeas.map(idea=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-900\",children:idea.title}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-400 hover:text-gray-600\",\"aria-label\":\"Pin to shortcuts\",title:\"Pin to shortcuts\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-1 mb-3\",children:[idea.goalTags.map(tag=>/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",children:tag},tag)),/*#__PURE__*/_jsx(\"span\",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${idea.levelTag==='Suggested now'?'bg-green-100 text-green-800':idea.levelTag==='Stretch'?'bg-yellow-100 text-yellow-800':'bg-gray-100 text-gray-800'}`,children:idea.levelTag})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-gray-700\",children:\"Materials: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600\",children:idea.materials.join(', ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-gray-700\",children:\"Steps:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"mt-1 space-y-1\",children:idea.steps.map((step,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"text-xs text-gray-600 flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 mr-1\",children:\"\\u2022\"}),step]},index))})]}),idea.adaptations.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-gray-700\",children:\"Adaptations: \"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1 mt-1\",children:idea.adaptations.map(adaptation=>/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800\",children:adaptation},adaptation))})]}),idea.safetyNote&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 p-2 bg-red-50 border border-red-200 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-red-800\",children:\"Safety: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-red-700\",children:idea.safetyNote})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 pt-3 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"flex-1 px-2 py-1 text-xs font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded hover:bg-blue-100\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{className:\"flex-1 px-2 py-1 text-xs font-medium text-gray-600 bg-gray-50 border border-gray-200 rounded hover:bg-gray-100\",children:\"Print\"}),/*#__PURE__*/_jsx(\"button\",{className:\"flex-1 px-2 py-1 text-xs font-medium text-green-600 bg-green-50 border border-green-200 rounded hover:bg-green-100\",children:\"Share\"})]})]},idea.id));})()})]})]})]})}),showCustomSkillForm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"custom-skill-title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-10 mx-auto p-6 border w-full max-w-md shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"custom-skill-title\",className:\"text-lg font-semibold text-gray-900\",children:\"Add Custom Skill\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCustomSkillForm(false),className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close custom skill form\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"custom-skill-name\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Skill Name *\"}),/*#__PURE__*/_jsx(\"input\",{id:\"custom-skill-name\",type:\"text\",value:customSkillForm.name,onChange:e=>setCustomSkillForm(prev=>({...prev,name:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Enter skill name\",\"aria-describedby\":\"skill-name-help\"}),/*#__PURE__*/_jsx(\"p\",{id:\"skill-name-help\",className:\"mt-1 text-sm text-gray-500\",children:\"Describe the specific skill you want to track\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"custom-skill-subdomain\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Subdomain *\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"custom-skill-subdomain\",value:customSkillForm.subdomain,onChange:e=>setCustomSkillForm(prev=>({...prev,subdomain:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select subdomain\"}),(_domainSubdomains2=domainSubdomains[selectedDomainForDetail])===null||_domainSubdomains2===void 0?void 0:_domainSubdomains2.map(subdomain=>/*#__PURE__*/_jsx(\"option\",{value:subdomain.toLowerCase(),children:subdomain},subdomain))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"custom-skill-level\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Level Band\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"custom-skill-level\",value:customSkillForm.levelBand,onChange:e=>setCustomSkillForm(prev=>({...prev,levelBand:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Early\",children:\"Early (0-12m)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Toddler\",children:\"Toddler (12-36m)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Preschool\",children:\"Preschool (3-5y)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"School-age\",children:\"School-age (5+)\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-6 border-t\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCustomSkillForm(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Cancel adding custom skill\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddCustomSkill,disabled:!customSkillForm.name||!customSkillForm.subdomain,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\",\"aria-label\":\"Save custom skill\",children:\"Save\"})]})]})}),showSkillHistory&&selectedSkillForHistory&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-6 border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:selectedSkillForHistory.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 capitalize\",children:[selectedSkillForHistory.subdomain,\" \\u2022 \",selectedSkillForHistory.ageBand]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSkillHistory(false),className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close skill history\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 mb-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleEditLastEntry,className:\"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Edit last entry\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddNoteForm(true),className:\"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-50 border border-gray-200 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\",children:\"Add note\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-900 mb-4\",children:\"Status Changes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[(_skillHistoryData$sel=skillHistoryData[selectedSkillForHistory.id])===null||_skillHistoryData$sel===void 0?void 0:(_skillHistoryData$sel2=_skillHistoryData$sel.statusChanges)===null||_skillHistoryData$sel2===void 0?void 0:_skillHistoryData$sel2.map((change,index)=>{var _skillHistoryData$sel3,_skillHistoryData$sel4;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative pl-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-0 top-2 w-3 h-3 bg-blue-500 rounded-full\"}),index<(((_skillHistoryData$sel3=skillHistoryData[selectedSkillForHistory.id])===null||_skillHistoryData$sel3===void 0?void 0:(_skillHistoryData$sel4=_skillHistoryData$sel3.statusChanges)===null||_skillHistoryData$sel4===void 0?void 0:_skillHistoryData$sel4.length)||0)-1&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-1.5 top-5 w-0.5 h-8 bg-gray-200\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900\",children:change.status}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:new Date(change.date).toLocaleDateString()})]}),change.supports.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600\",children:\"Supports: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-800\",children:change.supports.join(', ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"Updated by \",change.author]})]})]},index);}),(!((_skillHistoryData$sel5=skillHistoryData[selectedSkillForHistory.id])!==null&&_skillHistoryData$sel5!==void 0&&_skillHistoryData$sel5.statusChanges)||skillHistoryData[selectedSkillForHistory.id].statusChanges.length===0)&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4 text-gray-500\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"No status changes recorded yet.\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-900 mb-4\",children:\"Notes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[(_skillHistoryData$sel6=skillHistoryData[selectedSkillForHistory.id])===null||_skillHistoryData$sel6===void 0?void 0:(_skillHistoryData$sel7=_skillHistoryData$sel6.notes)===null||_skillHistoryData$sel7===void 0?void 0:_skillHistoryData$sel7.map((note,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-yellow-800\",children:note.author}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-yellow-600\",children:new Date(note.timestamp).toLocaleString()})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-900\",children:note.text})]},index)),(!((_skillHistoryData$sel8=skillHistoryData[selectedSkillForHistory.id])!==null&&_skillHistoryData$sel8!==void 0&&_skillHistoryData$sel8.notes)||skillHistoryData[selectedSkillForHistory.id].notes.length===0)&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4 text-gray-500\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"No notes yet.\"})})]})]})]})]})}),showAddNoteForm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 z-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 max-w-md w-full mx-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Add Note\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddNoteForm(false),className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close add note form\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"note-text\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Note *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"note-text\",value:newNoteText,onChange:e=>setNewNoteText(e.target.value),rows:4,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Enter your note about this skill...\",\"aria-describedby\":\"note-help\"}),/*#__PURE__*/_jsx(\"p\",{id:\"note-help\",className:\"mt-1 text-sm text-gray-500\",children:\"Add observations, progress notes, or reminders about this skill.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddNoteForm(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddNote,disabled:!newNoteText.trim(),className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Add Note\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden lg:block mt-8 bg-white rounded-lg border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:\"Progress Timeline\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Time scope:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1\",children:['30 days','90 days','Custom'].map(scope=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setProgressTimeScope(scope),className:`px-3 py-1 text-xs rounded-md border ${progressTimeScope===scope?'bg-blue-100 border-blue-300 text-blue-800':'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'}`,children:scope},scope))}),progressTimeScope==='Custom'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:progressCustomStartDate,onChange:e=>setProgressCustomStartDate(e.target.value),className:\"text-xs border border-gray-300 rounded px-2 py-1\",placeholder:\"Start date\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:\"to\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:progressCustomEndDate,onChange:e=>setProgressCustomEndDate(e.target.value),className:\"text-xs border border-gray-300 rounded px-2 py-1\",placeholder:\"End date\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"View:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1\",children:['By date','By subdomain'].map(view=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setProgressView(view),className:`px-3 py-1 text-xs rounded-md border ${progressView===view?'bg-green-100 border-green-300 text-green-800':'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'}`,children:view},view))})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:(()=>{const progressData=getProgressDataForDomain();if(!progressData){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"No progress data available for this domain.\"})});}if(progressView==='By date'){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-900 mb-4\",children:\"Timeline View\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:progressData.timeline.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative pl-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:`absolute left-4 top-2 w-4 h-4 rounded-full border-2 ${item.status==='Observed'?'bg-green-500 border-green-600':'bg-yellow-500 border-yellow-600'}`}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900\",children:item.skill}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:new Date(item.date).toLocaleDateString()})]}),/*#__PURE__*/_jsx(\"span\",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${item.status==='Observed'?'bg-green-100 text-green-800':'bg-yellow-100 text-yellow-800'}`,children:item.status})]})]},index))})]})]});}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-900 mb-4\",children:\"Subdomain View\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-6\",children:Object.entries(progressData.subdomains).map(_ref2=>{let[subdomain,counts]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700 capitalize\",children:subdomain}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[counts.observed+counts.emerging,\" skills\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 w-16\",children:\"Observed:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500 h-3 rounded-full transition-all duration-300\",style:{width:`${counts.observed/Math.max(counts.observed+counts.emerging,1)*100}%`}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-700 w-8\",children:counts.observed})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 w-16\",children:\"Emerging:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-500 h-3 rounded-full transition-all duration-300\",style:{width:`${counts.emerging/Math.max(counts.observed+counts.emerging,1)*100}%`}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-700 w-8\",children:counts.emerging})]})]})]},subdomain);})})]});}})()}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-900 mb-4\",children:\"New skills added\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-3\",children:(()=>{const progressData=getProgressDataForDomain();if(!progressData||progressData.timeline.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"col-span-2 text-center py-4 text-gray-500\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"No new skills in the selected time period.\"})});}return progressData.timeline.filter(item=>item.status==='Observed').map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:item.skill}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:new Date(item.date).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// TODO: Navigate to skill history\nconsole.log('Navigate to skill history for:',item.skill);},className:\"text-xs text-blue-600 hover:text-blue-700 underline\",children:\"View history\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(visitPacketItems.has(item.skill)){handleRemoveFromVisitPacket(item.skill,'Progress item');}else{handleAddToVisitPacket(item.skill,'Progress item');}},className:`text-xs px-2 py-1 rounded ${visitPacketItems.has(item.skill)?'text-red-600 bg-red-50 border border-red-200':'text-green-600 bg-green-50 border border-green-200'}`,children:visitPacketItems.has(item.skill)?'Remove':'Add to Visit Packet'})]})]},index));})()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleExportDomainProgress,className:\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Export domain progress (PDF)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddToVisitPacket('domain-progress','Domain progress'),className:\"px-4 py-2 text-sm font-medium text-green-600 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\",children:\"Add to Visit Packet\"})]})]}),showExportReportModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"export-report-title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-10 mx-auto p-6 border w-full max-w-2xl shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"export-report-title\",className:\"text-lg font-semibold text-gray-900\",children:\"Export Domain Report\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowExportReportModal(false);setExportReportStatus('options');},className:\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\"aria-label\":\"Close export report modal\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),exportReportStatus==='options'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Date Range\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"export-start-date\",className:\"block text-xs font-medium text-gray-600 mb-1\",children:\"Start Date\"}),/*#__PURE__*/_jsx(\"input\",{id:\"export-start-date\",type:\"date\",value:exportReportOptions.dateRange.start,onChange:e=>setExportReportOptions(prev=>({...prev,dateRange:{...prev.dateRange,start:e.target.value}})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"export-end-date\",className:\"block text-xs font-medium text-gray-600 mb-1\",children:\"End Date\"}),/*#__PURE__*/_jsx(\"input\",{id:\"export-end-date\",type:\"date\",value:exportReportOptions.dateRange.end,onChange:e=>setExportReportOptions(prev=>({...prev,dateRange:{...prev.dateRange,end:e.target.value}})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Include\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:[{key:'observed',label:'Observed skills',description:'Skills marked as observed in the selected time range'},{key:'emerging',label:'Emerging skills',description:'Skills marked as emerging in the selected time range'},{key:'notes',label:'Notes and observations',description:'All notes and observations for skills in the selected time range'}].map(option=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:exportReportOptions.include[option.key],onChange:e=>setExportReportOptions(prev=>({...prev,include:{...prev.include,[option.key]:e.target.checked}})),className:\"mt-1 mr-3 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900\",children:option.label}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:option.description})]})]},option.key))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Report Sections\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:[{key:'skillsList',label:'Skills List',description:'Complete list of skills with current status and progress'},{key:'careIdeasSnapshot',label:'Care Ideas Snapshot',description:'Current care ideas and activity suggestions'},{key:'timelineChart',label:'Timeline Chart',description:'Visual timeline of skill development progress'}].map(section=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:exportReportOptions.sections[section.key],onChange:e=>setExportReportOptions(prev=>({...prev,sections:{...prev.sections,[section.key]:e.target.checked}})),className:\"mt-1 mr-3 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900\",children:section.label}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:section.description})]})]},section.key))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4 border-t\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowExportReportModal(false);setExportReportStatus('options');},className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportDomainReport,disabled:!exportReportOptions.dateRange.start||!exportReportOptions.dateRange.end,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Generate PDF\"})]})]}),exportReportStatus==='generating'&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Generating Report\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Creating your domain report with the selected options...\"})]}),exportReportStatus==='ready'&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto mb-4 w-16 h-16 bg-green-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-green-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 13l4 4L19 7\"})})}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Report Ready!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-6\",children:\"Your domain report has been generated successfully.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-center space-y-3 sm:space-y-0 sm:space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDownloadReport,className:\"px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Download Report\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveToVisitPacket,className:\"px-6 py-2 text-sm font-medium text-green-600 bg-green-50 border border-green-200 rounded-md hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\",children:\"Save to Visit Packet\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowExportReportModal(false);setExportReportStatus('options');},className:\"mt-4 text-sm text-gray-500 hover:text-gray-700 underline\",children:\"Close\"})]})]})}),showPracticePlanDrawer&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-6 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Practice Plan\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPracticePlanDrawer(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto\",children:practicePlanItems.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-16 w-16\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:1,d:\"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Practice Plan\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-6\",children:\"Add ideas from the library to build your practice plan.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"p-6 space-y-4\",children:practicePlanItems.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4 border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-900 mb-1\",children:item.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 text-xs text-gray-600 mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-3 h-3 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"})]}),item.environment]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),item.time]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full\",children:item.domain})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveFromPlan(item.id),className:\"text-gray-400 hover:text-red-600 p-1\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Notes (optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:item.notes,onChange:e=>handleUpdatePlanItemNotes(item.id,e.target.value),placeholder:\"Add notes for this activity...\",maxLength:100,className:\"w-full px-3 py-2 text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none\",rows:2}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 text-right mt-1\",children:[item.notes.length,\"/100\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-1 bg-gray-300 rounded-full cursor-move\"})})]},item.id))})}),practicePlanItems.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 p-6 space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrintPlan,className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Print plan\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSharePlan,className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Share with school/therapist\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSavePlan,className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Save as weekly plan\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClearPlan,className:\"px-4 py-2 text-sm font-medium text-red-700 bg-red-50 border border-red-200 rounded-md hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\",children:\"Clear plan\"})]})]})]})}),showSavePlanModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-6 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Save Weekly Plan\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Plan Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"e.g., Week 12\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",id:\"plan-name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSavePlanModal(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{var _document$getElementB;const planName=(_document$getElementB=document.getElementById('plan-name'))===null||_document$getElementB===void 0?void 0:_document$getElementB.value;if(planName){setSavedPlans(prev=>[...prev,{name:planName,items:practicePlanItems}]);setShowSavePlanModal(false);// TODO: Show toast message\n}},className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Save\"})]})]})})}),showToast&&/*#__PURE__*/_jsx(\"div\",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg border ${toastType==='success'?'bg-green-50 border-green-200 text-green-800':toastType==='info'?'bg-blue-50 border-blue-200 text-blue-800':'bg-red-50 border-red-200 text-red-800'}`,role:\"alert\",\"aria-live\":\"polite\",\"aria-atomic\":\"true\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[toastType==='success'&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-green-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 13l4 4L19 7\"})}),toastType==='info'&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),toastType==='error'&&/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-red-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:toastMessage})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-40\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// TODO: Save all changes\nshowToastMessage('Changes saved successfully');},className:\"flex-1 px-4 py-3 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// TODO: Reset changes\nshowToastMessage('Changes reset');},className:\"px-4 py-3 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\",children:\"Reset\"})]})})]});};export default GrowthDevelopmentScreen;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GrowthDevelopmentScreen","_domains$find","_domainSubdomains","_domainSubdomains2","_skillHistoryData$sel","_skillHistoryData$sel2","_skillHistoryData$sel5","_skillHistoryData$sel6","_skillHistoryData$sel7","_skillHistoryData$sel8","showReportModal","setShowReportModal","showSettingsModal","setShowSettingsModal","showAISuggestionsModal","setShowAISuggestionsModal","showDomainDetailModal","setShowDomainDetailModal","selectedDomainForDetail","setSelectedDomainForDetail","activeMobileTab","setActiveMobileTab","activeGrowthTab","setActiveGrowthTab","overviewDateRange","setOverviewDateRange","savedIdeas","setSavedIdeas","showPracticePlanDrawer","setShowPracticePlanDrawer","practicePlanItems","setPracticePlanItems","showSavePlanModal","setShowSavePlanModal","savedPlans","setSavedPlans","defaultView","setDefaultView","showSkillsBeyondLevel","setShowSkillsBeyondLevel","weeklyReminder","setWeeklyReminder","reportOptions","setReportOptions","domains","includeEmerging","includeNotes","isGeneratingReport","setIsGeneratingReport","reportReady","setReportReady","useDevelopmentalLevel","setUseDevelopmentalLevel","chronologicalAge","setChronologicalAge","developmentalLevel","setDevelopmentalLevel","timeScope","setTimeScope","showAddSkillSheet","setShowAddSkillSheet","currentStep","setCurrentStep","selectedDomain","setSelectedDomain","selectedSkill","setSelectedSkill","skillStatus","setSkillStatus","dateObserved","setDateObserved","Date","toISOString","split","supportsUsed","setSupportsUsed","context","setContext","notes","setNotes","showAllSkills","setShowAllSkills","searchQuery","setSearchQuery","skillsSearchQuery","setSkillsSearchQuery","skillsLevelFilter","setSkillsLevelFilter","skillsSubdomainFilter","setSkillsSubdomainFilter","skillsStatusFilter","setSkillsStatusFilter","skillsSortBy","setSkillsSortBy","selectedSkills","setSelectedSkills","showCustomSkillForm","setShowCustomSkillForm","customSkillForm","setCustomSkillForm","name","subdomain","levelBand","showSkillHistory","setShowSkillHistory","selectedSkillForHistory","setSelectedSkillForHistory","showAddNoteForm","setShowAddNoteForm","newNoteText","setNewNoteText","id","subtitle","icon","observed","suggested","lastSkill","lastDate","allSkills","domain","ageBand","description","domainSubdomains","milestoneEntries","domainIcon","skillName","status","date","skillStatuses","lastObservedDates","sampleSupportsUsed","supportsOptions","skillHistoryData","statusChanges","supports","author","timestamp","text","showMilestoneDetail","setShowMilestoneDetail","isLoading","setIsLoading","hasMilestones","setHasMilestones","getStatusBadgeColor","getContextLabel","handleViewMilestone","milestoneId","handleViewAllMilestones","console","log","DomainTileSkeleton","className","children","JournalEntrySkeleton","contextOptions","getAgeBandFromChronological","age","includes","months","parseInt","years","isSkillAgeAppropriate","skillAgeBand","selectedAgeBand","ageBands","skillIndex","indexOf","selectedIndex","Math","abs","handleOpenDomain","domainId","handleAddSkill","handleNextStep","handlePrevStep","handleSave","handleSaveAndAddAnother","handleSaveSettings","currentAgeBand","filteredSkills","filter","skill","toLowerCase","ageAppropriateSkills","suggestedSkills","slice","displayedSkills","handleGenerateReport","setTimeout","handleDownloadReport","handleSaveIdea","ideaId","prev","handleAddToPracticePlan","idea","sampleIdeas","find","i","newItem","now","title","environment","time","timeNeeded","handleRemoveFromPlan","itemId","item","handleUpdatePlanItemNotes","map","handlePrintPlan","handleSharePlan","handleSavePlan","handleClearPlan","levelTag","materials","steps","adaptations","handleSkillStatusChange","skillId","handleSkillSupportsUpdate","handleBulkAction","action","length","handleAddCustomSkill","getFilteredAndGroupedSkills","filtered","sort","a","b","localeCompare","currentLevel","currentIndex","stretchNext","foundations","focusedSkillIndex","setFocusedSkillIndex","focusedSkillId","setFocusedSkillId","handleKeyDown","event","index","key","preventDefault","nextIndex","min","prevIndex","max","currentStatus","statusOptions","nextStatus","supportsButton","document","querySelector","click","handleSkillFocus","SkillRow","_ref","lastObserved","isSelected","isFocused","onSelectionChange","onStatusChange","onSupportsUpdate","onKeyDown","onFocus","showSupportsPopover","setShowSupportsPopover","showOverflowMenu","setShowOverflowMenu","showDatePicker","setShowDatePicker","selectedDate","setSelectedDate","handleStatusChange","newStatus","handleDateSave","tabIndex","role","type","checked","onChange","e","target","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","statusOption","value","toLocaleDateString","onClick","option","s","handleViewSkillHistory","visitPacketItems","has","handleRemoveFromVisitPacket","handleAddToVisitPacket","handleAddNote","trim","handleEditLastEntry","careIdeasEnvironment","setCareIdeasEnvironment","careIdeasSupports","setCareIdeasSupports","careIdeasTimeAvailable","setCareIdeasTimeAvailable","careIdeasData","goalTags","safetyNote","timeRequired","getTotalObservedSkills","getTotalEmergingSkills","getNewSkillsThisPeriod","getPracticeStreak","getFilteredCareIdeas","ideas","some","env","support","notYetOrEmergingCount","shouldShowFoundations","priority","progressTimeScope","setProgressTimeScope","progressView","setProgressView","progressCustomStartDate","setProgressCustomStartDate","progressCustomEndDate","setProgressCustomEndDate","progressData","timeline","subdomains","emerging","getProgressDataForDomain","data","filteredTimeline","endDate","startDate","setDate","getDate","customEnd","itemDate","handleExportDomainProgress","itemType","arguments","undefined","setVisitPacketItems","Set","Array","from","concat","showToastMessage","newSet","delete","handleAddSelectedToVisitPacket","showExportReportModal","setShowExportReportModal","exportReportOptions","setExportReportOptions","dateRange","start","end","include","sections","skillsList","careIdeasSnapshot","timelineChart","exportReportStatus","setExportReportStatus","showToast","setShowToast","toastMessage","setToastMessage","toastType","setToastType","handleExportDomainReport","handleSaveToVisitPacket","message","progressPercentage","circumference","PI","strokeDasharray","strokeDashoffset","cx","cy","r","_","entry","disabled","style","gridTemplateColumns","count","floor","random","intensity","height","observedPercent","emergingPercent","width","defaultValue","placeholder","step","adaptation","defaultChecked","htmlFor","replace","ctx","c","rows","tab","selected","charAt","toUpperCase","filteredIdeas","tag","join","change","_skillHistoryData$sel3","_skillHistoryData$sel4","note","toLocaleString","scope","view","Object","entries","_ref2","counts","label","section","maxLength","_document$getElementB","planName","getElementById","items"],"sources":["C:/Users/girip/OneDrive/Desktop/PTS-Consulting/CareGene/src/components/GrowthDevelopmentScreen.tsx"],"sourcesContent":["import React, { useState } from 'react';\n\nconst GrowthDevelopmentScreen: React.FC = () => {\n  const [showReportModal, setShowReportModal] = useState(false);\n  const [showSettingsModal, setShowSettingsModal] = useState(false);\n  const [showAISuggestionsModal, setShowAISuggestionsModal] = useState(false);\n  const [showDomainDetailModal, setShowDomainDetailModal] = useState(false);\n  const [selectedDomainForDetail, setSelectedDomainForDetail] = useState('');\n  const [activeMobileTab, setActiveMobileTab] = useState('Skills');\n  \n  // Growth sub-navigation state\n  const [activeGrowthTab, setActiveGrowthTab] = useState<'domains' | 'overview' | 'reports' | 'ideas'>('domains');\n  \n  // Overview tab state\n  const [overviewDateRange, setOverviewDateRange] = useState('30 days');\n  \n  // Ideas Library state\n  const [savedIdeas, setSavedIdeas] = useState<string[]>([]);\n  const [showPracticePlanDrawer, setShowPracticePlanDrawer] = useState(false);\n  const [practicePlanItems, setPracticePlanItems] = useState<Array<{\n    id: string;\n    ideaId: string;\n    title: string;\n    environment: string;\n    time: string;\n    domain: string;\n    notes: string;\n  }>>([]);\n  const [showSavePlanModal, setShowSavePlanModal] = useState(false);\n  const [savedPlans, setSavedPlans] = useState<Array<{name: string, items: any[]}>>([]);\n  \n  // Settings state\n  const [defaultView, setDefaultView] = useState<'age-based' | 'developmental'>('age-based');\n  const [showSkillsBeyondLevel, setShowSkillsBeyondLevel] = useState(true);\n  const [weeklyReminder, setWeeklyReminder] = useState(false);\n\n  // Report generation state\n  const [reportOptions, setReportOptions] = useState({\n    domains: ['motor', 'communication', 'social-emotional', 'cognitive-play', 'adaptive-self-help'],\n    includeEmerging: true,\n    includeNotes: true\n  });\n  const [isGeneratingReport, setIsGeneratingReport] = useState(false);\n  const [reportReady, setReportReady] = useState(false);\n\n  const [useDevelopmentalLevel, setUseDevelopmentalLevel] = useState(false);\n  const [chronologicalAge, setChronologicalAge] = useState('6 months');\n  const [developmentalLevel, setDevelopmentalLevel] = useState('Early');\n  const [timeScope, setTimeScope] = useState('30 days');\n  \n  // Add Skill Quick Sheet states\n  const [showAddSkillSheet, setShowAddSkillSheet] = useState(false);\n  const [currentStep, setCurrentStep] = useState(1);\n  const [selectedDomain, setSelectedDomain] = useState('');\n  const [selectedSkill, setSelectedSkill] = useState('');\n  const [skillStatus, setSkillStatus] = useState('Observed');\n  const [dateObserved, setDateObserved] = useState(new Date().toISOString().split('T')[0]);\n  const [supportsUsed, setSupportsUsed] = useState<string[]>([]);\n  const [context, setContext] = useState<string[]>([]);\n  const [notes, setNotes] = useState('');\n  const [showAllSkills, setShowAllSkills] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  // Skills Checklist state\n  const [skillsSearchQuery, setSkillsSearchQuery] = useState('');\n  const [skillsLevelFilter, setSkillsLevelFilter] = useState('All');\n  const [skillsSubdomainFilter, setSkillsSubdomainFilter] = useState<string[]>([]);\n  const [skillsStatusFilter, setSkillsStatusFilter] = useState('All');\n  const [skillsSortBy, setSkillsSortBy] = useState('Recommended');\n  const [selectedSkills, setSelectedSkills] = useState<string[]>([]);\n  const [showCustomSkillForm, setShowCustomSkillForm] = useState(false);\n  const [customSkillForm, setCustomSkillForm] = useState({\n    name: '',\n    subdomain: '',\n    levelBand: 'Early'\n  });\n\n  // Skill History drawer state\n  const [showSkillHistory, setShowSkillHistory] = useState(false);\n  const [selectedSkillForHistory, setSelectedSkillForHistory] = useState<any>(null);\n  const [showAddNoteForm, setShowAddNoteForm] = useState(false);\n  const [newNoteText, setNewNoteText] = useState('');\n\n  // Sample domain data\n  const domains = [\n    {\n      id: 'motor',\n      name: 'Motor',\n      subtitle: 'Gross & Fine',\n      icon: 'üèÉ‚Äç‚ôÄÔ∏è',\n      observed: 8,\n      suggested: 12,\n      lastSkill: 'Rolls both ways',\n      lastDate: '2024-03-15'\n    },\n    {\n      id: 'communication',\n      name: 'Communication',\n      subtitle: 'Expressive & Receptive',\n      icon: 'üí¨',\n      observed: 5,\n      suggested: 10,\n      lastSkill: 'Uses 3 words',\n      lastDate: '2024-03-12'\n    },\n    {\n      id: 'social-emotional',\n      name: 'Social-Emotional',\n      subtitle: '',\n      icon: 'üòä',\n      observed: 6,\n      suggested: 8,\n      lastSkill: 'Social smile',\n      lastDate: '2024-03-10'\n    },\n    {\n      id: 'cognitive-play',\n      name: 'Cognitive/Play',\n      subtitle: '',\n      icon: 'üß©',\n      observed: 4,\n      suggested: 9,\n      lastSkill: 'Bangs objects together',\n      lastDate: '2024-03-08'\n    },\n    {\n      id: 'adaptive-self-help',\n      name: 'Adaptive/Self-Help',\n      subtitle: 'feeding, dressing, toileting',\n      icon: 'üëï',\n      observed: 3,\n      suggested: 7,\n      lastSkill: 'Finger feeds',\n      lastDate: '2024-03-05'\n    }\n  ];\n\n  // Sample skills data with proper age band mapping\n  const allSkills = [\n    // Motor skills\n    { id: 'm1', domain: 'motor', subdomain: 'gross', name: 'Rolls both ways', ageBand: 'Early', description: 'Rolls from back to stomach and stomach to back' },\n    { id: 'm2', domain: 'motor', subdomain: 'gross', name: 'Sits briefly without support', ageBand: 'Early', description: 'Maintains sitting position for a few seconds' },\n    { id: 'm3', domain: 'motor', subdomain: 'gross', name: 'Pulls to stand', ageBand: 'Toddler', description: 'Pulls self up to standing position using furniture' },\n    { id: 'm4', domain: 'motor', subdomain: 'gross', name: 'Cruises along furniture', ageBand: 'Toddler', description: 'Walks sideways while holding onto furniture' },\n    { id: 'm5', domain: 'motor', subdomain: 'gross', name: 'Walks with support', ageBand: 'Toddler', description: 'Takes steps while holding hands or walker' },\n    { id: 'm6', domain: 'motor', subdomain: 'fine', name: 'Pincer grasp', ageBand: 'Early', description: 'Picks up small objects using thumb and index finger' },\n    { id: 'm7', domain: 'motor', subdomain: 'fine', name: 'Stacks 2 blocks', ageBand: 'Toddler', description: 'Places one block on top of another' },\n    { id: 'm8', domain: 'motor', subdomain: 'gross', name: 'Throws ball forward', ageBand: 'Toddler', description: 'Throws ball in forward direction' },\n    { id: 'm9', domain: 'motor', subdomain: 'gross', name: 'Runs with coordination', ageBand: 'Preschool', description: 'Runs with improved balance and coordination' },\n    { id: 'm10', domain: 'motor', subdomain: 'gross', name: 'Hops on one foot', ageBand: 'Preschool', description: 'Hops briefly on one foot' },\n    { id: 'm11', domain: 'motor', subdomain: 'gross', name: 'Catches large ball', ageBand: 'Preschool', description: 'Catches ball with arms extended' },\n    { id: 'm12', domain: 'motor', subdomain: 'fine', name: 'Uses scissors', ageBand: 'Preschool', description: 'Cuts paper with child-safe scissors' },\n    \n    // Communication skills\n    { id: 'c1', domain: 'communication', subdomain: 'expressive', name: 'Babbles with consonants', ageBand: 'Early', description: 'Makes consonant sounds like ba, da, ma' },\n    { id: 'c2', domain: 'communication', subdomain: 'receptive', name: 'Points to request', ageBand: 'Toddler', description: 'Points to objects to indicate wants' },\n    { id: 'c3', domain: 'communication', subdomain: 'expressive', name: 'Uses 5-10 words', ageBand: 'Toddler', description: 'Says 5-10 recognizable words' },\n    { id: 'c4', domain: 'communication', subdomain: 'receptive', name: 'Follows 1-step directions', ageBand: 'Toddler', description: 'Understands and follows simple commands' },\n    { id: 'c5', domain: 'communication', subdomain: 'expressive', name: 'Names common objects', ageBand: 'Preschool', description: 'Identifies familiar objects by name' },\n    { id: 'c6', domain: 'communication', subdomain: 'expressive', name: 'Combines 2 words', ageBand: 'Preschool', description: 'Uses two-word phrases' },\n    { id: 'c7', domain: 'communication', subdomain: 'expressive', name: 'Asks questions', ageBand: 'Preschool', description: 'Asks what, where, why questions' },\n    { id: 'c8', domain: 'communication', subdomain: 'expressive', name: 'Tells simple stories', ageBand: 'School-age', description: 'Recounts events in sequence' },\n    { id: 'c9', domain: 'communication', subdomain: 'expressive', name: 'Uses past tense', ageBand: 'School-age', description: 'Correctly uses past tense verbs' },\n    { id: 'c10', domain: 'communication', subdomain: 'receptive', name: 'Follows 3-step directions', ageBand: 'School-age', description: 'Understands and follows multi-step commands' },\n    \n    // Social-Emotional skills\n    { id: 's1', domain: 'social-emotional', subdomain: 'interaction', name: 'Social smile', ageBand: 'Early', description: 'Smiles in response to social interaction' },\n    { id: 's2', domain: 'social-emotional', subdomain: 'interaction', name: 'Joint attention', ageBand: 'Early', description: 'Looks where you point' },\n    { id: 's3', domain: 'social-emotional', subdomain: 'interaction', name: 'Waves bye', ageBand: 'Toddler', description: 'Waves goodbye' },\n    { id: 's4', domain: 'social-emotional', subdomain: 'interaction', name: 'Brings item to show', ageBand: 'Toddler', description: 'Shows objects to others' },\n    { id: 's5', domain: 'social-emotional', subdomain: 'interaction', name: 'Parallel play', ageBand: 'Preschool', description: 'Plays alongside other children' },\n    { id: 's6', domain: 'social-emotional', subdomain: 'interaction', name: 'Takes turns briefly', ageBand: 'Preschool', description: 'Participates in simple turn-taking' },\n    { id: 's7', domain: 'social-emotional', subdomain: 'regulation', name: 'Shows empathy', ageBand: 'Preschool', description: 'Comforts others when upset' },\n    { id: 's8', domain: 'social-emotional', subdomain: 'interaction', name: 'Shares toys', ageBand: 'Preschool', description: 'Willingly shares toys with peers' },\n    { id: 's9', domain: 'social-emotional', subdomain: 'regulation', name: 'Manages emotions', ageBand: 'School-age', description: 'Uses strategies to calm down' },\n    { id: 's10', domain: 'social-emotional', subdomain: 'interaction', name: 'Makes friends', ageBand: 'School-age', description: 'Initiates and maintains friendships' },\n    \n    // Cognitive/Play skills\n    { id: 'cp1', domain: 'cognitive-play', subdomain: 'early-play', name: 'Bangs two objects', ageBand: 'Early', description: 'Hits two objects together' },\n    { id: 'cp2', domain: 'cognitive-play', subdomain: 'problem-solving', name: 'Puts objects in/out', ageBand: 'Toddler', description: 'Places objects in containers and removes them' },\n    { id: 'cp3', domain: 'cognitive-play', subdomain: 'problem-solving', name: 'Cause-and-effect toy play', ageBand: 'Toddler', description: 'Understands simple cause and effect' },\n    { id: 'cp4', domain: 'cognitive-play', subdomain: 'problem-solving', name: 'Matches shapes', ageBand: 'Preschool', description: 'Identifies and matches similar shapes' },\n    { id: 'cp5', domain: 'cognitive-play', subdomain: 'problem-solving', name: 'Completes 3-piece puzzle', ageBand: 'Preschool', description: 'Assembles simple puzzles' },\n    { id: 'cp6', domain: 'cognitive-play', subdomain: 'pretend', name: 'Pretend feeds doll', ageBand: 'Preschool', description: 'Engages in pretend play' },\n    { id: 'cp7', domain: 'cognitive-play', subdomain: 'problem-solving', name: 'Counts to 10', ageBand: 'Preschool', description: 'Recites numbers 1-10' },\n    { id: 'cp8', domain: 'cognitive-play', subdomain: 'problem-solving', name: 'Recognizes colors', ageBand: 'Preschool', description: 'Names basic colors' },\n    { id: 'cp9', domain: 'cognitive-play', subdomain: 'problem-solving', name: 'Understands time concepts', ageBand: 'School-age', description: 'Grasps yesterday, today, tomorrow' },\n    { id: 'cp10', domain: 'cognitive-play', subdomain: 'problem-solving', name: 'Solves simple problems', ageBand: 'School-age', description: 'Finds solutions to everyday challenges' },\n    \n    // Adaptive/Self-Help skills\n    { id: 'a1', domain: 'adaptive-self-help', subdomain: 'feeding', name: 'Finger feeds', ageBand: 'Early', description: 'Picks up food with fingers and eats' },\n    { id: 'a2', domain: 'adaptive-self-help', subdomain: 'feeding', name: 'Drinks from open cup with help', ageBand: 'Toddler', description: 'Uses open cup with assistance' },\n    { id: 'a3', domain: 'adaptive-self-help', subdomain: 'feeding', name: 'Uses spoon with some spills', ageBand: 'Toddler', description: 'Attempts to use spoon independently' },\n    { id: 'a4', domain: 'adaptive-self-help', subdomain: 'dressing', name: 'Removes socks', ageBand: 'Toddler', description: 'Takes off socks independently' },\n    { id: 'a5', domain: 'adaptive-self-help', subdomain: 'dressing', name: 'Helps with dressing', ageBand: 'Toddler', description: 'Assists with putting on clothes' },\n    { id: 'a6', domain: 'adaptive-self-help', subdomain: 'toileting', name: 'Indicates wet/soiled diaper', ageBand: 'Toddler', description: 'Shows awareness of diaper state' },\n    { id: 'a7', domain: 'adaptive-self-help', subdomain: 'toileting', name: 'Sits on toilet with support', ageBand: 'Toddler', description: 'Sits on toilet with assistance' },\n    { id: 'a8', domain: 'adaptive-self-help', subdomain: 'hygiene', name: 'Washes hands with help', ageBand: 'Preschool', description: 'Washes hands with supervision' },\n    { id: 'a9', domain: 'adaptive-self-help', subdomain: 'dressing', name: 'Buttons large buttons', ageBand: 'Preschool', description: 'Fastens large buttons independently' },\n    { id: 'a10', domain: 'adaptive-self-help', subdomain: 'hygiene', name: 'Brushes teeth with help', ageBand: 'Preschool', description: 'Brushes teeth with supervision' }\n  ];\n\n  // Subdomain tags for each domain\n  const domainSubdomains = {\n    'motor': ['Gross', 'Fine'],\n    'communication': ['Expressive', 'Receptive'],\n    'social-emotional': ['Interaction', 'Regulation'],\n    'cognitive-play': ['Early Play', 'Problem-Solving', 'Pretend'],\n    'adaptive-self-help': ['Feeding', 'Dressing', 'Toileting', 'Hygiene']\n  };\n\n  // Sample milestone entries for the journal\n  const milestoneEntries = [\n    {\n      id: '1',\n      domainIcon: 'üèÉ',\n      skillName: 'Rolls both ways',\n      status: 'Observed',\n      date: '2024-03-15',\n      context: 'home'\n    },\n    {\n      id: '2',\n      domainIcon: 'üí¨',\n      skillName: 'Uses 3 words',\n      status: 'Observed',\n      date: '2024-03-12',\n      context: 'therapy'\n    },\n    {\n      id: '3',\n      domainIcon: 'üòä',\n      skillName: 'Social smile',\n      status: 'Emerging',\n      date: '2024-03-10',\n      context: 'home'\n    }\n  ];\n\n  // Sample skill statuses for demonstration\n  const skillStatuses: Record<string, string> = {\n    'm1': 'Observed',\n    'm2': 'Emerging',\n    'c1': 'Observed',\n    'c2': 'Not yet',\n    's1': 'Observed',\n    'cp1': 'Emerging',\n    'a1': 'Not yet'\n  };\n\n  // Sample last observed dates\n  const lastObservedDates: Record<string, string> = {\n    'm1': '2024-03-15',\n    'c1': '2024-03-12',\n    's1': '2024-03-10'\n  };\n\n  // Sample supports used\n  const sampleSupportsUsed: Record<string, string[]> = {\n    'm2': ['hand-over-hand', 'prompts'],\n    'cp1': ['adaptive utensil'],\n    'a1': ['AAC']\n  };\n\n  // Supports options for skills\n  const supportsOptions = ['hand-over-hand', 'adaptive utensil', 'prompts', 'AAC', 'orthotics'];\n\n  // Sample skill history data\n  const skillHistoryData: Record<string, {\n    statusChanges: Array<{\n      date: string;\n      status: string;\n      supports: string[];\n      author: string;\n    }>;\n    notes: Array<{\n      timestamp: string;\n      text: string;\n      author: string;\n    }>;\n  }> = {\n    'm1': {\n      statusChanges: [\n        { date: '2024-03-15', status: 'Observed', supports: [], author: 'Mom' },\n        { date: '2024-03-10', status: 'Emerging', supports: ['hand-over-hand'], author: 'Dad' },\n        { date: '2024-02-28', status: 'Not yet', supports: [], author: 'Mom' }\n      ],\n      notes: [\n        { timestamp: '2024-03-15 14:30', text: 'First time rolling both ways consistently!', author: 'Mom' },\n        { timestamp: '2024-03-12 10:15', text: 'Showed interest in rolling during tummy time', author: 'Dad' }\n      ]\n    },\n    'c1': {\n      statusChanges: [\n        { date: '2024-03-12', status: 'Observed', supports: [], author: 'Mom' },\n        { date: '2024-03-05', status: 'Emerging', supports: ['prompts'], author: 'Therapist' }\n      ],\n      notes: [\n        { timestamp: '2024-03-12 16:45', text: 'Said \"mama\" clearly for the first time!', author: 'Mom' },\n        { timestamp: '2024-03-08 11:20', text: 'Working on consonant sounds in therapy', author: 'Therapist' }\n      ]\n    }\n  };\n\n  const [showMilestoneDetail, setShowMilestoneDetail] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasMilestones, setHasMilestones] = useState(true); // For demo purposes, set to true initially\n\n  const getStatusBadgeColor = (status: string) => {\n    switch (status) {\n      case 'Observed':\n        return 'bg-green-100 text-green-800 border-green-200';\n      case 'Emerging':\n        return 'bg-yellow-100 text-yellow-800 border-yellow-200';\n      case 'Not yet':\n        return 'bg-gray-100 text-gray-800 border-gray-200';\n      case 'N/A':\n        return 'bg-blue-100 text-blue-800 border-blue-200';\n      default:\n        return 'bg-gray-100 text-gray-800 border-gray-200';\n    }\n  };\n\n  const getContextLabel = (context: string) => {\n    switch (context) {\n      case 'home':\n        return 'Home';\n      case 'school':\n        return 'School';\n      case 'therapy':\n        return 'Therapy';\n      case 'community':\n        return 'Community';\n      default:\n        return context;\n    }\n  };\n\n  const handleViewMilestone = (milestoneId: string) => {\n    setShowMilestoneDetail(milestoneId);\n  };\n\n  const handleViewAllMilestones = () => {\n    // TODO: Route to Log & Track > Journal filtered to Milestones type\n    console.log('Navigate to Journal with Milestones filter');\n  };\n\n  // Skeleton loading components\n  const DomainTileSkeleton = () => (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse\">\n      <div className=\"flex items-start justify-between mb-4\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-12 h-12 bg-gray-200 rounded-full\"></div>\n          <div>\n            <div className=\"h-5 bg-gray-200 rounded w-24 mb-2\"></div>\n            <div className=\"h-4 bg-gray-200 rounded w-32\"></div>\n          </div>\n        </div>\n      </div>\n      <div className=\"flex items-center justify-center mb-4\">\n        <div className=\"w-16 h-16 bg-gray-200 rounded-full\"></div>\n      </div>\n      <div className=\"h-4 bg-gray-200 rounded w-full mb-4\"></div>\n      <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-4\"></div>\n      <div className=\"h-9 bg-gray-200 rounded w-full\"></div>\n    </div>\n  );\n\n  const JournalEntrySkeleton = () => (\n    <div className=\"px-6 py-4 animate-pulse\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-8 h-8 bg-gray-200 rounded-full\"></div>\n          <div>\n            <div className=\"h-4 bg-gray-200 rounded w-32 mb-2\"></div>\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"h-5 bg-gray-200 rounded w-16\"></div>\n              <div className=\"h-4 bg-gray-200 rounded w-24\"></div>\n            </div>\n          </div>\n        </div>\n        <div className=\"h-4 bg-gray-200 rounded w-12\"></div>\n      </div>\n    </div>\n  );\n\n  const contextOptions = ['home', 'school', 'therapy', 'community'];\n\n  // Helper function to get age band from chronological age\n  const getAgeBandFromChronological = (age: string): string => {\n    if (age.includes('months')) {\n      const months = parseInt(age.split(' ')[0]);\n      if (months <= 12) return 'Early';\n      if (months <= 36) return 'Toddler';\n      if (months <= 60) return 'Preschool';\n      return 'School-age';\n    } else if (age.includes('years')) {\n      const years = parseInt(age.split(' ')[0]);\n      if (years <= 5) return 'Preschool';\n      return 'School-age';\n    }\n    return 'Early'; // default\n  };\n\n  // Helper function to check if skill is within ¬±1 age band\n  const isSkillAgeAppropriate = (skillAgeBand: string, selectedAgeBand: string): boolean => {\n    const ageBands = ['Early', 'Toddler', 'Preschool', 'School-age'];\n    const skillIndex = ageBands.indexOf(skillAgeBand);\n    const selectedIndex = ageBands.indexOf(selectedAgeBand);\n    \n    if (skillIndex === -1 || selectedIndex === -1) return true; // fallback\n    \n    return Math.abs(skillIndex - selectedIndex) <= 1;\n  };\n\n  const handleOpenDomain = (domainId: string) => {\n    // TODO: Route to domain detail (will be implemented in 5B)\n    console.log(`Opening domain: ${domainId}`);\n    \n    // For now, show a placeholder modal indicating this will be implemented in Phase 5B\n    setShowDomainDetailModal(true);\n    setSelectedDomainForDetail(domainId);\n  };\n\n  const handleAddSkill = () => {\n    setShowAddSkillSheet(true);\n    setCurrentStep(1);\n    setSelectedDomain('');\n    setSelectedSkill('');\n    setSkillStatus('Observed');\n    setDateObserved(new Date().toISOString().split('T')[0]);\n    setSupportsUsed([]);\n    setContext([]);\n    setNotes('');\n    setShowAllSkills(false);\n    setSearchQuery('');\n  };\n\n  const handleNextStep = () => {\n    if (currentStep < 6) {\n      setCurrentStep(currentStep + 1);\n    }\n  };\n\n  const handlePrevStep = () => {\n    if (currentStep > 1) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  const handleSave = () => {\n    // TODO: Save skill data\n    console.log('Saving skill:', { selectedDomain, selectedSkill, skillStatus, dateObserved, supportsUsed, context, notes });\n    setShowAddSkillSheet(false);\n    // TODO: Show toast: \"Skill saved. View it in Journal or the domain page.\"\n  };\n\n  const handleSaveAndAddAnother = () => {\n    // TODO: Save skill data\n    console.log('Saving skill and adding another:', { selectedDomain, selectedSkill, skillStatus, dateObserved, supportsUsed, context, notes });\n    // Reset form for next skill\n    setSelectedSkill('');\n    setSkillStatus('Observed');\n    setDateObserved(new Date().toISOString().split('T')[0]);\n    setSupportsUsed([]);\n    setContext([]);\n    setNotes('');\n    setCurrentStep(2); // Go back to skill selection\n  };\n\n  const handleSaveSettings = () => {\n    // TODO: Save settings to localStorage or API\n    setShowSettingsModal(false);\n    // TODO: Show toast: \"Settings saved.\"\n  };\n\n  // Get current age band for filtering\n  const currentAgeBand = useDevelopmentalLevel ? developmentalLevel : getAgeBandFromChronological(chronologicalAge);\n\n  const filteredSkills = allSkills.filter(skill => {\n    if (selectedDomain && skill.domain !== selectedDomain) return false;\n    if (searchQuery && !skill.name.toLowerCase().includes(searchQuery.toLowerCase())) return false;\n    return true;\n  });\n\n  // Filter by age appropriateness (default: ¬±1 band)\n  const ageAppropriateSkills = showAllSkills ? filteredSkills : filteredSkills.filter(skill => \n    isSkillAgeAppropriate(skill.ageBand, currentAgeBand)\n  );\n\n  const suggestedSkills = ageAppropriateSkills.slice(0, 10);\n  const displayedSkills = showAllSkills ? ageAppropriateSkills : suggestedSkills;\n\n  const handleGenerateReport = () => {\n    setIsGeneratingReport(true);\n    // TODO: Simulate report generation\n    setTimeout(() => {\n      setIsGeneratingReport(false);\n      setReportReady(true);\n    }, 2000);\n  };\n\n\n\n  const handleDownloadReport = () => {\n    // TODO: Trigger actual PDF download\n    setReportReady(false);\n    setShowReportModal(false);\n    // TODO: Show toast: \"Report downloaded\"\n  };\n\n  // Ideas Library handlers\n  const handleSaveIdea = (ideaId: string) => {\n    if (savedIdeas.includes(ideaId)) {\n      setSavedIdeas(prev => prev.filter(id => id !== ideaId));\n    } else {\n      setSavedIdeas(prev => [...prev, ideaId]);\n    }\n  };\n\n  const handleAddToPracticePlan = (ideaId: string) => {\n    const idea = sampleIdeas.find(i => i.id === ideaId);\n    if (idea) {\n      const newItem = {\n        id: `plan-${Date.now()}`,\n        ideaId: idea.id,\n        title: idea.title,\n        environment: idea.environment[0] || 'Home',\n        time: idea.timeNeeded,\n        domain: idea.domain,\n        notes: ''\n      };\n      setPracticePlanItems(prev => [...prev, newItem]);\n      setShowPracticePlanDrawer(true);\n    }\n  };\n\n  const handleRemoveFromPlan = (itemId: string) => {\n    setPracticePlanItems(prev => prev.filter(item => item.id !== itemId));\n  };\n\n  const handleUpdatePlanItemNotes = (itemId: string, notes: string) => {\n    setPracticePlanItems(prev => prev.map(item => \n      item.id === itemId ? { ...item, notes } : item\n    ));\n  };\n\n  const handlePrintPlan = () => {\n    // TODO: Implement print functionality\n    console.log('Printing practice plan...');\n  };\n\n  const handleSharePlan = () => {\n    // TODO: Implement share functionality\n    console.log('Sharing practice plan...');\n  };\n\n  const handleSavePlan = () => {\n    setShowSavePlanModal(true);\n  };\n\n  const handleClearPlan = () => {\n    setPracticePlanItems([]);\n  };\n\n  // Sample ideas data - Expanded with 6-10 ideas per domain across levels\n  const sampleIdeas = [\n    // MOTOR DOMAIN - 8 ideas across levels\n    {\n      id: 'motor-1',\n      title: 'Tummy Time with Mirror',\n      domain: 'Motor',\n      subdomain: 'Gross Motor',\n      levelTag: 'Suggested now' as const,\n      timeNeeded: '10‚Äì15 min',\n      materials: ['Baby-safe mirror', 'Soft blanket', 'Favorite toys'],\n      steps: [\n        'Place baby on tummy on a soft blanket',\n        'Position mirror at eye level, about 8-12 inches away',\n        'Place favorite toys just out of reach to encourage reaching',\n        'Talk to baby and make faces in the mirror',\n        'Gradually increase time spent in position'\n      ],\n      adaptations: ['Visual support', 'Sensory breaks'],\n      environment: ['Home'],\n      supports: ['Visuals']\n    },\n    {\n      id: 'motor-2',\n      title: 'Crawling Obstacle Course',\n      domain: 'Motor',\n      subdomain: 'Gross Motor',\n      levelTag: 'Stretch' as const,\n      timeNeeded: '15 min',\n      materials: ['Pillows', 'Soft blocks', 'Tunnels', 'Favorite toys'],\n      steps: [\n        'Create a simple obstacle course with pillows and blocks',\n        'Place favorite toys at the end as motivation',\n        'Encourage crawling through and over obstacles',\n        'Celebrate each successful navigation',\n        'Gradually increase complexity'\n      ],\n      adaptations: ['Visual markers', 'Physical guidance'],\n      environment: ['Home'],\n      supports: ['Visuals']\n    },\n    {\n      id: 'motor-3',\n      title: 'Ball Rolling Games',\n      domain: 'Motors',\n      subdomain: 'Gross Motor',\n      levelTag: 'Foundations' as const,\n      timeNeeded: '10 min',\n      materials: ['Soft balls', 'Ramps', 'Targets'],\n      steps: [\n        'Set up simple ramps or inclines',\n        'Show child how to roll balls down ramps',\n        'Add targets to aim for',\n        'Encourage different rolling techniques',\n        'Take turns and celebrate hits'\n      ],\n      adaptations: ['Adaptive grips', 'Visual targets'],\n      environment: ['Home', 'Therapy'],\n      supports: ['Adaptive utensils', 'Visuals']\n    },\n    {\n      id: 'motor-4',\n      title: 'Fine Motor Bead Stringing',\n      domain: 'Motor',\n      subdomain: 'Fine Motor',\n      levelTag: 'Suggested now' as const,\n      timeNeeded: '15 min',\n      materials: ['Large beads', 'Thick string', 'Pattern cards'],\n      steps: [\n        'Start with large, easy-to-grasp beads',\n        'Show simple patterns to follow',\n        'Guide hand-over-hand if needed',\n        'Celebrate each bead added',\n        'Gradually use smaller beads'\n      ],\n      adaptations: ['Adaptive grips', 'Visual patterns'],\n      environment: ['Home', 'School'],\n      supports: ['Adaptive utensils', 'Visuals']\n    },\n    {\n      id: 'motor-5',\n      title: 'Pincer Grasp Practice',\n      domain: 'Motor',\n      subdomain: 'Fine Motor',\n      levelTag: 'Stretch' as const,\n      timeNeeded: '10 min',\n      materials: ['Cheerios', 'Small containers', 'Tweezers'],\n      steps: [\n        'Place small items in one container',\n        'Show pincer grasp technique',\n        'Practice picking up items one by one',\n        'Transfer to another container',\n        'Use tweezers for advanced practice'\n      ],\n      adaptations: ['Adaptive utensils', 'Visual guides'],\n      environment: ['Home'],\n      supports: ['Adaptive utensils', 'Visuals']\n    },\n    {\n      id: 'motor-6',\n      title: 'Drawing and Coloring',\n      domain: 'Motor',\n      subdomain: 'Fine Motor',\n      levelTag: 'Foundations' as const,\n      timeNeeded: '20 min',\n      materials: ['Large crayons', 'Paper', 'Coloring books'],\n      steps: [\n        'Provide large, easy-to-grasp crayons',\n        'Start with simple shapes and lines',\n        'Encourage free drawing and exploration',\n        'Praise all attempts and efforts',\n        'Gradually introduce more complex patterns'\n      ],\n      adaptations: ['Adaptive grips', 'Visual guides'],\n      environment: ['Home', 'School'],\n      supports: ['Adaptive utensils', 'Visuals']\n    },\n    {\n      id: 'motor-7',\n      title: 'Building with Mega Blocks',\n      domain: 'Motor',\n      subdomain: 'Fine Motor',\n      levelTag: 'Suggested now' as const,\n      timeNeeded: '25 min',\n      materials: ['Mega blocks', 'Picture cards', 'Base plates'],\n      steps: [\n        'Show simple structure pictures',\n        'Start with basic stacking',\n        'Encourage following visual guides',\n        'Build together and celebrate success',\n        'Add complexity gradually'\n      ],\n      adaptations: ['Visual guides', 'Physical support'],\n      environment: ['Home', 'School'],\n      supports: ['Visuals']\n    },\n    {\n      id: 'motor-8',\n      title: 'Play Dough Activities',\n      domain: 'Motor',\n      subdomain: 'Fine Motor',\n      levelTag: 'Stretch' as const,\n      timeNeeded: '20 min',\n      materials: ['Play dough', 'Rolling pins', 'Cookie cutters'],\n      steps: [\n        'Start with simple rolling and squishing',\n        'Introduce cookie cutters for shapes',\n        'Practice making balls and snakes',\n        'Create simple objects together',\n        'Encourage imaginative play'\n      ],\n      adaptations: ['Adaptive tools', 'Visual guides'],\n      environment: ['Home'],\n      supports: ['Adaptive utensils', 'Visuals']\n    },\n\n    // COMMUNICATION DOMAIN - 8 ideas across levels\n    {\n      id: 'comm-1',\n      title: 'Sound and Movement Game',\n      domain: 'Communication',\n      subdomain: 'Expressive Language',\n      levelTag: 'Stretch' as const,\n      timeNeeded: '5 min',\n      materials: ['Musical instruments', 'Pictures of animals'],\n      steps: [\n        'Show child pictures of different animals',\n        'Make the animal sound together',\n        'Add movement that matches the animal',\n        'Encourage child to imitate sounds and movements',\n        'Take turns choosing animals'\n      ],\n      adaptations: ['AAC support', 'Visual cues'],\n      environment: ['Home', 'Therapy'],\n      supports: ['AAC', 'Visuals']\n    },\n    {\n      id: 'comm-2',\n      title: 'Picture Exchange Communication',\n      domain: 'Communication',\n      subdomain: 'Expressive Language',\n      levelTag: 'Suggested now' as const,\n      timeNeeded: '10 min',\n      materials: ['Picture cards', 'Reinforcing items', 'Communication book'],\n      steps: [\n        'Start with highly motivating items',\n        'Show picture and item together',\n        'Guide hand to give picture',\n        'Immediately give the item',\n        'Gradually increase picture vocabulary'\n      ],\n      adaptations: ['AAC system', 'Visual supports'],\n      environment: ['Home', 'Therapy'],\n      supports: ['AAC', 'Visuals']\n    },\n    {\n      id: 'comm-3',\n      title: 'Sign Language Basics',\n      domain: 'Communication',\n      subdomain: 'Expressive Language',\n      levelTag: 'Foundations' as const,\n      timeNeeded: '15 min',\n      materials: ['Sign language cards', 'Mirror', 'Favorite objects'],\n      steps: [\n        'Start with basic signs (more, please, thank you)',\n        'Show sign while saying word',\n        'Practice in mirror together',\n        'Use signs during daily routines',\n        'Reinforce with praise and objects'\n      ],\n      adaptations: ['Visual guides', 'Physical prompts'],\n      environment: ['Home', 'Therapy'],\n      supports: ['AAC', 'Visuals']\n    },\n    {\n      id: 'comm-4',\n      title: 'Receptive Language Games',\n      domain: 'Communication',\n      subdomain: 'Receptive Language',\n      levelTag: 'Suggested now' as const,\n      timeNeeded: '10 min',\n      materials: ['Common objects', 'Picture cards', 'Basket'],\n      steps: [\n        'Place several objects in front of child',\n        'Ask child to find specific items',\n        'Start with familiar name recognition',\n        'Add simple commands (put in basket)',\n        'Gradually increase complexity'\n      ],\n      adaptations: ['Visual cues', 'Physical prompts'],\n      environment: ['Home', 'School'],\n      supports: ['Visuals']\n    },\n    {\n      id: 'comm-5',\n      title: 'Story Time with Props',\n      domain: 'Communication',\n      subdomain: 'Receptive Language',\n      levelTag: 'Stretch' as const,\n      timeNeeded: '15 min',\n      materials: ['Simple storybooks', 'Props', 'Puppets'],\n      steps: [\n        'Choose books with repetitive text',\n        'Use props to act out story',\n        'Point to pictures while reading',\n        'Ask simple questions about story',\n        'Encourage child to retell parts'\n      ],\n      adaptations: ['Visual supports', 'AAC integration'],\n      environment: ['Home', 'School'],\n      supports: ['AAC', 'Visuals']\n    },\n    {\n      id: 'comm-6',\n      title: 'Turn-Taking Conversations',\n      domain: 'Communication',\n      subdomain: 'Social Communication',\n      levelTag: 'Foundations' as const,\n      timeNeeded: '10 min',\n      materials: ['Timer', 'Favorite toys', 'Picture cards'],\n      steps: [\n        'Set up structured turn-taking activity',\n        'Use timer to show turn length',\n        'Model waiting and taking turns',\n        'Praise good turn-taking behavior',\n        'Gradually increase conversation complexity'\n      ],\n      adaptations: ['Visual timer', 'Social stories'],\n      environment: ['Home', 'School'],\n      supports: ['Timer', 'Visuals']\n    },\n    {\n      id: 'comm-7',\n      title: 'Emotion Vocabulary Building',\n      domain: 'Communication',\n      subdomain: 'Social Communication',\n      levelTag: 'Suggested now' as const,\n      timeNeeded: '12 min',\n      materials: ['Emotion cards', 'Mirror', 'Real photos'],\n      steps: [\n        'Show emotion cards with faces',\n        'Practice making faces in mirror',\n        'Talk about when we feel each emotion',\n        'Use real photos to identify',\n        'Practice expressing emotions appropriately'\n      ],\n      adaptations: ['Visual supports', 'Social stories'],\n      environment: ['Home', 'School'],\n      supports: ['Visuals']\n    },\n    {\n      id: 'comm-8',\n      title: 'Requesting with Choices',\n      domain: 'Communication',\n      subdomain: 'Expressive Language',\n      levelTag: 'Stretch' as const,\n      timeNeeded: '8 min',\n      materials: ['Choice boards', 'Preferred items', 'Timer'],\n      steps: [\n        'Present two clear choices',\n        'Wait for child to indicate choice',\n        'Honor the choice immediately',\n        'Gradually increase choice options',\n        'Add language modeling'\n      ],\n      adaptations: ['Choice boards', 'Visual supports'],\n      environment: ['Home', 'Therapy'],\n      supports: ['AAC', 'Visuals']\n    },\n\n    // SOCIAL-EMOTIONAL DOMAIN - 8 ideas across levels\n    {\n      id: 'social-1',\n      title: 'Emotion Matching Game',\n      domain: 'Social-Emotional',\n      subdomain: 'Emotional Regulation',\n      levelTag: 'Foundations' as const,\n      timeNeeded: '15 min',\n      materials: ['Emotion cards', 'Mirror', 'Timer'],\n      steps: [\n        'Show child pictures of different emotion cards',\n        'Make the emotion face together in mirror',\n        'Talk about when we feel this emotion',\n        'Practice calming strategies for each emotion',\n        'Use timer for structured play time'\n      ],\n      adaptations: ['Sensory breaks', 'Visual schedule'],\n      environment: ['Home', 'School'],\n      supports: ['Visuals', 'Timer', 'Sensory breaks']\n    },\n    {\n      id: 'social-2',\n      title: 'Calming Strategies Practice',\n      domain: 'Social-Emotional',\n      subdomain: 'Emotional Regulation',\n      levelTag: 'Suggested now' as const,\n      timeNeeded: '10 min',\n      materials: ['Calming cards', 'Timer', 'Quiet space'],\n      steps: [\n        'Introduce calming strategies when calm',\n        'Practice deep breathing together',\n        'Use visual timer for practice duration',\n        'Reinforce with praise and rewards',\n        'Apply during real emotional moments'\n      ],\n      adaptations: ['Visual guides', 'Sensory tools'],\n      environment: ['Home', 'School'],\n      supports: ['Timer', 'Visuals', 'Sensory breaks']\n    },\n    {\n      id: 'social-3',\n      title: 'Social Skills Role Play',\n      domain: 'Social-Emotional',\n      subdomain: 'Social Skills',\n      levelTag: 'Stretch' as const,\n      timeNeeded: '20 min',\n      materials: ['Puppets', 'Social story cards', 'Props'],\n      steps: [\n        'Choose social situation to practice',\n        'Use puppets to act out scenario',\n        'Practice appropriate responses',\n        'Role play different outcomes',\n        'Reinforce positive social behaviors'\n      ],\n      adaptations: ['Social stories', 'Visual scripts'],\n      environment: ['Home', 'School'],\n      supports: ['Visuals']\n    },\n    {\n      id: 'social-4',\n      title: 'Friendship Building Activities',\n      domain: 'Social-Emotional',\n      subdomain: 'Social Skills',\n      levelTag: 'Foundations' as const,\n      timeNeeded: '15 min',\n      materials: ['Cooperative games', 'Sharing toys', 'Timer'],\n      steps: [\n        'Start with simple sharing activities',\n        'Use timer for turn-taking',\n        'Praise sharing and cooperation',\n        'Gradually increase complexity',\n        'Practice with peers when possible'\n      ],\n      adaptations: ['Visual timers', 'Social stories'],\n      environment: ['Home', 'School'],\n      supports: ['Timer', 'Visuals']\n    },\n    {\n      id: 'social-5',\n      title: 'Self-Awareness Mirror Work',\n      domain: 'Social-Emotional',\n      subdomain: 'Self-Awareness',\n      levelTag: 'Suggested now' as const,\n      timeNeeded: '12 min',\n      materials: ['Mirror', 'Body markers', 'Picture cards'],\n      steps: [\n        'Practice making different faces',\n        'Point to body parts in mirror',\n        'Practice different expressions',\n        'Talk about how we look when we feel certain ways',\n        'Celebrate self-recognition'\n      ],\n      adaptations: ['Visual guides', 'Physical prompts'],\n      environment: ['Home'],\n      supports: ['Visuals']\n    },\n    {\n      id: 'social-6',\n      title: 'Empathy Building Activities',\n      domain: 'Social-Emotional',\n      subdomain: 'Empathy',\n      levelTag: 'Stretch' as const,\n      timeNeeded: '15 min',\n      materials: ['Emotion cards', 'Real photos', 'Stories'],\n      steps: [\n        'Show photos of people with different emotions',\n        'Talk about what they might be feeling',\n        'Discuss why they might feel that way',\n        'Practice appropriate responses',\n        'Model empathy in daily interactions'\n      ],\n      adaptations: ['Visual supports', 'Social stories'],\n      environment: ['Home', 'School'],\n      supports: ['Visuals']\n    },\n    {\n      id: 'social-7',\n      title: 'Confidence Building Games',\n      domain: 'Social-Emotional',\n      subdomain: 'Self-Confidence',\n      levelTag: 'Foundations' as const,\n      timeNeeded: '18 min',\n      materials: ['Achievement chart', 'Stickers', 'Simple tasks'],\n      steps: [\n        'Break activities into small steps',\n        'Celebrate each small success',\n        'Use visual achievement chart',\n        'Provide specific praise',\n        'Gradually increase challenge level'\n      ],\n      adaptations: ['Visual charts', 'Adaptive tools'],\n      environment: ['Home', 'School'],\n      supports: ['Visuals', 'Adaptive utensils']\n    },\n    {\n      id: 'social-8',\n      title: 'Conflict Resolution Practice',\n      domain: 'Social-Emotional',\n      subdomain: 'Social Skills',\n      levelTag: 'Suggested now' as const,\n      timeNeeded: '15 min',\n      materials: ['Conflict scenario cards', 'Timer', 'Solution cards'],\n      steps: [\n        'Present simple conflict scenarios',\n        'Discuss different solutions',\n        'Practice using words instead of actions',\n        'Role play appropriate responses',\n        'Reinforce positive conflict resolution'\n      ],\n      adaptations: ['Visual guides', 'Social stories'],\n      environment: ['Home', 'School'],\n      supports: ['Visuals', 'Timer']\n    },\n\n    // COGNITIVE/PLAY DOMAIN - 8 ideas across levels\n    {\n      id: 'cog-1',\n      title: 'Building with Blocks',\n      domain: 'Cognitive/Play',\n      subdomain: 'Problem Solving',\n      levelTag: 'Suggested now' as const,\n      timeNeeded: '20+ min',\n      materials: ['Building blocks', 'Picture cards of structures'],\n      steps: [\n        'Show child a simple structure to build',\n        'Start with basic stacking and building',\n        'Encourage problem-solving when blocks fall',\n        'Add complexity as child progresses',\n        'Celebrate successful building attempts'\n      ],\n      adaptations: ['Adaptive utensils', 'Visual support'],\n      environment: ['Home', 'School'],\n      supports: ['Visuals', 'Adaptive utensils']\n    },\n    {\n      id: 'cog-2',\n      title: 'Simple Puzzle Activities',\n      domain: 'Cognitive/Play',\n      subdomain: 'Problem Solving',\n      levelTag: 'Foundations' as const,\n      timeNeeded: '15 min',\n      materials: ['Large puzzle pieces', 'Puzzle board', 'Picture guide'],\n      steps: [\n        'Start with 3-4 piece puzzles',\n        'Show completed picture first',\n        'Guide hand to correct placement',\n        'Celebrate each piece placed',\n        'Gradually increase piece count'\n      ],\n      adaptations: ['Adaptive grips', 'Visual guides'],\n      environment: ['Home', 'School'],\n      supports: ['Adaptive utensils', 'Visuals']\n    },\n    {\n      id: 'cog-3',\n      title: 'Memory Matching Games',\n      domain: 'Cognitive/Play',\n      subdomain: 'Memory',\n      levelTag: 'Stretch' as const,\n      timeNeeded: '12 min',\n      materials: ['Picture cards', 'Timer', 'Reward items'],\n      steps: [\n        'Start with 4-6 cards face up',\n        'Show briefly, then turn over',\n        'Ask child to find matches',\n        'Use timer for structured play',\n        'Celebrate successful matches'\n      ],\n      adaptations: ['Visual supports', 'Adaptive tools'],\n      environment: ['Home', 'School'],\n      supports: ['Visuals', 'Timer']\n    },\n    {\n      id: 'cog-4',\n      title: 'Imaginative Play Scenarios',\n      domain: 'Cognitive/Play',\n      subdomain: 'Imaginative Play',\n      levelTag: 'Suggested now' as const,\n      timeNeeded: '25 min',\n      materials: ['Dress-up clothes', 'Props', 'Picture prompts'],\n      steps: [\n        'Set up simple play scenarios',\n        'Use props to encourage imagination',\n        'Join in and model pretend play',\n        'Follow child\\'s lead and ideas',\n        'Expand on their imaginative ideas'\n      ],\n      adaptations: ['Visual prompts', 'Physical props'],\n      environment: ['Home', 'School'],\n      supports: ['Visuals']\n    },\n    {\n      id: 'cog-5',\n      title: 'Sorting and Categorizing',\n      domain: 'Cognitive/Play',\n      subdomain: 'Classification',\n      levelTag: 'Foundations' as const,\n      timeNeeded: '18 min',\n      materials: ['Various objects', 'Sorting containers', 'Category cards'],\n      steps: [\n        'Start with simple categories (colors, shapes)',\n        'Show sorting containers with labels',\n        'Guide hand to sort items',\n        'Praise correct sorting',\n        'Gradually increase complexity'\n      ],\n      adaptations: ['Visual labels', 'Adaptive containers'],\n      environment: ['Home', 'School'],\n      supports: ['Visuals', 'Adaptive utensils']\n    },\n    {\n      id: 'cog-6',\n      title: 'Cause and Effect Games',\n      domain: 'Cognitive/Play',\n      subdomain: 'Scientific Thinking',\n      levelTag: 'Stretch' as const,\n      timeNeeded: '15 min',\n      materials: ['Pop-up toys', 'Musical instruments', 'Light switches'],\n      steps: [\n        'Demonstrate cause and effect',\n        'Let child explore independently',\n        'Talk about what happens and why',\n        'Encourage prediction',\n        'Celebrate discoveries'\n      ],\n      adaptations: ['Adaptive switches', 'Visual cues'],\n      environment: ['Home', 'Therapy'],\n      supports: ['Adaptive utensils', 'Visuals']\n    },\n    {\n      id: 'cog-7',\n      title: 'Pattern Recognition',\n      domain: 'Cognitive/Play',\n      subdomain: 'Mathematical Thinking',\n      levelTag: 'Suggested now' as const,\n      timeNeeded: '20 min',\n      materials: ['Pattern blocks', 'Pattern cards', 'Timer'],\n      steps: [\n        'Start with simple AB patterns',\n        'Show pattern and let child continue',\n        'Use visual and verbal cues',\n        'Gradually increase pattern complexity',\n        'Celebrate pattern completion'\n      ],\n      adaptations: ['Visual patterns', 'Adaptive tools'],\n      environment: ['Home', 'School'],\n      supports: ['Visuals', 'Adaptive utensils', 'Timer']\n    },\n    {\n      id: 'cog-8',\n      title: 'Sequencing Activities',\n      domain: 'Cognitive/Play',\n      subdomain: 'Sequencing',\n      levelTag: 'Foundations' as const,\n      timeNeeded: '15 min',\n      materials: ['Sequencing cards', 'Real objects', 'Picture guides'],\n      steps: [\n        'Start with 3-step sequences',\n        'Show completed sequence first',\n        'Mix up cards and ask to order',\n        'Use real objects when possible',\n        'Gradually increase steps'\n      ],\n      adaptations: ['Visual guides', 'Adaptive tools'],\n      environment: ['Home', 'School'],\n      supports: ['Visuals', 'Adaptive utensils']\n    },\n\n    // ADAPTIVE/SELF-HELP DOMAIN - 8 ideas across levels\n    {\n      id: 'adaptive-1',\n      title: 'Self-Feeding Practice',\n      domain: 'Adaptive/Self-Help',\n      subdomain: 'Self-Care',\n      levelTag: 'Stretch' as const,\n      timeNeeded: '10‚Äì15 min',\n      materials: ['Child-sized utensils', 'Easy-to-grasp foods', 'Bib'],\n      steps: [\n        'Set up child-friendly eating area',\n        'Provide easy-to-grasp foods (cubes, strips)',\n        'Demonstrate proper utensil use',\n        'Encourage independent attempts',\n        'Provide positive reinforcement for effort'\n      ],\n      adaptations: ['Adaptive utensils', 'Visual cues'],\n      environment: ['Home'],\n      supports: ['Visuals']\n    },\n    {\n      id: 'adaptive-2',\n      title: 'Dressing Skills Practice',\n      domain: 'Adaptive/Self-Help',\n      subdomain: 'Self-Care',\n      levelTag: 'Suggested now' as const,\n      timeNeeded: '20 min',\n      materials: ['Large-button shirts', 'Elastic pants', 'Dressing board'],\n      steps: [\n        'Start with simple clothing items',\n        'Break down dressing into steps',\n        'Use dressing board for practice',\n        'Provide physical guidance as needed',\n        'Celebrate each step completed'\n      ],\n      adaptations: ['Adaptive clothing', 'Visual guides'],\n      environment: ['Home', 'School'],\n      supports: ['Visuals', 'Adaptive utensils']\n    },\n    {\n      id: 'adaptive-3',\n      title: 'Toileting Independence',\n      domain: 'Adaptive/Self-Help',\n      subdomain: 'Self-Care',\n      levelTag: 'Foundations' as const,\n      timeNeeded: 'Varies',\n      materials: ['Potty chair', 'Timer', 'Reward system'],\n      steps: [\n        'Establish regular toileting schedule',\n        'Use timer for structured attempts',\n        'Provide visual and verbal cues',\n        'Celebrate all attempts and successes',\n        'Gradually increase independence'\n      ],\n      adaptations: ['Visual schedule', 'Adaptive equipment'],\n      environment: ['Home'],\n      supports: ['Timer', 'Visuals']\n    },\n    {\n      id: 'adaptive-4',\n      title: 'Hand Washing Routine',\n      domain: 'Adaptive/Self-Help',\n      subdomain: 'Self-Care',\n      levelTag: 'Suggested now' as const,\n      timeNeeded: '8 min',\n      materials: ['Step-by-step pictures', 'Timer', 'Soap'],\n      steps: [\n        'Post visual steps near sink',\n        'Guide through each step',\n        'Use timer for adequate washing time',\n        'Model proper technique',\n        'Reinforce with praise'\n      ],\n      adaptations: ['Visual guides', 'Adaptive soap dispensers'],\n      environment: ['Home', 'School'],\n      supports: ['Visuals', 'Timer']\n    },\n    {\n      id: 'adaptive-5',\n      title: 'Cleaning Up After Play',\n      domain: 'Adaptive/Self-Help',\n      subdomain: 'Daily Living',\n      levelTag: 'Stretch' as const,\n      timeNeeded: '10 min',\n      materials: ['Clean-up song', 'Picture labels', 'Timer'],\n      steps: [\n        'Use clean-up song as signal',\n        'Show where items belong',\n        'Make it a game or race',\n        'Provide specific instructions',\n        'Celebrate completion'\n      ],\n      adaptations: ['Visual labels', 'Adaptive containers'],\n      environment: ['Home', 'School'],\n      supports: ['Timer', 'Visuals']\n    },\n    {\n      id: 'adaptive-6',\n      title: 'Setting the Table',\n      domain: 'Adaptive/Self-Help',\n      subdomain: 'Daily Living',\n      levelTag: 'Foundations' as const,\n      timeNeeded: '15 min',\n      materials: ['Placemat with outlines', 'Child-sized dishes', 'Picture guide'],\n      steps: [\n        'Use placemat with item outlines',\n        'Start with one item at a time',\n        'Show picture of completed table',\n        'Guide hand to correct placement',\n        'Gradually add more items'\n      ],\n      adaptations: ['Visual guides', 'Adaptive utensils'],\n      environment: ['Home'],\n      supports: ['Visuals', 'Adaptive utensils']\n    },\n    {\n      id: 'adaptive-7',\n      title: 'Making Simple Choices',\n      domain: 'Adaptive/Self-Help',\n      subdomain: 'Decision Making',\n      levelTag: 'Suggested now' as const,\n      timeNeeded: '5 min',\n      materials: ['Choice boards', 'Preferred items', 'Timer'],\n      steps: [\n        'Present two clear options',\n        'Wait for child to indicate choice',\n        'Honor choice immediately',\n        'Gradually increase options',\n        'Add language modeling'\n      ],\n      adaptations: ['Choice boards', 'Visual supports'],\n      environment: ['Home', 'School'],\n      supports: ['Visuals', 'Timer']\n    },\n    {\n      id: 'adaptive-8',\n      title: 'Following Daily Routines',\n      domain: 'Adaptive/Self-Help',\n      subdomain: 'Daily Living',\n      levelTag: 'Stretch' as const,\n      timeNeeded: 'Varies',\n      materials: ['Visual schedule', 'Timer', 'Reward system'],\n      steps: [\n        'Create visual daily routine',\n        'Use timer for transitions',\n        'Provide clear expectations',\n        'Celebrate routine completion',\n        'Gradually increase independence'\n      ],\n      adaptations: ['Visual schedules', 'Adaptive timers'],\n      environment: ['Home', 'School'],\n      supports: ['Timer', 'Visuals']\n    }\n  ];\n\n\n\n  const handleSkillStatusChange = (skillId: string, status: string) => {\n    // TODO: Update skill status in database\n    console.log(`Updating skill ${skillId} status to ${status}`);\n    // TODO: Show toast: \"Updated\"\n  };\n\n  const handleSkillSupportsUpdate = (skillId: string, supports: string[]) => {\n    // TODO: Update skill supports in database\n    console.log(`Updating skill ${skillId} supports to:`, supports);\n  };\n\n  const handleBulkAction = (action: string) => {\n    if (selectedSkills.length === 0) return;\n    \n    switch (action) {\n      case 'mark-observed':\n        // TODO: Mark all selected skills as observed\n        break;\n      case 'mark-emerging':\n        // TODO: Mark all selected skills as emerging\n        break;\n      case 'add-to-visit-packet':\n        // TODO: Add selected skills to visit packet\n        break;\n    }\n    \n    setSelectedSkills([]);\n  };\n\n  const handleAddCustomSkill = () => {\n    if (!customSkillForm.name || !customSkillForm.subdomain) return;\n    \n    // TODO: Add custom skill to database\n    console.log('Adding custom skill:', customSkillForm);\n    setShowCustomSkillForm(false);\n    setCustomSkillForm({ name: '', subdomain: '', levelBand: 'Early' });\n    // TODO: Show toast: \"Custom skill added\"\n  };\n\n  const getFilteredAndGroupedSkills = () => {\n    let filtered = allSkills.filter(skill => skill.domain === selectedDomainForDetail);\n    \n    // Apply search filter\n    if (skillsSearchQuery) {\n      filtered = filtered.filter(skill => \n        skill.name.toLowerCase().includes(skillsSearchQuery.toLowerCase()) ||\n        skill.description.toLowerCase().includes(skillsSearchQuery.toLowerCase())\n      );\n    }\n    \n    // Apply level filter\n    if (skillsLevelFilter !== 'All') {\n      filtered = filtered.filter(skill => skill.ageBand === skillsLevelFilter);\n    }\n    \n    // Apply subdomain filter\n    if (skillsSubdomainFilter.length > 0) {\n      filtered = filtered.filter(skill => skillsSubdomainFilter.includes(skill.subdomain));\n    }\n    \n    // Apply status filter\n    if (skillsStatusFilter !== 'All') {\n      filtered = filtered.filter(skill => skillStatuses[skill.id] === skillsStatusFilter);\n    }\n    \n    // Apply sorting\n    switch (skillsSortBy) {\n      case 'A-Z':\n        filtered.sort((a, b) => a.name.localeCompare(b.name));\n        break;\n      case 'Recently updated':\n        // TODO: Sort by last updated date\n        break;\n      case 'Recommended':\n      default:\n        // Keep default order (age-appropriate first)\n        break;\n    }\n    \n    // Group skills\n    const currentLevel = chronologicalAge.includes('months') ? \n      getAgeBandFromChronological(chronologicalAge) : developmentalLevel;\n    \n    const ageBands = ['Early', 'Toddler', 'Preschool', 'School-age'];\n    const currentIndex = ageBands.indexOf(currentLevel);\n    \n    const suggested = filtered.filter(skill => skill.ageBand === currentLevel);\n    const stretchNext = filtered.filter(skill => {\n      const skillIndex = ageBands.indexOf(skill.ageBand);\n      return skillIndex === currentIndex + 1;\n    });\n    const foundations = filtered.filter(skill => {\n      const skillIndex = ageBands.indexOf(skill.ageBand);\n      return skillIndex < currentIndex;\n    });\n    \n    return { suggested, stretchNext, foundations };\n  };\n\n  // Keyboard navigation state\n  const [focusedSkillIndex, setFocusedSkillIndex] = useState<number>(-1);\n  const [focusedSkillId, setFocusedSkillId] = useState<string | null>(null);\n\n  const handleKeyDown = (event: React.KeyboardEvent, skillId: string, index: number) => {\n    switch (event.key) {\n      case 'ArrowDown':\n        event.preventDefault();\n        const nextIndex = Math.min(index + 1, getFilteredAndGroupedSkills().suggested.length - 1);\n        setFocusedSkillIndex(nextIndex);\n        setFocusedSkillId(skillId);\n        break;\n      case 'ArrowUp':\n        event.preventDefault();\n        const prevIndex = Math.max(index - 1, 0);\n        setFocusedSkillIndex(prevIndex);\n        setFocusedSkillId(skillId);\n        break;\n      case ' ':\n        event.preventDefault();\n        // Toggle status - find current status and cycle through\n        const currentStatus = skillStatuses[skillId] || 'Not yet';\n        const statusOptions = ['Observed', 'Emerging', 'Not yet', 'N/A'];\n        const currentIndex = statusOptions.indexOf(currentStatus);\n        const nextStatus = statusOptions[(currentIndex + 1) % statusOptions.length];\n        handleSkillStatusChange(skillId, nextStatus);\n        break;\n      case 'Enter':\n        event.preventDefault();\n        // Open supports popover - this will be handled by the supports button\n        const supportsButton = document.querySelector(`[data-skill-id=\"${skillId}\"] [data-supports-button]`) as HTMLButtonElement;\n        if (supportsButton) {\n          supportsButton.click();\n        }\n        break;\n    }\n  };\n\n  const handleSkillFocus = (skillId: string, index: number) => {\n    setFocusedSkillIndex(index);\n    setFocusedSkillId(skillId);\n  };\n\n  // SkillRow Component with enhanced accessibility\n  const SkillRow: React.FC<{\n    skill: any;\n    status: string;\n    lastObserved?: string;\n    supports: string[];\n    isSelected: boolean;\n    isFocused: boolean;\n    index: number;\n    onSelectionChange: (selected: boolean) => void;\n    onStatusChange: (status: string) => void;\n    onSupportsUpdate: (supports: string[]) => void;\n    onKeyDown: (e: React.KeyboardEvent) => void;\n    onFocus: () => void;\n  }> = ({ skill, status, lastObserved, supports, isSelected, isFocused, index, onSelectionChange, onStatusChange, onSupportsUpdate, onKeyDown, onFocus }) => {\n    const [showSupportsPopover, setShowSupportsPopover] = useState(false);\n    const [showOverflowMenu, setShowOverflowMenu] = useState(false);\n    const [showDatePicker, setShowDatePicker] = useState(false);\n    const [selectedDate, setSelectedDate] = useState(lastObserved || new Date().toISOString().split('T')[0]);\n\n    const supportsOptions = ['hand-over-hand', 'adaptive utensil', 'prompts', 'AAC', 'orthotics'];\n\n    const handleStatusChange = (newStatus: string) => {\n      if (newStatus === 'Observed' && !lastObserved) {\n        setShowDatePicker(true);\n      } else {\n        onStatusChange(newStatus);\n      }\n    };\n\n    const handleDateSave = () => {\n      onStatusChange('Observed');\n      setShowDatePicker(false);\n      // TODO: Save last observed date\n    };\n\n    return (\n      <div \n        className={`bg-white border border-gray-200 rounded-lg p-3 hover:border-gray-300 transition-colors ${\n          isFocused ? 'ring-2 ring-blue-500 ring-offset-2' : ''\n        }`}\n        tabIndex={0}\n        onKeyDown={onKeyDown}\n        onFocus={onFocus}\n        role=\"row\"\n        aria-selected={isSelected}\n        aria-label={`Skill: ${skill.name}, Status: ${status}`}\n      >\n        <div className=\"flex items-center space-x-3\">\n          {/* Checkbox */}\n          <input\n            type=\"checkbox\"\n            checked={isSelected}\n            onChange={(e) => onSelectionChange(e.target.checked)}\n            className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            aria-label={`Select ${skill.name} skill`}\n          />\n\n          {/* Skill Info */}\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center space-x-2\">\n              <h6 className=\"text-sm font-medium text-gray-900 truncate\">{skill.name}</h6>\n              <button\n                className=\"text-gray-400 hover:text-gray-600\"\n                aria-label={`Show description for ${skill.name}`}\n                title={skill.description}\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n              </button>\n            </div>\n            <p className=\"text-xs text-gray-500 mt-1\">{skill.description}</p>\n            <div className=\"flex items-center space-x-2 mt-1\">\n              <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n                {skill.subdomain}\n              </span>\n              <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                {skill.ageBand}\n              </span>\n            </div>\n          </div>\n\n          {/* Status Radios */}\n          <div className=\"flex items-center space-x-2\" role=\"radiogroup\" aria-label={`Status for ${skill.name}`}>\n            {['Observed', 'Emerging', 'Not yet', 'N/A'].map((statusOption) => (\n              <label key={statusOption} className=\"flex items-center\">\n                <input\n                  type=\"radio\"\n                  name={`status-${skill.id}`}\n                  value={statusOption}\n                  checked={status === statusOption}\n                  onChange={() => handleStatusChange(statusOption)}\n                  className=\"mr-1 text-blue-600 focus:ring-blue-500\"\n                  aria-label={`Mark ${skill.name} as ${statusOption}`}\n                />\n                <span className=\"text-xs text-gray-700\">{statusOption}</span>\n              </label>\n            ))}\n          </div>\n\n          {/* Last Observed Date */}\n          {lastObserved && (\n            <div className=\"text-xs text-gray-500\">\n              Last: {new Date(lastObserved).toLocaleDateString()}\n            </div>\n          )}\n\n          {/* Supports Link */}\n          <div className=\"relative\">\n            <button\n              data-supports-button\n              data-skill-id={skill.id}\n              onClick={() => setShowSupportsPopover(!showSupportsPopover)}\n              className=\"text-xs text-blue-600 hover:text-blue-700 underline\"\n              aria-label=\"Manage supports for this skill\"\n              aria-expanded={showSupportsPopover}\n              aria-haspopup=\"true\"\n            >\n              Supports\n            </button>\n            \n            {showSupportsPopover && (\n              <div \n                className=\"absolute right-0 top-6 w-48 bg-white border border-gray-200 rounded-lg shadow-lg p-3 z-10\"\n                role=\"dialog\"\n                aria-label=\"Supports selection\"\n              >\n                <h6 className=\"text-xs font-medium text-gray-900 mb-2\">Supports used:</h6>\n                <div className=\"space-y-1\">\n                  {supportsOptions.map((option) => (\n                    <label key={option} className=\"flex items-center\">\n                      <input\n                        type=\"checkbox\"\n                        checked={supports.includes(option)}\n                        onChange={(e) => {\n                          if (e.target.checked) {\n                            onSupportsUpdate([...supports, option]);\n                          } else {\n                            onSupportsUpdate(supports.filter(s => s !== option));\n                          }\n                        }}\n                        className=\"mr-2 text-blue-600 focus:ring-blue-500\"\n                        aria-label={`Use ${option} support`}\n                      />\n                      <span className=\"text-xs text-gray-700 capitalize\">{option}</span>\n                    </label>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Overflow Menu */}\n          <div className=\"relative\">\n            <button\n              onClick={() => setShowOverflowMenu(!showOverflowMenu)}\n              className=\"text-gray-400 hover:text-gray-600 p-1\"\n              aria-label=\"More options for this skill\"\n              aria-expanded={showOverflowMenu}\n              aria-haspopup=\"true\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\" />\n              </svg>\n            </button>\n            \n            {showOverflowMenu && (\n              <div \n                className=\"absolute right-0 top-6 w-32 bg-white border border-gray-200 rounded-lg shadow-lg p-2 z-10\"\n                role=\"menu\"\n                aria-label=\"Skill options\"\n              >\n                <button \n                  onClick={() => {\n                    handleViewSkillHistory(skill);\n                    setShowOverflowMenu(false);\n                  }}\n                  className=\"w-full text-left px-2 py-1 text-xs text-gray-700 hover:bg-gray-100 rounded\"\n                  role=\"menuitem\"\n                >\n                  View history\n                </button>\n                <button className=\"w-full text-left px-2 py-1 text-xs text-gray-700 hover:bg-gray-100 rounded\" role=\"menuitem\">\n                  Add note\n                </button>\n                <button \n                  onClick={() => {\n                    if (visitPacketItems.has(skill.id)) {\n                      handleRemoveFromVisitPacket(skill.id);\n                    } else {\n                      handleAddToVisitPacket(skill.id);\n                    }\n                    setShowOverflowMenu(false);\n                  }}\n                  className={`w-full text-left px-2 py-1 text-xs rounded ${\n                    visitPacketItems.has(skill.id)\n                      ? 'text-red-600 hover:bg-red-50'\n                      : 'text-gray-700 hover:bg-gray-100'\n                  }`}\n                  role=\"menuitem\"\n                >\n                  {visitPacketItems.has(skill.id) ? 'Remove from Visit Packet' : 'Add to Visit Packet'}\n                </button>\n                <button className=\"w-full text-left px-2 py-1 text-xs text-red-600 hover:bg-red-50 rounded\" role=\"menuitem\">\n                  Delete\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Date Picker Modal */}\n        {showDatePicker && (\n          <div \n            className=\"fixed inset-0 bg-gray-600 bg-opacity-50 z-50 flex items-center justify-center\"\n            role=\"dialog\"\n            aria-modal=\"true\"\n            aria-labelledby=\"date-picker-title\"\n          >\n            <div className=\"bg-white rounded-lg p-4 max-w-sm w-full mx-4\">\n              <h6 id=\"date-picker-title\" className=\"text-sm font-medium text-gray-900 mb-3\">When did you observe this skill?</h6>\n              <input\n                type=\"date\"\n                value={selectedDate}\n                onChange={(e) => setSelectedDate(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                aria-label=\"Select observation date\"\n              />\n              <div className=\"flex justify-end space-x-2 mt-4\">\n                <button\n                  onClick={() => setShowDatePicker(false)}\n                  className=\"px-3 py-1 text-sm text-gray-700 bg-gray-100 border border-gray-300 rounded hover:bg-gray-200\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleDateSave}\n                  className=\"px-3 py-1 text-sm text-white bg-blue-600 border border-transparent rounded hover:bg-blue-700\"\n                >\n                  Save\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const handleViewSkillHistory = (skill: any) => {\n    setSelectedSkillForHistory(skill);\n    setShowSkillHistory(true);\n  };\n\n  const handleAddNote = () => {\n    if (!newNoteText.trim() || !selectedSkillForHistory) return;\n    \n    // TODO: Add note to database\n    console.log('Adding note to skill:', selectedSkillForHistory.id, newNoteText);\n    setNewNoteText('');\n    setShowAddNoteForm(false);\n    // TODO: Show toast: \"Note added\"\n  };\n\n  const handleEditLastEntry = () => {\n    if (!selectedSkillForHistory) return;\n    \n    // TODO: Open edit form for last status change\n    console.log('Editing last entry for skill:', selectedSkillForHistory.id);\n    // TODO: Show edit modal\n  };\n\n  // Care Ideas panel state\n  const [careIdeasEnvironment, setCareIdeasEnvironment] = useState<string[]>(['home']);\n  const [careIdeasSupports, setCareIdeasSupports] = useState<string[]>([]);\n  const [careIdeasTimeAvailable, setCareIdeasTimeAvailable] = useState<string>('10-15 min');\n\n  // Sample care ideas data\n  const careIdeasData: Record<string, Array<{\n    id: string;\n    title: string;\n    goalTags: string[];\n    levelTag: 'Suggested now' | 'Stretch' | 'Foundations';\n    materials: string[];\n    steps: string[];\n    adaptations: string[];\n    safetyNote?: string;\n    environment: string[];\n    supports: string[];\n    timeRequired: string;\n  }>> = {\n    'motor': [\n      {\n        id: 'motor-1',\n        title: 'Tummy-time with bolster',\n        goalTags: ['Gross motor', 'Core strength'],\n        levelTag: 'Suggested now',\n        materials: ['Firm pillow or bolster', 'Favorite toys'],\n        steps: [\n          'Place bolster under child\\'s chest for support',\n          'Position interesting toys just out of reach',\n          'Encourage reaching and stretching movements',\n          'Gradually increase time spent in position'\n        ],\n        adaptations: ['Use visual markers', 'Hand-over-hand support'],\n        safetyNote: 'Supervise closely, ensure safe surface',\n        environment: ['home', 'therapy'],\n        supports: ['visuals', 'hand-over-hand'],\n        timeRequired: '5 min'\n      },\n      {\n        id: 'motor-2',\n        title: 'Cruising along couch',\n        goalTags: ['Gross motor', 'Balance'],\n        levelTag: 'Suggested now',\n        materials: ['Stable furniture', 'Soft landing area'],\n        steps: [\n          'Clear safe path along furniture edge',\n          'Place favorite toys at intervals',\n          'Encourage side-stepping while holding on',\n          'Celebrate each step taken'\n        ],\n        adaptations: ['Use visual markers', 'Provide hand support'],\n        safetyNote: 'Ensure furniture is stable, supervise closely',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '10-15 min'\n      },\n      {\n        id: 'motor-3',\n        title: 'Stack 2-3 blocks',\n        goalTags: ['Fine motor', 'Precision'],\n        levelTag: 'Stretch',\n        materials: ['Large, lightweight blocks'],\n        steps: [\n          'Start with just 2 blocks',\n          'Model stacking action slowly',\n          'Encourage imitation and practice',\n          'Gradually increase to 3 blocks'\n        ],\n        adaptations: ['Larger blocks', 'Non-slip base'],\n        safetyNote: 'Use soft blocks, supervise play',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '5 min'\n      },\n      {\n        id: 'motor-4',\n        title: 'Large-bead threading',\n        goalTags: ['Fine motor', 'Coordination'],\n        levelTag: 'Stretch',\n        materials: ['Large wooden beads', 'Thick string'],\n        steps: [\n          'Demonstrate threading motion',\n          'Start with just a few beads',\n          'Practice hand-eye coordination',\n          'Celebrate each successful thread'\n        ],\n        adaptations: ['Larger beads', 'Stiffer string'],\n        safetyNote: 'Supervise closely, avoid small parts',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '10 min'\n      },\n      {\n        id: 'motor-5',\n        title: 'Two-hand carry',\n        goalTags: ['Fine motor', 'Bilateral coordination'],\n        levelTag: 'Foundations',\n        materials: ['Various sized containers', 'Toys'],\n        steps: [\n          'Start with small, lightweight items',\n          'Encourage using both hands together',\n          'Practice carrying different objects',\n          'Build up to larger containers'\n        ],\n        adaptations: ['Larger handles', 'Non-slip grips'],\n        safetyNote: 'Ensure items are safe to carry',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '5 min'\n      }\n    ],\n    'communication': [\n      {\n        id: 'comm-1',\n        title: 'Choice-making with pictures',\n        goalTags: ['Receptive', 'Understanding'],\n        levelTag: 'Suggested now',\n        materials: ['Picture cards', 'Favorite items'],\n        steps: [\n          'Show 2-3 picture options',\n          'Ask \"Which one do you want?\"',\n          'Wait for response (point, reach, or vocalize)',\n          'Provide chosen item immediately'\n        ],\n        adaptations: ['Larger pictures', 'Real objects'],\n        safetyNote: 'Keep choices simple and clear',\n        environment: ['home', 'school'],\n        supports: ['visuals', 'aac'],\n        timeRequired: '5 min'\n      },\n      {\n        id: 'comm-2',\n        title: 'Label-and-point during routines',\n        goalTags: ['Expressive', 'Vocabulary'],\n        levelTag: 'Suggested now',\n        materials: ['Daily routine items', 'Picture schedule'],\n        steps: [\n          'Point to items during daily activities',\n          'Say the name clearly and wait',\n          'Encourage child to repeat or point',\n          'Use consistent labels for same items'\n        ],\n        adaptations: ['Picture schedule', 'Visual cues'],\n        safetyNote: 'Keep routines predictable and positive',\n        environment: ['home', 'school'],\n        supports: ['visuals'],\n        timeRequired: '10-15 min'\n      },\n      {\n        id: 'comm-3',\n        title: '\"One-step helper\" games',\n        goalTags: ['Receptive', 'Following directions'],\n        levelTag: 'Stretch',\n        materials: ['Simple household tasks', 'Clear instructions'],\n        steps: [\n          'Give one simple instruction at a time',\n          'Use gestures and visual cues',\n          'Model the action if needed',\n          'Celebrate completion of each step'\n        ],\n        adaptations: ['Visual instructions', 'Hand-over-hand'],\n        safetyNote: 'Choose safe, age-appropriate tasks',\n        environment: ['home', 'school'],\n        supports: ['visuals', 'hand-over-hand'],\n        timeRequired: '10 min'\n      },\n      {\n        id: 'comm-4',\n        title: 'Echoic practice with favorite words',\n        goalTags: ['Expressive', 'Imitation'],\n        levelTag: 'Stretch',\n        materials: ['Favorite toys', 'Books', 'Daily items'],\n        steps: [\n          'Say favorite words clearly and slowly',\n          'Wait for child to attempt imitation',\n          'Accept any approximation of the word',\n          'Provide positive reinforcement'\n        ],\n        adaptations: ['Slower speech', 'Visual cues'],\n        safetyNote: 'Keep practice fun and low-pressure',\n        environment: ['home', 'therapy'],\n        supports: ['visuals'],\n        timeRequired: '5 min'\n      }\n    ],\n    'social-emotional': [\n      {\n        id: 'social-1',\n        title: 'Peekaboo turn-taking',\n        goalTags: ['Interaction', 'Social games'],\n        levelTag: 'Suggested now',\n        materials: ['Blanket', 'Favorite toy', 'Mirror'],\n        steps: [\n          'Play simple peekaboo games',\n          'Take turns hiding and revealing',\n          'Encourage child to initiate hiding',\n          'Use different hiding spots'\n        ],\n        adaptations: ['Visual cues', 'Slower pace'],\n        safetyNote: 'Keep game fun and not scary',\n        environment: ['home', 'therapy'],\n        supports: ['visuals'],\n        timeRequired: '10 min'\n      },\n      {\n        id: 'social-2',\n        title: '\"Show and share\" box',\n        goalTags: ['Interaction', 'Sharing'],\n        levelTag: 'Suggested now',\n        materials: ['Special box', 'Favorite items'],\n        steps: [\n          'Create a special sharing box',\n          'Encourage child to show items to others',\n          'Practice sharing and taking turns',\n          'Celebrate sharing behaviors'\n        ],\n        adaptations: ['Visual schedule', 'Picture cues'],\n        safetyNote: 'Ensure items are safe to share',\n        environment: ['home', 'school'],\n        supports: ['visuals'],\n        timeRequired: '15 min'\n      },\n      {\n        id: 'social-3',\n        title: 'Visual schedule for transitions',\n        goalTags: ['Regulation', 'Predictability'],\n        levelTag: 'Stretch',\n        materials: ['Picture schedule', 'Timer', 'Transition items'],\n        steps: [\n          'Create simple picture schedule',\n          'Show upcoming transitions',\n          'Use timer for countdown',\n          'Provide transition object if needed'\n        ],\n        adaptations: ['Larger pictures', 'Simple steps'],\n        safetyNote: 'Keep transitions smooth and predictable',\n        environment: ['home', 'school'],\n        supports: ['visuals', 'timer'],\n        timeRequired: '5 min'\n      },\n      {\n        id: 'social-4',\n        title: 'Emotion faces matching',\n        goalTags: ['Regulation', 'Emotional awareness'],\n        levelTag: 'Stretch',\n        materials: ['Emotion cards', 'Mirror', 'Simple faces'],\n        steps: [\n          'Show simple emotion faces',\n          'Model making the same face',\n          'Practice in front of mirror',\n          'Connect emotions to situations'\n        ],\n        adaptations: ['Larger faces', 'Simple emotions'],\n        safetyNote: 'Start with basic emotions only',\n        environment: ['home', 'therapy'],\n        supports: ['visuals'],\n        timeRequired: '10 min'\n      }\n    ],\n    'cognitive-play': [\n      {\n        id: 'cog-1',\n        title: 'In-out games',\n        goalTags: ['Early Play', 'Exploration'],\n        levelTag: 'Suggested now',\n        materials: ['Containers', 'Various objects', 'Toys'],\n        steps: [\n          'Demonstrate putting items in and out',\n          'Practice with different containers',\n          'Encourage exploration and experimentation',\n          'Celebrate discovery and learning'\n        ],\n        adaptations: ['Larger containers', 'Simple objects'],\n        safetyNote: 'Ensure objects are safe and age-appropriate',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '10 min'\n      },\n      {\n        id: 'cog-2',\n        title: 'Cause-effect button toys',\n        goalTags: ['Problem-Solving', 'Cause-effect'],\n        levelTag: 'Suggested now',\n        materials: ['Simple cause-effect toys', 'Buttons'],\n        steps: [\n          'Show how pressing button creates effect',\n          'Encourage child to press buttons',\n          'Practice different buttons and effects',\n          'Celebrate cause-effect understanding'\n        ],\n        adaptations: ['Larger buttons', 'Clear effects'],\n        safetyNote: 'Choose toys with clear, safe effects',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '10 min'\n      },\n      {\n        id: 'cog-3',\n        title: 'Shape sorter',\n        goalTags: ['Problem-Solving', 'Matching'],\n        levelTag: 'Stretch',\n        materials: ['Simple shape sorter', 'Basic shapes'],\n        steps: [\n          'Start with just 2-3 simple shapes',\n          'Demonstrate matching and sorting',\n          'Practice with hand-over-hand support',\n          'Gradually increase difficulty'\n        ],\n        adaptations: ['Larger shapes', 'Simple designs'],\n        safetyNote: 'Supervise closely, ensure pieces are safe',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand', 'visuals'],\n        timeRequired: '15 min'\n      },\n      {\n        id: 'cog-4',\n        title: 'Pretend tea party',\n        goalTags: ['Pretend', 'Imaginative play'],\n        levelTag: 'Stretch',\n        materials: ['Toy cups', 'Plates', 'Pretend food'],\n        steps: [\n          'Model pretend actions (drinking, eating)',\n          'Encourage imitation of pretend behaviors',\n          'Practice simple pretend scenarios',\n          'Celebrate imaginative play'\n        ],\n        adaptations: ['Realistic toys', 'Simple scenarios'],\n        safetyNote: 'Ensure toys are safe and age-appropriate',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '15 min'\n      }\n    ],\n    'adaptive-self-help': [\n      {\n        id: 'adaptive-1',\n        title: 'Open-cup sips with tiny amounts',\n        goalTags: ['Feeding', 'Drinking skills'],\n        levelTag: 'Suggested now',\n        materials: ['Small open cup', 'Tiny amounts of liquid'],\n        steps: [\n          'Start with very small amounts',\n          'Demonstrate sipping motion',\n          'Practice with hand-over-hand support',\n          'Gradually increase amount'\n        ],\n        adaptations: ['Smaller cup', 'Thicker liquids'],\n        safetyNote: 'Supervise closely, use safe liquids',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '5 min'\n      },\n      {\n        id: 'adaptive-2',\n        title: 'Spoon practice with thick foods',\n        goalTags: ['Feeding', 'Self-feeding'],\n        levelTag: 'Suggested now',\n        materials: ['Child-sized spoon', 'Thick foods (yogurt, pudding)'],\n        steps: [\n          'Demonstrate proper spoon grip',\n          'Practice scooping thick foods',\n          'Encourage self-feeding attempts',\n          'Provide positive reinforcement'\n        ],\n        adaptations: ['Adaptive spoon', 'Non-slip bowl'],\n        safetyNote: 'Supervise eating, choose safe foods',\n        environment: ['home', 'therapy'],\n        supports: ['adaptive utensils'],\n        timeRequired: '15 min'\n      },\n      {\n        id: 'adaptive-3',\n        title: 'Sock-off game',\n        goalTags: ['Dressing', 'Undressing skills'],\n        levelTag: 'Stretch',\n        materials: ['Loose socks', 'Comfortable clothing'],\n        steps: [\n          'Start with loose, easy-to-remove socks',\n          'Demonstrate pulling motion',\n          'Practice with hand-over-hand support',\n          'Celebrate each successful removal'\n        ],\n        adaptations: ['Larger socks', 'Loose fit'],\n        safetyNote: 'Ensure socks are not too tight',\n        environment: ['home', 'therapy'],\n        supports: ['hand-over-hand'],\n        timeRequired: '5 min'\n      },\n      {\n        id: 'adaptive-4',\n        title: 'Hand-wash 3-step routine',\n        goalTags: ['Hygiene', 'Self-care routine'],\n        levelTag: 'Stretch',\n        materials: ['Sink', 'Soap', 'Towel', 'Step stool'],\n        steps: [\n          'Turn on water (with help)',\n          'Apply soap and rub hands',\n          'Rinse and dry hands'\n        ],\n        adaptations: ['Step stool', 'Visual routine'],\n        safetyNote: 'Supervise water temperature and usage',\n        environment: ['home', 'school'],\n        supports: ['visuals', 'hand-over-hand'],\n        timeRequired: '10 min'\n      }\n    ]\n  };\n\n  // Overview metrics helper functions\n  const getTotalObservedSkills = () => {\n    // TODO: Calculate total observed skills based on overviewDateRange\n    return 25;\n  };\n\n  const getTotalEmergingSkills = () => {\n    // TODO: Calculate total emerging skills based on overviewDateRange\n    return 8;\n  };\n\n  const getNewSkillsThisPeriod = () => {\n    // TODO: Calculate new skills in the last 30 days\n    return 3;\n  };\n\n  const getPracticeStreak = () => {\n    // TODO: Calculate practice streak (days with milestone updates)\n    return 7;\n  };\n\n  const getFilteredCareIdeas = () => {\n    const domain = selectedDomainForDetail;\n    if (!domain || !careIdeasData[domain]) return [];\n    \n    let ideas = careIdeasData[domain];\n    \n    // Filter by environment\n    if (careIdeasEnvironment.length > 0) {\n      ideas = ideas.filter(idea => \n        idea.environment.some(env => careIdeasEnvironment.includes(env))\n      );\n    }\n    \n    // Filter by supports\n    if (careIdeasSupports.length > 0) {\n      ideas = ideas.filter(idea => \n        idea.supports.some(support => careIdeasSupports.includes(support))\n      );\n    }\n    \n    // Filter by time available\n    ideas = ideas.filter(idea => {\n      if (careIdeasTimeAvailable === '5 min') return idea.timeRequired === '5-10 min';\n      if (careIdeasTimeAvailable === '10-15 min') return idea.timeRequired === '10-15 min';\n      if (careIdeasTimeAvailable === '20+ min') return idea.timeRequired === '15-20 min';\n      return true;\n    });\n    \n    // Content logic: prioritize based on skill statuses\n    const { suggested, stretchNext, foundations } = getFilteredAndGroupedSkills();\n    const notYetOrEmergingCount = suggested.filter(skill => \n      (skillStatuses[skill.id] === 'Not yet' || skillStatuses[skill.id] === 'Emerging')\n    ).length;\n    \n    // Show more \"Foundations\" ideas if >50% of \"Suggested now\" are Not yet\n    const shouldShowFoundations = notYetOrEmergingCount > suggested.length * 0.5;\n    \n    // Sort by priority: Suggested now > Stretch > Foundations\n    ideas.sort((a, b) => {\n      const priority = { 'Suggested now': 3, 'Stretch': 2, 'Foundations': 1 };\n      return priority[b.levelTag] - priority[a.levelTag];\n    });\n    \n    // Limit to 3-6 ideas\n    return ideas.slice(0, shouldShowFoundations ? 6 : 4);\n  };\n\n  // Progress Timeline state\n  const [progressTimeScope, setProgressTimeScope] = useState('30 days');\n  const [progressView, setProgressView] = useState<'By date' | 'By subdomain'>('By date');\n  const [progressCustomStartDate, setProgressCustomStartDate] = useState('');\n  const [progressCustomEndDate, setProgressCustomEndDate] = useState('');\n\n  // Sample progress data for demonstration\n  const progressData: Record<string, {\n    timeline: Array<{\n      date: string;\n      skill: string;\n      status: 'Observed' | 'Emerging';\n    }>;\n    subdomains: Record<string, {\n      observed: number;\n      emerging: number;\n    }>;\n  }> = {\n    'motor': {\n      timeline: [\n        { date: '2024-03-15', skill: 'Rolls both ways', status: 'Observed' },\n        { date: '2024-03-12', skill: 'Sits briefly without support', status: 'Observed' },\n        { date: '2024-03-08', skill: 'Pulls to stand', status: 'Emerging' },\n        { date: '2024-03-05', skill: 'Pincer grasp', status: 'Observed' },\n        { date: '2024-02-28', skill: 'Stacks 2 blocks', status: 'Emerging' }\n      ],\n      subdomains: {\n        'gross': { observed: 3, emerging: 2 },\n        'fine': { observed: 1, emerging: 1 }\n      }\n    },\n    'communication': {\n      timeline: [\n        { date: '2024-03-12', skill: 'Uses 5-10 words', status: 'Observed' },\n        { date: '2024-03-08', skill: 'Follows 1-step directions', status: 'Observed' },\n        { date: '2024-03-03', skill: 'Points to request', status: 'Emerging' }\n      ],\n      subdomains: {\n        'expressive': { observed: 1, emerging: 0 },\n        'receptive': { observed: 1, emerging: 1 }\n      }\n    },\n    'social-emotional': {\n      timeline: [\n        { date: '2024-03-10', skill: 'Social smile', status: 'Observed' },\n        { date: '2024-03-05', skill: 'Joint attention', status: 'Emerging' }\n      ],\n      subdomains: {\n        'interaction': { observed: 1, emerging: 1 },\n        'regulation': { observed: 0, emerging: 0 }\n      }\n    }\n  };\n\n  const getProgressDataForDomain = () => {\n    const domain = selectedDomainForDetail;\n    if (!domain || !progressData[domain]) return null;\n    \n    const data = progressData[domain];\n    let filteredTimeline = [...data.timeline];\n    \n    // Filter by time scope\n    const endDate = new Date();\n    let startDate = new Date();\n    \n    switch (progressTimeScope) {\n      case '30 days':\n        startDate.setDate(endDate.getDate() - 30);\n        break;\n      case '90 days':\n        startDate.setDate(endDate.getDate() - 90);\n        break;\n      case 'Custom':\n        if (progressCustomStartDate && progressCustomEndDate) {\n          startDate = new Date(progressCustomStartDate);\n          const customEnd = new Date(progressCustomEndDate);\n          filteredTimeline = filteredTimeline.filter(item => {\n            const itemDate = new Date(item.date);\n            return itemDate >= startDate && itemDate <= customEnd;\n          });\n          return { timeline: filteredTimeline, subdomains: data.subdomains };\n        }\n        break;\n    }\n    \n    filteredTimeline = filteredTimeline.filter(item => {\n      const itemDate = new Date(item.date);\n      return itemDate >= startDate && itemDate <= endDate;\n    });\n    \n    return { timeline: filteredTimeline, subdomains: data.subdomains };\n  };\n\n  const handleExportDomainProgress = () => {\n    // TODO: Export domain progress to PDF\n    console.log('Exporting domain progress to PDF');\n    // TODO: Show toast: \"Export started\"\n  };\n\n  const handleAddToVisitPacket = (itemId: string, itemType: string = 'skill') => {\n    setVisitPacketItems(prev => new Set(Array.from(prev).concat(itemId)));\n    showToastMessage(`${itemType} added to Visit Packet`);\n  };\n\n  const handleRemoveFromVisitPacket = (itemId: string, itemType: string = 'skill') => {\n    setVisitPacketItems(prev => {\n      const newSet = new Set(Array.from(prev));\n      newSet.delete(itemId);\n      return newSet;\n    });\n    showToastMessage(`${itemType} removed from Visit Packet`);\n  };\n\n  const handleAddSelectedToVisitPacket = () => {\n    if (selectedSkills.length === 0) return;\n    \n    setVisitPacketItems(prev => new Set(Array.from(prev).concat(selectedSkills)));\n    showToastMessage(`${selectedSkills.length} skill${selectedSkills.length !== 1 ? 's' : ''} added to Visit Packet`);\n    setSelectedSkills([]);\n  };\n\n  // Export domain report modal state\n  const [showExportReportModal, setShowExportReportModal] = useState(false);\n  const [exportReportOptions, setExportReportOptions] = useState({\n    dateRange: {\n      start: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0], // 30 days ago\n      end: new Date().toISOString().split('T')[0]\n    },\n    include: {\n      observed: true,\n      emerging: true,\n      notes: true\n    },\n    sections: {\n      skillsList: true,\n      careIdeasSnapshot: true,\n      timelineChart: true\n    }\n  });\n  const [exportReportStatus, setExportReportStatus] = useState<'options' | 'generating' | 'ready'>('options');\n\n  // Visit Packet state\n  const [visitPacketItems, setVisitPacketItems] = useState<Set<string>>(new Set());\n  const [showToast, setShowToast] = useState(false);\n  const [toastMessage, setToastMessage] = useState('');\n  const [toastType, setToastType] = useState<'success' | 'info' | 'error'>('success');\n\n  const handleExportDomainReport = () => {\n    // TODO: Generate domain report PDF\n    console.log('Generating domain report with options:', exportReportOptions);\n    setExportReportStatus('generating');\n    \n    // Simulate PDF generation\n    setTimeout(() => {\n      setExportReportStatus('ready');\n    }, 2000);\n  };\n\n  const handleSaveToVisitPacket = () => {\n    // TODO: Save report to visit packet\n    console.log('Saving report to visit packet');\n    // TODO: Show toast: \"Report saved to visit packet\"\n  };\n\n  const showToastMessage = (message: string, type: 'success' | 'info' | 'error' = 'success') => {\n    setToastMessage(message);\n    setToastType(type);\n    setShowToast(true);\n    setTimeout(() => setShowToast(false), 3000);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-20 py-4\">\n            <div>\n              <h1 className=\"text-2xl font-semibold text-gray-900\">\n                Growth & Milestones\n              </h1>\n              <p className=\"text-sm text-gray-500 mt-1\">\n                Track observed skills across domains at your child's pace.\n              </p>\n            </div>\n            \n            <div className=\"flex items-center space-x-3\">\n              {/* Info Icon */}\n              <div className=\"relative group\">\n                <button className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\">\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </button>\n                {/* Tooltip */}\n                <div className=\"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10\">\n                  Not a diagnostic tool\n                  <div className=\"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"></div>\n                </div>\n              </div>\n\n              {/* AI Suggestions Button */}\n              <button \n                onClick={() => setShowAISuggestionsModal(true)}\n                className=\"px-3 py-2 text-xs font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\n                aria-label=\"Get AI suggestions for next skills\"\n              >\n                Suggest next skills (AI)\n              </button>\n\n              {/* Secondary Action */}\n              <button\n                onClick={() => setShowReportModal(true)}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Generate Milestone Report\n              </button>\n\n              {/* Primary Action */}\n              <button \n                onClick={handleAddSkill}\n                className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Add Skill\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Growth Sub-navigation */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <nav className=\"flex space-x-8\" aria-label=\"Growth & Milestones navigation\">\n            <button\n              onClick={() => setActiveGrowthTab('domains')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeGrowthTab === 'domains'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n              aria-current={activeGrowthTab === 'domains' ? 'page' : undefined}\n            >\n              Domains\n            </button>\n            <button\n              onClick={() => setActiveGrowthTab('overview')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeGrowthTab === 'overview'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n              aria-current={activeGrowthTab === 'overview' ? 'page' : undefined}\n            >\n              Overview\n            </button>\n            <button\n              onClick={() => setActiveGrowthTab('reports')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeGrowthTab === 'reports'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n              aria-current={activeGrowthTab === 'reports' ? 'page' : undefined}\n            >\n              Reports\n            </button>\n            <button\n              onClick={() => setActiveGrowthTab('ideas')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                activeGrowthTab === 'ideas'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n              aria-current={activeGrowthTab === 'ideas' ? 'page' : undefined}\n            >\n              Ideas Library\n            </button>\n          </nav>\n        </div>\n      </div>\n\n      {/* Filter Bar */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0 sm:space-x-6\">\n            {/* Age Selector */}\n            <div className=\"flex items-center space-x-3\">\n              <label className=\"text-sm font-medium text-gray-700\">Age:</label>\n              {useDevelopmentalLevel ? (\n                <select\n                  value={developmentalLevel}\n                  onChange={(e) => setDevelopmentalLevel(e.target.value)}\n                  className=\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"Early\">Early (0-12m)</option>\n                  <option value=\"Toddler\">Toddler (12-36m)</option>\n                  <option value=\"Preschool\">Preschool (3-5y)</option>\n                  <option value=\"School-age\">School-age (5+)</option>\n                </select>\n              ) : (\n                <select\n                  value={chronologicalAge}\n                  onChange={(e) => setChronologicalAge(e.target.value)}\n                  className=\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"6 months\">6 months</option>\n                  <option value=\"12 months\">12 months</option>\n                  <option value=\"18 months\">18 months</option>\n                  <option value=\"24 months\">24 months</option>\n                  <option value=\"3 years\">3 years</option>\n                  <option value=\"4 years\">4 years</option>\n                  <option value=\"5 years\">5 years</option>\n                  <option value=\"6 years\">6 years</option>\n                </select>\n              )}\n            </div>\n\n            {/* Developmental Level Toggle */}\n            <div className=\"flex items-center space-x-3\">\n              <label className=\"text-sm font-medium text-gray-700\">Use developmental level instead:</label>\n              <button\n                onClick={() => setUseDevelopmentalLevel(!useDevelopmentalLevel)}\n                className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${\n                  useDevelopmentalLevel ? 'bg-blue-600' : 'bg-gray-200'\n                }`}\n              >\n                <span\n                  className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                    useDevelopmentalLevel ? 'translate-x-6' : 'translate-x-1'\n                  }`}\n                />\n              </button>\n            </div>\n\n            {/* Time Scope */}\n            <div className=\"flex items-center space-x-3\">\n              <label className=\"text-sm font-medium text-gray-700\">Time scope:</label>\n              <select\n                value={timeScope}\n                onChange={(e) => setTimeScope(e.target.value)}\n                className=\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"This week\">This week</option>\n                <option value=\"30 days\">30 days</option>\n                <option value=\"90 days\">90 days</option>\n                <option value=\"Custom\">Custom</option>\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Content based on active tab */}\n      {activeGrowthTab === 'domains' && (\n        <>\n          {/* Domain Tiles */}\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"lg:flex lg:space-x-8\">\n          {/* Main Content - Domain Tiles */}\n          <div className=\"lg:flex-1\">\n            {isLoading ? (\n              // Loading state - skeleton tiles\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\">\n                {[1, 2, 3, 4, 5].map((i) => (\n                  <DomainTileSkeleton key={i} />\n                ))}\n              </div>\n            ) : !hasMilestones ? (\n              // Empty state - no milestones yet\n              <div className=\"text-center py-12\">\n                <div className=\"mx-auto max-w-md\">\n                  <div className=\"text-gray-400 mb-6\">\n                    <svg className=\"mx-auto h-32 w-32\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                    </svg>\n                  </div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                    No milestones yet\n                  </h3>\n                  <p className=\"text-gray-500 mb-6\">\n                    Start by adding a skill you've noticed.\n                  </p>\n                  <button\n                    onClick={handleAddSkill}\n                    className=\"px-6 py-3 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    aria-label=\"Add your first skill\"\n                  >\n                    Add Skill\n                  </button>\n                </div>\n              </div>\n            ) : (\n              // Normal state - domain tiles\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\">\n                {domains.map((domain) => {\n                  const progressPercentage = (domain.observed / domain.suggested) * 100;\n                  const circumference = 2 * Math.PI * 18; // radius = 18\n                  const strokeDasharray = circumference;\n                  const strokeDashoffset = circumference - (progressPercentage / 100) * circumference;\n\n                  return (\n                    <div key={domain.id} className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow\" role=\"article\" aria-labelledby={`domain-${domain.id}-title`}>\n                      {/* Domain Header */}\n                      <div className=\"flex items-start justify-between mb-4\">\n                        <div className=\"flex items-center space-x-3\">\n                          <div className=\"text-3xl\" aria-hidden=\"true\">{domain.icon}</div>\n                          <div>\n                            <h3 id={`domain-${domain.id}-title`} className=\"text-lg font-semibold text-gray-900\">{domain.name}</h3>\n                            {domain.subtitle && (\n                              <p className=\"text-sm text-gray-500\">{domain.subtitle}</p>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* Progress Ring */}\n                      <div className=\"flex items-center justify-center mb-4\">\n                        <div className=\"relative\" role=\"progressbar\" aria-valuenow={domain.observed} aria-valuemin={0} aria-valuemax={domain.suggested} aria-label={`${domain.name} progress: ${domain.observed} of ${domain.suggested} skills observed`}>\n                          <svg className=\"w-16 h-16 transform -rotate-90\" viewBox=\"0 0 36 36\" aria-hidden=\"true\">\n                            {/* Background circle */}\n                            <circle\n                              cx=\"18\"\n                              cy=\"18\"\n                              r=\"18\"\n                              fill=\"none\"\n                              stroke=\"#e5e7eb\"\n                              strokeWidth=\"3\"\n                            />\n                            {/* Progress circle */}\n                            <circle\n                              cx=\"18\"\n                              cy=\"18\"\n                              r=\"18\"\n                              fill=\"none\"\n                              stroke=\"#3b82f6\"\n                              strokeWidth=\"3\"\n                              strokeDasharray={strokeDasharray}\n                              strokeDashoffset={strokeDashoffset}\n                              strokeLinecap=\"round\"\n                              className=\"transition-all duration-300\"\n                            />\n                          </svg>\n                          <div className=\"absolute inset-0 flex items-center justify-center\">\n                            <span className=\"text-sm font-medium text-gray-900\">\n                              {domain.observed}/{domain.suggested}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* Progress Text */}\n                      <p className=\"text-sm text-gray-600 text-center mb-4\">\n                        Observed {domain.observed} of {domain.suggested} suggested skills\n                      </p>\n\n                      {/* Last Skill Info */}\n                      <div className=\"text-center mb-4\">\n                        {domain.lastSkill ? (\n                          <p className=\"text-sm text-gray-500\">\n                            Last new skill: <span className=\"font-medium text-gray-700\">{domain.lastSkill}</span> on {domain.lastDate}\n                          </p>\n                        ) : (\n                          <p className=\"text-sm text-gray-500\">No skills yet</p>\n                        )}\n                      </div>\n\n                      {/* CTA Button */}\n                      <button\n                        onClick={() => handleOpenDomain(domain.id)}\n                        className=\"w-full px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\n                        aria-label={`Open ${domain.name} domain details`}\n                      >\n                        Open\n                      </button>\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n\n          {/* Right Gutter - Future Care Ideas Panel (5B) */}\n          <div className=\"hidden xl:block xl:w-80 mt-8 lg:mt-0\">\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Care Ideas</h3>\n              <div className=\"text-center py-8\">\n                <div className=\"text-gray-400 mb-4\">\n                  <svg className=\"mx-auto h-16 w-16\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n                  </svg>\n                </div>\n                <p className=\"text-sm text-gray-500 mb-2\">Coming in Phase 5B</p>\n                <p className=\"text-xs text-gray-400\">Personalized care recommendations and strategies</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Mini Milestones Journal Section */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n          {/* Journal Header */}\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">Recent milestone entries</h2>\n              <button\n                onClick={handleViewAllMilestones}\n                className=\"text-sm font-medium text-blue-600 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"View all milestone entries\"\n              >\n                View all\n              </button>\n            </div>\n          </div>\n\n          {/* Journal Entries */}\n          <div className=\"divide-y divide-gray-200\">\n            {isLoading ? (\n              // Loading state - skeleton entries\n              Array.from({ length: 5 }).map((_, i) => (\n                <JournalEntrySkeleton key={i} />\n              ))\n            ) : !hasMilestones ? (\n              // Empty state - no milestone entries\n              <div className=\"px-6 py-8 text-center\">\n                <div className=\"text-gray-400 mb-4\">\n                  <svg className=\"mx-auto h-16 w-16\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                  </svg>\n                </div>\n                <p className=\"text-gray-500 mb-4\">No milestone entries yet</p>\n                <button\n                  onClick={handleAddSkill}\n                  className=\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  aria-label=\"Add your first milestone entry\"\n                >\n                  Add Skill\n                </button>\n              </div>\n            ) : (\n              // Normal state - milestone entries\n              milestoneEntries.slice(0, 10).map((entry) => (\n                <div key={entry.id} className=\"px-6 py-4 hover:bg-gray-50 transition-colors\" role=\"article\" aria-labelledby={`milestone-${entry.id}-title`}>\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"text-xl\" aria-hidden=\"true\">{entry.domainIcon}</div>\n                      <div>\n                        <h3 id={`milestone-${entry.id}-title`} className=\"text-sm font-medium text-gray-900\">{entry.skillName}</h3>\n                        <div className=\"flex items-center space-x-2 mt-1\">\n                          <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${getStatusBadgeColor(entry.status)}`} role=\"status\" aria-label={`Status: ${entry.status}`}>\n                            {entry.status}\n                          </span>\n                          <span className=\"text-xs text-gray-500\">\n                            {entry.date} ‚Ä¢ {getContextLabel(entry.context)}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                    <button\n                      onClick={() => handleViewMilestone(entry.id)}\n                      className=\"text-sm font-medium text-blue-600 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      aria-label={`View details for ${entry.skillName}`}\n                    >\n                      View\n                    </button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Page Footer with Settings Link */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"border-t border-gray-200 pt-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"text-sm text-gray-500\">\n              CareGene ‚Ä¢ Growth & Development Tracking\n            </div>\n            <button\n              onClick={() => setShowSettingsModal(true)}\n              className=\"text-sm font-medium text-blue-600 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              aria-label=\"Open milestone settings\"\n            >\n              Milestone settings\n            </button>\n          </div>\n        </div>\n      </div>\n        </>\n      )}\n\n      {/* Overview Tab Content */}\n      {activeGrowthTab === 'overview' && (\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          {/* Metrics Strip */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">Cross-Domain Progress</h2>\n              <div className=\"flex items-center space-x-3\">\n                <label className=\"text-sm font-medium text-gray-700\">Date range:</label>\n                <select\n                  value={overviewDateRange}\n                  onChange={(e) => setOverviewDateRange(e.target.value)}\n                  className=\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"This week\">This week</option>\n                  <option value=\"30 days\">30 days</option>\n                  <option value=\"90 days\">90 days</option>\n                  <option value=\"Custom\">Custom</option>\n                </select>\n                \n                {/* AI Placeholder */}\n                <button\n                  disabled\n                  title=\"Coming soon\"\n                  className=\"px-3 py-1.5 text-sm font-medium text-gray-400 bg-gray-100 border border-gray-200 rounded-md cursor-not-allowed\"\n                >\n                  AI: suggest next 5 skills focus\n                </button>\n              </div>\n            </div>\n            \n            {/* Metrics Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n              {/* Observed Skills Card */}\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-blue-600\">Observed Skills</p>\n                    <p className=\"text-2xl font-bold text-blue-900\">{getTotalObservedSkills()}</p>\n                    <p className=\"text-xs text-blue-700\">Total in range</p>\n                  </div>\n                  <div className=\"text-blue-400\">\n                    <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n\n              {/* Emerging Skills Card */}\n              <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-yellow-600\">Emerging Skills</p>\n                    <p className=\"text-2xl font-bold text-yellow-900\">{getTotalEmergingSkills()}</p>\n                    <p className=\"text-xs text-yellow-700\">In development</p>\n                  </div>\n                  <div className=\"text-yellow-400\">\n                    <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n\n              {/* New This Period Card */}\n              <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-green-600\">New This Period</p>\n                    <p className=\"text-2xl font-bold text-green-900\">{getNewSkillsThisPeriod()}</p>\n                    <p className=\"text-xs text-green-700\">Last 30 days</p>\n                  </div>\n                  <div className=\"text-green-400\">\n                    <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n\n              {/* Practice Streak Card */}\n              <div className=\"bg-purple-50 border border-purple-200 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-purple-600\">Practice Streak</p>\n                    <p className=\"text-2xl font-bold text-purple-900\">{getPracticeStreak()}</p>\n                    <p className=\"text-xs text-purple-700\">Days with updates</p>\n                  </div>\n                  <div className=\"text-purple-400\">\n                    <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Domain Heatmap */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Domain Progress Heatmap</h3>\n              <div className=\"flex items-center space-x-3\">\n                <label className=\"text-sm font-medium text-gray-700\">Time unit:</label>\n                <select\n                  value={overviewDateRange === 'This week' ? 'weeks' : 'months'}\n                  onChange={(e) => setOverviewDateRange(e.target.value === 'weeks' ? 'This week' : '30 days')}\n                  className=\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"weeks\">Weeks (last 12)</option>\n                  <option value=\"months\">Months (last 6)</option>\n                </select>\n              </div>\n            </div>\n            <div className=\"overflow-x-auto\">\n              <div className=\"min-w-max\">\n                <div className=\"grid gap-1\" style={{ gridTemplateColumns: 'repeat(13, minmax(0, 1fr))' }}>\n                  {/* Header row */}\n                  <div className=\"text-xs text-gray-500 text-center py-2\">Domain</div>\n                  {Array.from({ length: 12 }, (_, i) => (\n                    <div key={i} className=\"text-xs text-gray-500 text-center py-2\">\n                      W{i + 1}\n                    </div>\n                  ))}\n                  \n                  {/* Domain rows */}\n                  {['Motor', 'Communication', 'Social-Emotional', 'Cognitive/Play', 'Adaptive/Self-Help'].map((domain) => (\n                    <div key={domain} className=\"contents\">\n                      <div className=\"text-sm font-medium text-gray-700 py-2\">{domain}</div>\n                      {Array.from({ length: 12 }, (_, i) => {\n                        const count = Math.floor(Math.random() * 6); // Mock data\n                        const intensity = Math.min(count / 5, 1);\n                        return (\n                          <button\n                            key={i}\n                            onClick={() => {/* TODO: Open filtered entries drawer */}}\n                            className={`w-8 h-8 rounded text-xs font-medium text-white transition-colors hover:ring-2 hover:ring-blue-300 ${\n                              count === 0 ? 'bg-gray-100 text-gray-400' :\n                              intensity < 0.3 ? 'bg-blue-200' :\n                              intensity < 0.6 ? 'bg-blue-400' :\n                              intensity < 0.8 ? 'bg-blue-600' : 'bg-blue-800'\n                            }`}\n                            title={`${count} skills observed in ${domain} - Week ${i + 1}`}\n                          >\n                            {count}\n                          </button>\n                        );\n                      })}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Cumulative Progress Chart */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Cumulative Progress</h3>\n            <div className=\"h-64 flex items-end justify-center space-x-2\">\n              {Array.from({ length: 12 }, (_, i) => {\n                const observed = Math.floor(Math.random() * 20) + 10;\n                const emerging = Math.floor(Math.random() * 15) + 5;\n                return (\n                  <div key={i} className=\"relative\">\n                    <div\n                      className=\"w-4 bg-blue-600 rounded-t transition-all duration-300 hover:bg-blue-700\"\n                      style={{ height: `${observed}px` }}\n                      title={`Week ${i + 1}: ${observed} observed, ${emerging} emerging`}\n                    />\n                    <div\n                      className=\"w-4 bg-yellow-400 rounded-t opacity-60\"\n                      style={{ height: `${emerging}px` }}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n            <div className=\"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\n              <p className=\"text-sm font-medium text-blue-900\">Hover over bars to see details</p>\n              <p className=\"text-sm text-blue-700\">Blue bars: Observed skills, Yellow bars: Emerging skills</p>\n            </div>\n          </div>\n\n          {/* Coverage by Domain Ladder */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Coverage by Domain</h3>\n            <div className=\"space-y-4\">\n              {[\n                { name: 'Motor', observedPercent: 75, emergingPercent: 15 },\n                { name: 'Communication', observedPercent: 60, emergingPercent: 25 },\n                { name: 'Social-Emotional', observedPercent: 80, emergingPercent: 10 },\n                { name: 'Cognitive/Play', observedPercent: 65, emergingPercent: 20 },\n                { name: 'Adaptive/Self-Help', observedPercent: 70, emergingPercent: 20 }\n              ].map((domain) => (\n                <div key={domain.name} className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm font-medium text-gray-700\">{domain.name}</span>\n                    <button\n                      onClick={() => {/* TODO: Open domain */}}\n                      className=\"text-sm text-blue-600 hover:text-blue-800 underline\"\n                    >\n                      Open domain\n                    </button>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-4\">\n                    <div className=\"flex h-4 rounded-full overflow-hidden\">\n                      <div\n                        className=\"bg-green-500 h-4 transition-all duration-300\"\n                        style={{ width: `${domain.observedPercent}%` }}\n                        title={`${domain.observedPercent}% observed`}\n                      />\n                      <div\n                        className=\"bg-yellow-500 h-4 transition-all duration-300\"\n                        style={{ width: `${domain.emergingPercent}%` }}\n                        title={`${domain.emergingPercent}% emerging`}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"flex justify-between text-xs text-gray-500\">\n                    <span>Observed: {domain.observedPercent}%</span>\n                    <span>Emerging: {domain.emergingPercent}%</span>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Subdomain Distribution Panel */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Subdomain Distribution</h3>\n              <div className=\"flex items-center space-x-3\">\n                <label className=\"text-sm font-medium text-gray-700\">View:</label>\n                <select\n                  defaultValue=\"counts\"\n                  className=\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"counts\">Counts</option>\n                  <option value=\"percentages\">Percentages</option>\n                </select>\n              </div>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {[\n                { name: 'Gross Motor', observed: 12, emerging: 3, observedPercent: 80, emergingPercent: 20 },\n                { name: 'Fine Motor', observed: 8, emerging: 4, observedPercent: 67, emergingPercent: 33 },\n                { name: 'Expressive Language', observed: 10, emerging: 5, observedPercent: 67, emergingPercent: 33 },\n                { name: 'Receptive Language', observed: 15, emerging: 2, observedPercent: 88, emergingPercent: 12 }\n              ].map((subdomain) => (\n                <div key={subdomain.name} className=\"space-y-2\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"font-medium text-gray-700\">{subdomain.name}</span>\n                    <span className=\"text-gray-500\">\n                      {subdomain.observed} observed, {subdomain.emerging} emerging\n                    </span>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-3\">\n                    <div className=\"flex h-3 rounded-full overflow-hidden\">\n                      <div\n                        className=\"bg-green-500 h-3 transition-all duration-300\"\n                        style={{ width: `${subdomain.observedPercent}%` }}\n                      />\n                      <div\n                        className=\"bg-yellow-500 h-3 transition-all duration-300\"\n                        style={{ width: `${subdomain.emergingPercent}%` }}\n                      />\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Skills Velocity Tile */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Skills Velocity</h3>\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"text-3xl font-bold text-gray-900\">3.2</div>\n              <div className=\"text-2xl text-green-500\">‚Üó</div>\n              <div className=\"text-sm text-gray-600\">\n                <p>New Observed skills per 30 days</p>\n                <p className=\"text-xs text-gray-500 mt-1\">Context and supports can influence pace</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Ideas Library Tab Content */}\n      {activeGrowthTab === 'ideas' && (\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          {/* Filter/Search Bar */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\n            <div className=\"space-y-4\">\n              {/* Search Box */}\n              <div className=\"flex items-center space-x-4\">\n                <div className=\"flex-1\">\n                  <div className=\"relative\">\n                    <input\n                      type=\"text\"\n                      placeholder=\"Search ideas...\"\n                      className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                    <svg className=\"absolute left-3 top-2.5 h-5 w-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 0 11-14 0 7 7 0 0114 0z\" />\n                    </svg>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-3\">\n                  <label className=\"text-sm font-medium text-gray-700\">Sort:</label>\n                  <select className=\"text-sm border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\">\n                    <option value=\"relevance\">Relevance</option>\n                    <option value=\"time\">Time needed</option>\n                    <option value=\"alphabetical\">A‚ÄìZ</option>\n                  </select>\n                  \n                  {/* AI Placeholder */}\n                  <button\n                    disabled\n                    title=\"Coming soon\"\n                    className=\"px-3 py-1.5 text-sm font-medium text-gray-400 bg-gray-100 border border-gray-200 rounded-md cursor-not-allowed\"\n                  >\n                    AI: build weekly plan\n                  </button>\n                </div>\n              </div>\n\n              {/* Filter Chips */}\n              <div className=\"flex flex-wrap gap-2\">\n                <button className=\"px-3 py-1.5 text-sm rounded-full border bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200\">\n                  Domain\n                  <svg className=\"ml-1 w-4 h-4 inline\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </button>\n                <button className=\"px-3 py-1.5 text-sm rounded-full border bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200\">\n                  Subdomain\n                  <svg className=\"ml-1 w-4 h-4 inline\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </button>\n                <button className=\"px-3 py-1.5 text-sm rounded-full border bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200\">\n                  Level band\n                  <svg className=\"ml-1 w-4 h-4 inline\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </button>\n                <button className=\"px-3 py-1.5 text-sm rounded-full border bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200\">\n                  Environment\n                  <svg className=\"ml-1 w-4 h-4 inline\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </button>\n                <button className=\"px-3 py-1.5 text-sm rounded-full border bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200\">\n                  Time available\n                  <svg className=\"ml-1 w-4 h-4 inline\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </button>\n              </div>\n\n              {/* Supports Available Chips */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Supports available</label>\n                <div className=\"flex flex-wrap gap-2\">\n                  {['Visuals', 'AAC', 'Adaptive utensils', 'Orthotics', 'Timer', 'Sensory breaks'].map((support) => (\n                    <button\n                      key={support}\n                      className=\"px-3 py-1.5 text-sm rounded-full border bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200\"\n                    >\n                      {support}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Ideas Cards */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\">\n            {sampleIdeas.map((idea) => (\n              <div key={idea.id} className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\n                {/* Card Header */}\n                <div className=\"p-6 border-b border-gray-100\">\n                  <div className=\"flex items-start justify-between mb-3\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 pr-4\">{idea.title}</h3>\n                    <button\n                      onClick={() => handleSaveIdea(idea.id)}\n                      className={`p-2 rounded-full transition-colors ${\n                        savedIdeas.includes(idea.id)\n                          ? 'text-yellow-600 bg-yellow-50'\n                          : 'text-gray-400 hover:text-gray-600 hover:bg-gray-50'\n                      }`}\n                    >\n                      <svg className=\"w-5 h-5\" fill={savedIdeas.includes(idea.id) ? 'currentColor' : 'none'} stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\" />\n                      </svg>\n                    </button>\n                  </div>\n                  \n                  {/* Tags */}\n                  <div className=\"flex flex-wrap gap-2 mb-3\">\n                    <span className=\"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full\">\n                      {idea.domain}\n                    </span>\n                    <span className=\"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full\">\n                      {idea.subdomain}\n                    </span>\n                  </div>\n\n                  {/* Level Tag */}\n                  <div className=\"mb-3\">\n                    <span className={`px-3 py-1 text-xs font-medium rounded-full ${\n                      idea.levelTag === 'Suggested now'\n                        ? 'bg-green-100 text-green-800'\n                        : idea.levelTag === 'Stretch'\n                        ? 'bg-yellow-100 text-yellow-800'\n                        : 'bg-gray-100 text-gray-800'\n                    }`}>\n                      {idea.levelTag}\n                    </span>\n                  </div>\n\n                  {/* Time and Materials */}\n                  <div className=\"flex items-center justify-between text-sm text-gray-600 mb-3\">\n                    <span className=\"flex items-center\">\n                      <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                      {idea.timeNeeded}\n                    </span>\n                    <span className=\"flex items-center\">\n                      <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 00-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\n                      </svg>\n                      {idea.materials.length} materials\n                    </span>\n                  </div>\n                </div>\n\n                {/* Card Body */}\n                <div className=\"p-6\">\n                  {/* Steps */}\n                  <div className=\"mb-4\">\n                    <h4 className=\"text-sm font-medium text-gray-900 mb-2\">Steps</h4>\n                    <ul className=\"space-y-1\">\n                      {idea.steps.map((step, index) => (\n                        <li key={index} className=\"text-sm text-gray-600 flex items-start\">\n                          <span className=\"text-blue-500 mr-2 mt-0.5\">‚Ä¢</span>\n                          {step}\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n\n                  {/* Adaptations */}\n                  <div className=\"mb-4\">\n                    <h4 className=\"text-sm font-medium text-gray-900 mb-2\">Adaptations</h4>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {idea.adaptations.map((adaptation, index) => (\n                        <span key={index} className=\"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded-full\">\n                          {adaptation}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Actions */}\n                  <div className=\"flex items-center justify-between pt-4 border-t border-gray-100\">\n                    <button\n                      onClick={() => handleAddToPracticePlan(idea.id)}\n                      className=\"px-3 py-1.5 text-sm font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md transition-colors\"\n                    >\n                      Add to Practice Plan\n                    </button>\n                    <div className=\"flex items-center space-x-2\">\n                      <button\n                        onClick={() => {/* TODO: Implement print */}}\n                        className=\"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-md transition-colors\"\n                        title=\"Print\"\n                      >\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z\" />\n                        </svg>\n                      </button>\n                      <button\n                        onClick={() => {/* TODO: Implement share */}}\n                        className=\"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-md transition-colors\"\n                        title=\"Share\"\n                      >\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\" />\n                        </svg>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Reports Tab Content */}\n      {activeGrowthTab === 'reports' && (\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          {/* Template Selector */}\n          <div className=\"mb-8\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">Report Templates</h2>\n              \n              {/* AI Placeholder */}\n              <button\n                disabled\n                title=\"Coming soon\"\n                className=\"px-3 py-2 text-sm font-medium text-gray-400 bg-gray-100 border border-gray-200 rounded-md cursor-not-allowed\"\n              >\n                AI: auto-select sections\n              </button>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <button\n                onClick={() => {/* TODO: Select template */}}\n                className=\"p-6 text-left border rounded-lg transition-colors border-gray-200 hover:border-gray-300\"\n              >\n                <div className=\"text-2xl mb-3\">üè•</div>\n                <h3 className=\"font-medium text-gray-900 mb-2\">Pediatric Visit Summary</h3>\n                <p className=\"text-sm text-gray-600\">Comprehensive summary for pediatric appointments</p>\n              </button>\n              \n              <button\n                onClick={() => {/* TODO: Select template */}}\n                className=\"p-6 text-left border rounded-lg transition-colors border-gray-200 hover:border-gray-300\"\n              >\n                <div className=\"text-2xl mb-3\">üß†</div>\n                <h3 className=\"font-medium text-gray-900 mb-2\">Early Intervention/Therapist Summary</h3>\n                <p className=\"text-sm text-gray-600\">Detailed progress for therapy sessions</p>\n              </button>\n              \n              <button\n                onClick={() => {/* TODO: Select template */}}\n                className=\"p-6 text-left border rounded-lg transition-colors border-gray-200 hover:border-gray-300\"\n              >\n                <div className=\"text-2xl mb-3\">üéì</div>\n                <h3 className=\"font-medium text-gray-900 mb-2\">School/IEP Snapshot</h3>\n                <p className=\"text-sm text-gray-600\">Key information for educational planning</p>\n              </button>\n            </div>\n          </div>\n\n          {/* Report Builder */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Report Builder</h3>\n            <div className=\"lg:flex lg:space-x-8\">\n              {/* Left Column - Options */}\n              <div className=\"lg:w-1/3 space-y-6\">\n                {/* Date Range */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Date Range</label>\n                  <select className=\"w-full text-sm border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\">\n                    <option>Last 30 days</option>\n                    <option>Last 90 days</option>\n                    <option>Last 6 months</option>\n                    <option>Custom range</option>\n                  </select>\n                </div>\n\n                {/* Domains to Include */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Domains to Include</label>\n                  <div className=\"space-y-2\">\n                    {['Motor', 'Communication', 'Social-Emotional', 'Cognitive/Play', 'Adaptive/Self-Help'].map((domain) => (\n                      <label key={domain} className=\"flex items-center\">\n                        <input type=\"checkbox\" defaultChecked className=\"mr-2 text-blue-600 focus:ring-blue-500\" />\n                        <span className=\"text-sm text-gray-700\">{domain}</span>\n                      </label>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Include Options */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Include</label>\n                  <div className=\"space-y-2\">\n                    <label className=\"flex items-center\">\n                      <input type=\"checkbox\" defaultChecked className=\"mr-2 text-blue-600 focus:ring-blue-500\" />\n                      <span className=\"text-sm text-gray-700\">Observed skills</span>\n                    </label>\n                    <label className=\"flex items-center\">\n                      <input type=\"checkbox\" defaultChecked className=\"mr-2 text-blue-600 focus:ring-blue-500\" />\n                      <span className=\"text-sm text-gray-700\">Emerging skills</span>\n                    </label>\n                    <label className=\"flex items-center\">\n                      <input type=\"checkbox\" defaultChecked className=\"mr-2 text-blue-600 focus:ring-blue-500\" />\n                      <span className=\"text-sm text-gray-700\">Notes</span>\n                    </label>\n                    <label className=\"flex items-center\">\n                      <input type=\"checkbox\" className=\"mr-2 text-blue-600 focus:ring-blue-500\" />\n                      <span className=\"text-sm text-gray-700\">Supports used</span>\n                    </label>\n                    <label className=\"flex items-center\">\n                      <input type=\"checkbox\" className=\"mr-2 text-blue-600 focus:ring-blue-500\" />\n                      <span className=\"text-sm text-gray-700\">Contexts</span>\n                    </label>\n                  </div>\n                </div>\n\n                {/* Visuals */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Visuals</label>\n                  <div className=\"space-y-2\">\n                    <label className=\"flex items-center\">\n                      <input type=\"checkbox\" defaultChecked className=\"mr-2 text-blue-600 focus:ring-blue-500\" />\n                      <span className=\"text-sm text-gray-700\">Overview heatmap</span>\n                    </label>\n                    <label className=\"flex items-center\">\n                      <input type=\"checkbox\" defaultChecked className=\"mr-2 text-blue-600 focus:ring-blue-500\" />\n                      <span className=\"text-sm text-gray-700\">Coverage bars</span>\n                    </label>\n                    <label className=\"flex items-center\">\n                      <input type=\"checkbox\" defaultChecked className=\"mr-2 text-blue-600 focus:ring-blue-500\" />\n                      <span className=\"text-sm text-gray-700\">Cumulative chart</span>\n                    </label>\n                  </div>\n                </div>\n\n                {/* Care Ideas Snapshot */}\n                <div>\n                  <label className=\"flex items-center\">\n                    <input type=\"checkbox\" className=\"mr-2 text-blue-600 focus:ring-blue-500\" />\n                    <span className=\"text-sm text-gray-700\">Add \"Care Ideas snapshot\"</span>\n                  </label>\n                  <p className=\"text-xs text-gray-500 mt-1\">Includes 3 ideas per domain based on Not yet/Emerging</p>\n                </div>\n\n                {/* Header Info */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Header Information</label>\n                  <div className=\"space-y-3\">\n                    <input type=\"text\" placeholder=\"Child's name\" className=\"w-full text-sm border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" />\n                    <input type=\"text\" placeholder=\"Date of birth\" className=\"w-full text-sm border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" />\n                    <input type=\"text\" placeholder=\"MRN (if available)\" className=\"w-full text-sm border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\" />\n                    <label className=\"flex items-center\">\n                      <input type=\"checkbox\" className=\"mr-2 text-blue-600 focus:ring-blue-500\" />\n                      <span className=\"text-sm text-gray-700\">Include caregiver contact</span>\n                    </label>\n                  </div>\n                </div>\n              </div>\n\n              {/* Right Column - Live Preview */}\n              <div className=\"lg:w-2/3\">\n                <div className=\"bg-gray-50 rounded-lg p-6 min-h-96\">\n                  <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Live Preview</h4>\n                  <div className=\"space-y-4\">\n                    <div className=\"bg-white p-4 rounded border\">\n                      <h5 className=\"font-medium text-gray-900 mb-2\">Sample Report Header</h5>\n                      <p className=\"text-sm text-gray-600\">Report preview will appear here based on selected options</p>\n                    </div>\n                    <div className=\"bg-white p-4 rounded border\">\n                      <h5 className=\"font-medium text-gray-900 mb-2\">Progress Summary</h5>\n                      <p className=\"text-sm text-gray-600\">Metrics and visualizations will be rendered here</p>\n                    </div>\n                    <div className=\"bg-white p-4 rounded border\">\n                      <h5 className=\"font-medium text-gray-900 mb-2\">Skills Breakdown</h5>\n                      <p className=\"text-sm text-gray-600\">Domain-specific skill details will appear here</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Actions */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Generate & Share</h3>\n            <div className=\"flex flex-wrap gap-4\">\n              <button\n                onClick={() => {/* TODO: Generate PDF */}}\n                className=\"px-6 py-3 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Generate PDF\n              </button>\n              <button\n                onClick={() => {/* TODO: Save template */}}\n                className=\"px-6 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Save template\n              </button>\n              <button\n                onClick={() => {/* TODO: Share */}}\n                className=\"px-6 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Share\n              </button>\n            </div>\n          </div>\n\n          {/* One-page Overview Quick Action */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Quick Actions</h3>\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n              <h4 className=\"font-medium text-blue-900 mb-2\">One-page Overview</h4>\n              <p className=\"text-sm text-blue-700 mb-4\">Generate a single-page summary with metrics strip, coverage ladder, and top 5 recent skills</p>\n              <button\n                onClick={() => {/* TODO: Generate one-page overview */}}\n                className=\"px-4 py-2 text-sm font-medium text-blue-700 bg-blue-100 border border-blue-300 rounded-md hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Generate a page\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Add Skill Quick Sheet Modal */}\n      {showAddSkillSheet && (\n        <div \n          className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"add-skill-title\"\n          aria-describedby=\"add-skill-description\"\n        >\n          <div className=\"relative top-10 mx-auto p-6 border w-full max-w-2xl shadow-lg rounded-md bg-white\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 id=\"add-skill-title\" className=\"text-xl font-semibold text-gray-900\">Add Skill</h2>\n              <button\n                onClick={() => setShowAddSkillSheet(false)}\n                className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Close add skill form\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            {/* Progress Steps */}\n            <nav aria-label=\"Add skill progress\" className=\"flex items-center justify-between mb-6\">\n              {[1, 2, 3, 4, 5, 6].map((step) => (\n                <div key={step} className=\"flex items-center\">\n                  <div \n                    className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${\n                      step === currentStep \n                        ? 'bg-blue-600 text-white' \n                        : step < currentStep \n                          ? 'bg-green-500 text-white' \n                          : 'bg-gray-200 text-gray-600'\n                    }`}\n                    aria-current={step === currentStep ? 'step' : undefined}\n                    aria-label={`Step ${step}${step < currentStep ? ' completed' : step === currentStep ? ' current' : ''}`}\n                  >\n                    {step < currentStep ? '‚úì' : step}\n                  </div>\n                  {step < 6 && (\n                    <div className={`w-16 h-1 mx-2 ${\n                      step < currentStep ? 'bg-green-500' : 'bg-gray-200'\n                    }`} aria-hidden=\"true\" />\n                  )}\n                </div>\n              ))}\n            </nav>\n\n            {/* Step Content */}\n            <div className=\"min-h-64\" id=\"add-skill-description\">\n              {/* Step 1: Choose Domain */}\n              {currentStep === 1 && (\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Choose Domain</h3>\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n                    {domains.map((domain) => (\n                      <button\n                        key={domain.id}\n                        onClick={() => {\n                          setSelectedDomain(domain.id);\n                          handleNextStep();\n                        }}\n                        className={`p-4 border rounded-lg text-left hover:border-blue-300 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                          selectedDomain === domain.id ? 'border-blue-500 bg-blue-50' : 'border-gray-200'\n                        }`}\n                        aria-pressed={selectedDomain === domain.id}\n                        aria-label={`Select ${domain.name} domain${domain.subtitle ? ` (${domain.subtitle})` : ''}`}\n                      >\n                        <div className=\"text-2xl mb-2\" aria-hidden=\"true\">{domain.icon}</div>\n                        <div className=\"font-medium text-gray-900\">{domain.name}</div>\n                        {domain.subtitle && (\n                          <div className=\"text-sm text-gray-500\">{domain.subtitle}</div>\n                        )}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Step 2: Select Skill */}\n              {currentStep === 2 && (\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Select Skill</h3>\n                  <div className=\"mb-4\">\n                    <label htmlFor=\"skill-search\" className=\"sr-only\">Search skills</label>\n                    <input\n                      id=\"skill-search\"\n                      type=\"text\"\n                      placeholder=\"Search skills...\"\n                      value={searchQuery}\n                      onChange={(e) => setSearchQuery(e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      aria-label=\"Search skills by name\"\n                    />\n                  </div>\n                  \n                  {/* AI Pick Skill Button */}\n                  <div className=\"mb-4\">\n                    <button\n                      disabled\n                      className=\"w-full px-3 py-2 text-sm font-medium text-gray-400 bg-gray-50 border border-gray-200 rounded-md cursor-not-allowed opacity-60\"\n                      title=\"Coming soon\"\n                      aria-label=\"Use AI to pick skill (coming soon)\"\n                    >\n                      Use AI to pick skill\n                    </button>\n                    <p className=\"text-xs text-gray-400 mt-1 text-center\">Coming soon</p>\n                  </div>\n                  \n                  <div className=\"space-y-2 max-h-48 overflow-y-auto\" role=\"listbox\" aria-label=\"Available skills\">\n                    {displayedSkills.map((skill) => (\n                      <button\n                        key={skill.id}\n                        onClick={() => {\n                          setSelectedSkill(skill.id);\n                          handleNextStep();\n                        }}\n                        className={`w-full p-3 text-left border rounded-lg hover:border-blue-300 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                          selectedSkill === skill.id ? 'border-blue-500 bg-blue-50' : 'border-gray-200'\n                        }`}\n                        role=\"option\"\n                        aria-selected={selectedSkill === skill.id}\n                        aria-label={`Select skill: ${skill.name} (${skill.ageBand} level)`}\n                      >\n                        <div className=\"font-medium text-gray-900\">{skill.name}</div>\n                        <div className=\"text-sm text-gray-500\">{skill.description}</div>\n                        <div className=\"text-xs text-gray-400 mt-1\">{skill.ageBand}</div>\n                      </button>\n                    ))}\n                  </div>\n                  {filteredSkills.length > 10 && (\n                    <button\n                      onClick={() => setShowAllSkills(!showAllSkills)}\n                      className=\"mt-3 text-blue-600 hover:text-blue-700 text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      aria-expanded={showAllSkills}\n                      aria-controls=\"skill-list\"\n                    >\n                      {showAllSkills ? 'Show top 10' : `Show all ${filteredSkills.length} skills in domain`}\n                    </button>\n                  )}\n                </div>\n              )}\n\n              {/* Step 3: Mark Status */}\n              {currentStep === 3 && (\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Mark Status</h3>\n                  <fieldset className=\"space-y-3\">\n                    <legend className=\"sr-only\">Skill status options</legend>\n                    {['Observed', 'Emerging', 'Not yet', 'Not applicable'].map((status) => (\n                      <label key={status} className=\"flex items-center\">\n                        <input\n                          type=\"radio\"\n                          name=\"status\"\n                          value={status}\n                          checked={skillStatus === status}\n                          onChange={(e) => setSkillStatus(e.target.value)}\n                          className=\"mr-3 text-blue-600 focus:ring-blue-500\"\n                          aria-describedby={`status-${status.toLowerCase().replace(' ', '-')}-help`}\n                        />\n                        <span className=\"text-gray-900\">{status}</span>\n                      </label>\n                    ))}\n                  </fieldset>\n                  <div className=\"mt-3 text-sm text-gray-500\">\n                    <p id=\"status-observed-help\">Observed: You've seen your child demonstrate this skill</p>\n                    <p id=\"status-emerging-help\">Emerging: Your child is starting to show this skill</p>\n                    <p id=\"status-not-yet-help\">Not yet: Your child hasn't shown this skill yet</p>\n                    <p id=\"status-not-applicable-help\">N/A: This skill doesn't apply to your child's situation</p>\n                  </div>\n                </div>\n              )}\n\n              {/* Step 4: Date Observed */}\n              {currentStep === 4 && (\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Date Observed</h3>\n                  <label htmlFor=\"date-observed\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    When did you observe this skill?\n                  </label>\n                  <input\n                    id=\"date-observed\"\n                    type=\"date\"\n                    value={dateObserved}\n                    onChange={(e) => setDateObserved(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    aria-describedby=\"date-observed-help\"\n                  />\n                  <p id=\"date-observed-help\" className=\"mt-1 text-sm text-gray-500\">\n                    Select the date when you first noticed this skill, or today if you're observing it now.\n                  </p>\n                </div>\n              )}\n\n              {/* Step 5: Supports Used */}\n              {currentStep === 5 && (\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Supports Used (Optional)</h3>\n                  <p className=\"text-sm text-gray-500 mb-4\">Select any supports or accommodations that helped your child demonstrate this skill.</p>\n                  <fieldset className=\"grid grid-cols-1 sm:grid-cols-2 gap-2\">\n                    <legend className=\"sr-only\">Support options</legend>\n                    {supportsOptions.map((support) => (\n                      <label key={support} className=\"flex items-center\">\n                        <input\n                          type=\"checkbox\"\n                          checked={supportsUsed.includes(support)}\n                          onChange={(e) => {\n                            if (e.target.checked) {\n                              setSupportsUsed([...supportsUsed, support]);\n                            } else {\n                              setSupportsUsed(supportsUsed.filter(s => s !== support));\n                            }\n                          }}\n                          className=\"mr-2 text-blue-600 focus:ring-blue-500\"\n                        />\n                        <span className=\"text-gray-900 capitalize\">{support}</span>\n                      </label>\n                    ))}\n                  </fieldset>\n                </div>\n              )}\n\n              {/* Step 6: Context and Notes */}\n              {currentStep === 6 && (\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Context and Notes</h3>\n                  <div className=\"mb-4\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Context (Optional)</label>\n                    <p className=\"text-sm text-gray-500 mb-3\">Where and when did you observe this skill?</p>\n                    <fieldset className=\"grid grid-cols-1 sm:grid-cols-2 gap-2\">\n                      <legend className=\"sr-only\">Context options</legend>\n                      {contextOptions.map((ctx) => (\n                        <label key={ctx} className=\"flex items-center\">\n                          <input\n                            type=\"checkbox\"\n                            checked={context.includes(ctx)}\n                            onChange={(e) => {\n                              if (e.target.checked) {\n                                setContext([...context, ctx]);\n                              } else {\n                                setContext(context.filter(c => c !== ctx));\n                              }\n                            }}\n                            className=\"mr-2 text-blue-600 focus:ring-blue-500\"\n                          />\n                          <span className=\"text-gray-900 capitalize\">{ctx}</span>\n                        </label>\n                      ))}\n                    </fieldset>\n                  </div>\n                  <div>\n                    <label htmlFor=\"skill-notes\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Notes (Optional, 200 chars)\n                    </label>\n                    <textarea\n                      id=\"skill-notes\"\n                      value={notes}\n                      onChange={(e) => setNotes(e.target.value.slice(0, 200))}\n                      rows={3}\n                      placeholder=\"Add any additional notes about how your child demonstrated this skill...\"\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      aria-describedby=\"notes-counter\"\n                    />\n                    <div id=\"notes-counter\" className=\"text-right text-sm text-gray-500 mt-1\">\n                      {notes.length}/200\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Navigation */}\n            <div className=\"flex items-center justify-between pt-6 border-t\">\n              <div>\n                {currentStep > 1 && (\n                  <button\n                    onClick={handlePrevStep}\n                    className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    aria-label=\"Go to previous step\"\n                  >\n                    Back\n                  </button>\n                )}\n              </div>\n              <div className=\"flex space-x-3\">\n                <button\n                  onClick={() => setShowAddSkillSheet(false)}\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  aria-label=\"Cancel adding skill\"\n                >\n                  Cancel\n                </button>\n                {currentStep === 6 ? (\n                  <>\n                    <button\n                      onClick={handleSave}\n                      className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      aria-label=\"Save skill entry\"\n                    >\n                      Save\n                    </button>\n                    <button\n                      onClick={handleSaveAndAddAnother}\n                      className=\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                      aria-label=\"Save skill and add another\"\n                    >\n                      Save & Add Another\n                    </button>\n                  </>\n                ) : (\n                  <button\n                    onClick={handleNextStep}\n                    disabled={!selectedDomain || (currentStep === 2 && !selectedSkill)}\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    aria-label=\"Go to next step\"\n                    aria-describedby={(!selectedDomain || (currentStep === 2 && !selectedSkill)) ? \"next-step-error\" : undefined}\n                  >\n                    Next\n                  </button>\n                )}\n              </div>\n            </div>\n            {(!selectedDomain || (currentStep === 2 && !selectedSkill)) && (\n              <div id=\"next-step-error\" className=\"mt-2 text-sm text-red-600\" role=\"alert\">\n                Please complete the current step before continuing.\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Milestone Detail Modal */}\n      {showMilestoneDetail && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Milestone Detail</h3>\n              <p className=\"text-sm text-gray-500 mb-4\">\n                This feature will show detailed milestone information.\n              </p>\n              <button\n                onClick={() => setShowMilestoneDetail(null)}\n                className=\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Milestone Settings Modal */}\n      {showSettingsModal && (\n        <div \n          className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"settings-modal-title\"\n        >\n          <div className=\"relative top-10 mx-auto p-6 border w-full max-w-md shadow-lg rounded-md bg-white\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 id=\"settings-modal-title\" className=\"text-lg font-semibold text-gray-900\">Milestone Settings</h3>\n              <button\n                onClick={() => setShowSettingsModal(false)}\n                className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Close settings modal\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"space-y-6\">\n              {/* Default View Setting */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-3\">\n                  Default view\n                </label>\n                <fieldset className=\"space-y-2\">\n                  <legend className=\"sr-only\">Default view options</legend>\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"radio\"\n                      name=\"defaultView\"\n                      value=\"age-based\"\n                      checked={defaultView === 'age-based'}\n                      onChange={(e) => setDefaultView(e.target.value as 'age-based' | 'developmental')}\n                      className=\"mr-3 text-blue-600 focus:ring-blue-500\"\n                    />\n                    <span className=\"text-gray-900\">Age-based (chronological age)</span>\n                  </label>\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"radio\"\n                      name=\"defaultView\"\n                      value=\"developmental\"\n                      checked={defaultView === 'developmental'}\n                      onChange={(e) => setDefaultView(e.target.value as 'age-based' | 'developmental')}\n                      className=\"mr-3 text-blue-600 focus:ring-blue-500\"\n                    />\n                    <span className=\"text-gray-900\">Developmental level</span>\n                  </label>\n                </fieldset>\n                <p className=\"mt-2 text-sm text-gray-500\">\n                  Choose how milestones are displayed by default when you visit this page.\n                </p>\n              </div>\n\n              {/* Show Skills Beyond Current Level */}\n              <div>\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Show skills beyond current level</label>\n                    <p className=\"text-sm text-gray-500 mt-1\">\n                      Display skills that are typically achieved at higher age/developmental levels\n                    </p>\n                  </div>\n                  <button\n                    onClick={() => setShowSkillsBeyondLevel(!showSkillsBeyondLevel)}\n                    className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${\n                      showSkillsBeyondLevel ? 'bg-blue-600' : 'bg-gray-200'\n                    }`}\n                    role=\"switch\"\n                    aria-checked={showSkillsBeyondLevel}\n                    aria-label=\"Toggle showing skills beyond current level\"\n                  >\n                    <span className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                      showSkillsBeyondLevel ? 'translate-x-6' : 'translate-x-1'\n                    }`} />\n                  </button>\n                </div>\n              </div>\n\n              {/* Weekly Reminder */}\n              <div>\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Weekly reminder to review milestones</label>\n                    <p className=\"text-sm text-gray-500 mt-1\">\n                      Get notified weekly to review and update your child's milestone progress\n                    </p>\n                  </div>\n                  <button\n                    onClick={() => setWeeklyReminder(!weeklyReminder)}\n                    className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${\n                      weeklyReminder ? 'bg-blue-600' : 'bg-gray-200'\n                    }`}\n                    role=\"switch\"\n                    aria-checked={weeklyReminder}\n                    aria-label=\"Toggle weekly milestone reminders\"\n                  >\n                    <span className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                      weeklyReminder ? 'translate-x-6' : 'translate-x-1'\n                    }`} />\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex justify-end space-x-3 pt-6 border-t\">\n              <button\n                onClick={() => setShowSettingsModal(false)}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Cancel settings changes\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleSaveSettings}\n                className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Save milestone settings\"\n              >\n                Save\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Generate Milestone Report Modal */}\n      {showReportModal && (\n        <div \n          className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"report-modal-title\"\n        >\n          <div className=\"relative top-10 mx-auto p-6 border w-full max-w-md shadow-lg rounded-md bg-white\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 id=\"report-modal-title\" className=\"text-lg font-semibold text-gray-900\">Milestone Report (last 30 days)</h3>\n              <button\n                onClick={() => {\n                  setShowReportModal(false);\n                  setReportReady(false);\n                  setIsGeneratingReport(false);\n                }}\n                className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Close report modal\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            {!isGeneratingReport && !reportReady && (\n              <>\n                <div className=\"space-y-6\">\n                  {/* Domain Selection */}\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-3\">\n                      Include domains\n                    </label>\n                    <fieldset className=\"space-y-2\">\n                      <legend className=\"sr-only\">Domain selection options</legend>\n                      {[\n                        { id: 'motor', name: 'Motor (Gross & Fine)', icon: 'üèÉ' },\n                        { id: 'communication', name: 'Communication (Expressive & Receptive)', icon: 'üí¨' },\n                        { id: 'social-emotional', name: 'Social-Emotional', icon: 'üòä' },\n                        { id: 'cognitive-play', name: 'Cognitive/Play', icon: 'üß©' },\n                        { id: 'adaptive-self-help', name: 'Adaptive/Self-Help', icon: 'üëï' }\n                      ].map((domain) => (\n                        <label key={domain.id} className=\"flex items-center\">\n                          <input\n                            type=\"checkbox\"\n                            checked={reportOptions.domains.includes(domain.id)}\n                            onChange={(e) => {\n                              if (e.target.checked) {\n                                setReportOptions(prev => ({\n                                  ...prev,\n                                  domains: [...prev.domains, domain.id]\n                                }));\n                              } else {\n                                setReportOptions(prev => ({\n                                  ...prev,\n                                  domains: prev.domains.filter(d => d !== domain.id)\n                                }));\n                              }\n                            }}\n                            className=\"mr-3 text-blue-600 focus:ring-blue-500\"\n                          />\n                          <span className=\"text-gray-900 flex items-center\">\n                            <span className=\"mr-2\" aria-hidden=\"true\">{domain.icon}</span>\n                            {domain.name}\n                          </span>\n                        </label>\n                      ))}\n                    </fieldset>\n                  </div>\n\n                  {/* Include Emerging Skills */}\n                  <div>\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <label className=\"text-sm font-medium text-gray-700\">Include Emerging skills</label>\n                        <p className=\"text-sm text-gray-500 mt-1\">\n                          Show skills that your child is starting to demonstrate\n                        </p>\n                      </div>\n                      <button\n                        onClick={() => setReportOptions(prev => ({ ...prev, includeEmerging: !prev.includeEmerging }))}\n                        className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${\n                          reportOptions.includeEmerging ? 'bg-blue-600' : 'bg-gray-200'\n                        }`}\n                        role=\"switch\"\n                        aria-checked={reportOptions.includeEmerging}\n                        aria-label=\"Toggle including emerging skills in report\"\n                      >\n                        <span className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                          reportOptions.includeEmerging ? 'translate-x-6' : 'translate-x-1'\n                        }`} />\n                      </button>\n                    </div>\n                  </div>\n\n                  {/* Include Notes */}\n                  <div>\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <label className=\"text-sm font-medium text-gray-700\">Include Notes</label>\n                        <p className=\"text-sm text-gray-500 mt-1\">\n                          Include any additional notes you've added to milestone entries\n                        </p>\n                      </div>\n                      <button\n                        onClick={() => setReportOptions(prev => ({ ...prev, includeNotes: !prev.includeNotes }))}\n                        className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${\n                          reportOptions.includeNotes ? 'bg-blue-600' : 'bg-gray-200'\n                        }`}\n                        role=\"switch\"\n                        aria-checked={reportOptions.includeNotes}\n                        aria-label=\"Toggle including notes in report\"\n                      >\n                        <span className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                          reportOptions.includeNotes ? 'translate-x-6' : 'translate-x-1'\n                        }`} />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"flex justify-end space-x-3 pt-6 border-t\">\n                  <button\n                    onClick={() => {\n                      setShowReportModal(false);\n                      setReportReady(false);\n                      setIsGeneratingReport(false);\n                    }}\n                    className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    aria-label=\"Cancel report generation\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={handleGenerateReport}\n                    disabled={reportOptions.domains.length === 0}\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    aria-label=\"Generate milestone report PDF\"\n                    aria-describedby={reportOptions.domains.length === 0 ? \"domain-selection-error\" : undefined}\n                  >\n                    Generate PDF\n                  </button>\n                </div>\n                {reportOptions.domains.length === 0 && (\n                  <div id=\"domain-selection-error\" className=\"mt-2 text-sm text-red-600\" role=\"alert\">\n                    Please select at least one domain to include in the report.\n                  </div>\n                )}\n              </>\n            )}\n\n            {/* Generating Report State */}\n            {isGeneratingReport && (\n              <div className=\"text-center py-8\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\" aria-hidden=\"true\"></div>\n                <h4 className=\"text-lg font-medium text-gray-900 mb-2\">Generating Report</h4>\n                <p className=\"text-sm text-gray-500\">Please wait while we compile your milestone data...</p>\n              </div>\n            )}\n\n            {/* Report Ready State */}\n            {reportReady && (\n              <div className=\"text-center py-8\">\n                <div className=\"text-green-500 mb-4\">\n                  <svg className=\"mx-auto h-16 w-16\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </div>\n                <h4 className=\"text-lg font-medium text-gray-900 mb-2\">Download Ready</h4>\n                <p className=\"text-sm text-gray-500 mb-6\">Your milestone report has been generated successfully.</p>\n                \n                <div className=\"space-y-3\">\n                  <button\n                    onClick={handleDownloadReport}\n                    className=\"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    aria-label=\"Download milestone report PDF\"\n                  >\n                    Download PDF\n                  </button>\n                  <button\n                    onClick={handleSaveToVisitPacket}\n                    className=\"w-full px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    aria-label=\"Save report to Visit Packet\"\n                  >\n                    Save to Visit Packet\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* AI Suggestions Modal */}\n      {showAISuggestionsModal && (\n        <div \n          className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"ai-suggestions-title\"\n        >\n          <div className=\"relative top-10 mx-auto p-6 border w-full max-w-md shadow-lg rounded-md bg-white\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 id=\"ai-suggestions-title\" className=\"text-lg font-semibold text-gray-900\">AI Skill Suggestions</h3>\n              <button\n                onClick={() => setShowAISuggestionsModal(false)}\n                className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Close AI suggestions modal\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            \n            <div className=\"space-y-4\">\n              <p className=\"text-sm text-gray-600\">\n                Based on your child's current skills and developmental level, here are some suggested next skills to work on:\n              </p>\n              \n              {/* Disabled AI Suggestions */}\n              <div className=\"space-y-3\">\n                <div className=\"p-3 bg-gray-50 border border-gray-200 rounded-lg opacity-60\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <h6 className=\"text-sm font-medium text-gray-700\">Fine motor precision</h6>\n                      <p className=\"text-xs text-gray-500 mt-1\">Practice stacking 4-5 blocks with steady hands</p>\n                    </div>\n                    <button\n                      disabled\n                      className=\"px-3 py-1 text-xs font-medium text-gray-400 bg-gray-200 border border-gray-300 rounded cursor-not-allowed\"\n                    >\n                      Accept\n                    </button>\n                  </div>\n                </div>\n                \n                <div className=\"p-3 bg-gray-50 border border-gray-200 rounded-lg opacity-60\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <h6 className=\"text-sm font-medium text-gray-700\">Bilateral coordination</h6>\n                      <p className=\"text-xs text-gray-500 mt-1\">Use both hands together for activities like clapping</p>\n                    </div>\n                    <button\n                      disabled\n                      className=\"px-3 py-1 text-xs font-medium text-gray-400 bg-gray-200 border border-gray-300 rounded cursor-not-allowed\"\n                    >\n                      Accept\n                    </button>\n                  </div>\n                </div>\n                \n                <div className=\"p-3 bg-gray-50 border border-gray-200 rounded-lg opacity-60\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <h6 className=\"text-sm font-medium text-gray-700\">Hand-eye coordination</h6>\n                      <p className=\"text-xs text-gray-500 mt-1\">Practice throwing and catching a soft ball</p>\n                    </div>\n                    <button\n                      disabled\n                      className=\"px-3 py-2 text-xs font-medium text-gray-400 bg-gray-200 border border-gray-300 rounded cursor-not-allowed\"\n                    >\n                      Accept\n                    </button>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n                <div className=\"flex items-start space-x-2\">\n                  <svg className=\"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <div>\n                    <p className=\"text-sm text-blue-800 font-medium\">AI-powered suggestions coming soon!</p>\n                    <p className=\"text-xs text-blue-700 mt-1\">\n                      We're working on intelligent skill recommendations based on your child's unique development pattern.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"flex justify-end\">\n                              <button\n                  onClick={() => setShowAISuggestionsModal(false)}\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  aria-label=\"Close AI suggestions\"\n                >\n                  Close\n                </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Domain Detail Placeholder Modal */}\n      {showDomainDetailModal && (\n        <div \n          className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"domain-detail-title\"\n        >\n          <div className=\"relative top-10 mx-auto p-6 border w-full max-w-7xl shadow-lg rounded-md bg-white h-[90vh] overflow-hidden\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between mb-6 border-b border-gray-200 pb-4\">\n              <div>\n                <h3 id=\"domain-detail-title\" className=\"text-xl font-semibold text-gray-900\">\n                  {domains.find(d => d.id === selectedDomainForDetail)?.name || 'Domain'}\n                </h3>\n                <p className=\"text-sm text-gray-500 mt-1\">Track skills and explore care ideas.</p>\n              </div>\n              <div className=\"flex items-center space-x-3\">\n                <button\n                  disabled\n                  className=\"px-3 py-2 text-xs font-medium text-gray-400 bg-gray-50 border border-gray-200 rounded-md cursor-not-allowed opacity-60\"\n                  title=\"Coming soon\"\n                  aria-label=\"Suggest next skills with AI (coming soon)\"\n                >\n                  Suggest next skills (AI)\n                </button>\n                <button\n                  onClick={() => setShowReportModal(true)}\n                  className=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  aria-label=\"Export domain report\"\n                >\n                  Export domain report\n                </button>\n                <button\n                  onClick={handleAddSkill}\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  aria-label=\"Add skill to this domain\"\n                >\n                  Add Skill\n                </button>\n                <button\n                  onClick={() => setShowDomainDetailModal(false)}\n                  className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  aria-label=\"Close domain detail modal\"\n                >\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n\n            {/* Progress Chip */}\n            <div className=\"flex items-center justify-center mb-6\">\n              <div className=\"inline-flex items-center px-4 py-2 bg-blue-50 border border-blue-200 rounded-full\">\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"relative w-6 h-6\">\n                    <svg className=\"w-6 h-6 transform -rotate-90\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                      <circle\n                        cx=\"12\"\n                        cy=\"12\"\n                        r=\"10\"\n                        fill=\"none\"\n                        stroke=\"#e5e7eb\"\n                        strokeWidth=\"2\"\n                      />\n                      <circle\n                        cx=\"12\"\n                        cy=\"12\"\n                        r=\"10\"\n                        fill=\"none\"\n                        stroke=\"#3b82f6\"\n                        strokeWidth=\"2\"\n                        strokeDasharray=\"62.83\"\n                        strokeDashoffset=\"37.7\"\n                        strokeLinecap=\"round\"\n                      />\n                    </svg>\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\n                      <span className=\"text-xs font-medium text-blue-600\">3/5</span>\n                    </div>\n                  </div>\n                  <span className=\"text-sm font-medium text-blue-900\">\n                    Observed 3 of 5 suggested skills\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            {/* Mobile Tabbed Layout */}\n            <div className=\"lg:hidden\">\n              <div className=\"border-b border-gray-200 mb-6\">\n                <nav className=\"flex space-x-8\" aria-label=\"Domain detail tabs\">\n                  {['Skills', 'Care Ideas', 'Progress'].map((tab) => (\n                    <button\n                      key={tab}\n                      onClick={() => setActiveMobileTab(tab)}\n                      className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                        activeMobileTab === tab\n                          ? 'border-blue-500 text-blue-600'\n                          : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                      }`}\n                      aria-label={`View ${tab.toLowerCase()} tab`}\n                    >\n                      {tab}\n                    </button>\n                  ))}\n                </nav>\n              </div>\n\n              {/* Mobile Tab Content */}\n              <div className=\"h-[calc(90vh-200px)] overflow-y-auto\">\n                {activeMobileTab === 'Skills' && (\n                  <div className=\"space-y-4\">\n                    <h4 className=\"text-lg font-medium text-gray-900\">Skills Checklist</h4>\n                    <p className=\"text-sm text-gray-500\">Coming in Phase 5B Step 4</p>\n                  </div>\n                )}\n                {activeMobileTab === 'Care Ideas' && (\n                  <div className=\"space-y-4\">\n                    <h4 className=\"text-lg font-medium text-gray-900\">Care Ideas</h4>\n                    <p className=\"text-sm text-gray-500\">Coming in Phase 5B Step 5</p>\n                  </div>\n                )}\n                {activeMobileTab === 'Progress' && (\n                  <div className=\"space-y-4\">\n                    <h4 className=\"text-lg font-medium text-gray-900\">Progress Timeline</h4>\n                    <p className=\"text-sm text-gray-500\">Coming in Phase 5B Step 6</p>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Desktop Two-Column Layout */}\n            <div className=\"hidden lg:flex lg:space-x-8 h-[calc(90vh-200px)]\">\n              {/* Left Column - Skills Checklist (70%) */}\n              <div \n                className=\"flex-1 bg-gray-50 rounded-lg p-6 overflow-y-auto\"\n                role=\"region\"\n                aria-label=\"Skills Checklist\"\n              >\n                <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Skills Checklist</h4>\n                \n                {/* Top Bar - Search and Filters */}\n                <div className=\"bg-white rounded-lg border border-gray-200 p-4 mb-6\">\n                  {/* Search */}\n                  <div className=\"mb-4\">\n                    <label htmlFor=\"skills-search\" className=\"sr-only\">Search skills</label>\n                    <input\n                      id=\"skills-search\"\n                      type=\"text\"\n                      placeholder=\"Search skills...\"\n                      value={skillsSearchQuery}\n                      onChange={(e) => setSkillsSearchQuery(e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      aria-label=\"Search skills by name or description\"\n                    />\n                  </div>\n                  \n                  {/* Filters Row */}\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3\">\n                    {/* Level Filter */}\n                    <div>\n                      <label htmlFor=\"level-filter\" className=\"block text-xs font-medium text-gray-700 mb-1\">Level</label>\n                      <select\n                        id=\"level-filter\"\n                        value={skillsLevelFilter}\n                        onChange={(e) => setSkillsLevelFilter(e.target.value)}\n                        className=\"w-full text-sm border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      >\n                        <option value=\"All\">All levels</option>\n                        <option value=\"Early\">Early (0-12m)</option>\n                        <option value=\"Toddler\">Toddler (12-36m)</option>\n                        <option value=\"Preschool\">Preschool (3-5y)</option>\n                        <option value=\"School-age\">School-age (5+)</option>\n                      </select>\n                    </div>\n                    \n                    {/* Subdomain Filter */}\n                    <div>\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">Subdomain</label>\n                      <div className=\"flex flex-wrap gap-1\">\n                        {domainSubdomains[selectedDomainForDetail as keyof typeof domainSubdomains]?.map((subdomain) => (\n                          <button\n                            key={subdomain}\n                            onClick={() => {\n                              if (skillsSubdomainFilter.includes(subdomain.toLowerCase())) {\n                                setSkillsSubdomainFilter(prev => prev.filter(s => s !== subdomain.toLowerCase()));\n                              } else {\n                                setSkillsSubdomainFilter(prev => [...prev, subdomain.toLowerCase()]);\n                              }\n                            }}\n                            className={`px-2 py-1 text-xs rounded-full border ${\n                              skillsSubdomainFilter.includes(subdomain.toLowerCase())\n                                ? 'bg-blue-100 border-blue-300 text-blue-800'\n                                : 'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'\n                            }`}\n                            aria-label={`Filter by ${subdomain} subdomain`}\n                          >\n                            {subdomain}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                    \n                    {/* Status Filter */}\n                    <div>\n                      <label htmlFor=\"status-filter\" className=\"block text-xs font-medium text-gray-700 mb-1\">Status</label>\n                      <select\n                        id=\"status-filter\"\n                        value={skillsStatusFilter}\n                        onChange={(e) => setSkillsStatusFilter(e.target.value)}\n                        className=\"w-full text-sm border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      >\n                        <option value=\"All\">All statuses</option>\n                        <option value=\"Observed\">Observed</option>\n                        <option value=\"Emerging\">Emerging</option>\n                        <option value=\"Not yet\">Not yet</option>\n                        <option value=\"N/A\">N/A</option>\n                      </select>\n                    </div>\n                    \n                    {/* Sort */}\n                    <div>\n                      <label htmlFor=\"sort-filter\" className=\"block text-xs font-medium text-gray-700 mb-1\">Sort</label>\n                      <select\n                        id=\"sort-filter\"\n                        value={skillsSortBy}\n                        onChange={(e) => setSkillsSortBy(e.target.value)}\n                        className=\"w-full text-sm border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      >\n                        <option value=\"Recommended\">Recommended</option>\n                        <option value=\"A-Z\">A-Z</option>\n                        <option value=\"Recently updated\">Recently updated</option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Bulk Actions */}\n                {selectedSkills.length > 0 && (\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-sm text-blue-800\">\n                        {selectedSkills.length} skill{selectedSkills.length !== 1 ? 's' : ''} selected\n                      </span>\n                      <div className=\"flex space-x-2\">\n                        <button\n                          onClick={() => handleBulkAction('mark-observed')}\n                          className=\"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 border border-blue-300 rounded hover:bg-blue-200\"\n                        >\n                          Mark Observed\n                        </button>\n                        <button\n                          onClick={() => handleBulkAction('mark-emerging')}\n                          className=\"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 border border-blue-300 rounded hover:bg-blue-200\"\n                        >\n                          Mark Emerging\n                        </button>\n                        <button\n                          onClick={handleAddSelectedToVisitPacket}\n                          className=\"px-3 py-1 text-xs font-medium text-green-700 bg-green-100 border border-green-300 rounded hover:bg-green-200\"\n                        >\n                          Add selected to Visit Packet\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* Skills List */}\n                <div className=\"space-y-4\">\n                  {(() => {\n                    const { suggested, stretchNext, foundations } = getFilteredAndGroupedSkills();\n                    \n                    return (\n                      <>\n                        {/* Suggested Now Section */}\n                        {suggested.length > 0 && (\n                          <div>\n                            <h5 className=\"text-sm font-medium text-gray-900 mb-3 flex items-center\">\n                              <span className=\"w-2 h-2 bg-green-500 rounded-full mr-2\"></span>\n                              Suggested now ({suggested.length})\n                            </h5>\n                            <div className=\"space-y-2\">\n                              {suggested.map((skill) => (\n                                <SkillRow\n                                  key={skill.id}\n                                  skill={skill}\n                                  status={skillStatuses[skill.id] || 'Not yet'}\n                                  lastObserved={lastObservedDates[skill.id]}\n                                  supports={sampleSupportsUsed[skill.id] || []}\n                                  isSelected={selectedSkills.includes(skill.id)}\n                                  isFocused={focusedSkillId === skill.id}\n                                  index={suggested.indexOf(skill)}\n                                  onSelectionChange={(selected) => {\n                                    if (selected) {\n                                      setSelectedSkills(prev => [...prev, skill.id]);\n                                    } else {\n                                      setSelectedSkills(prev => prev.filter(id => id !== skill.id));\n                                    }\n                                  }}\n                                  onStatusChange={(status) => handleSkillStatusChange(skill.id, status)}\n                                  onSupportsUpdate={(supports) => handleSkillSupportsUpdate(skill.id, supports)}\n                                  onKeyDown={(e) => handleKeyDown(e, skill.id, suggested.indexOf(skill))}\n                                  onFocus={() => handleSkillFocus(skill.id, suggested.indexOf(skill))}\n                                />\n                              ))}\n                            </div>\n                          </div>\n                        )}\n\n                        {/* Stretch Next Section */}\n                        {stretchNext.length > 0 && (\n                          <div>\n                            <h5 className=\"text-sm font-medium text-gray-900 mb-3 flex items-center\">\n                              <span className=\"w-2 h-2 bg-blue-500 rounded-full mr-2\"></span>\n                              Stretch next ({stretchNext.length})\n                            </h5>\n                            <div className=\"space-y-2\">\n                              {stretchNext.map((skill) => (\n                                <SkillRow\n                                  key={skill.id}\n                                  skill={skill}\n                                  status={skillStatuses[skill.id] || 'Not yet'}\n                                  lastObserved={lastObservedDates[skill.id]}\n                                  supports={sampleSupportsUsed[skill.id] || []}\n                                  isSelected={selectedSkills.includes(skill.id)}\n                                  isFocused={focusedSkillId === skill.id}\n                                  index={stretchNext.indexOf(skill)}\n                                  onSelectionChange={(selected) => {\n                                    if (selected) {\n                                      setSelectedSkills(prev => [...prev, skill.id]);\n                                    } else {\n                                      setSelectedSkills(prev => prev.filter(id => id !== skill.id));\n                                    }\n                                  }}\n                                  onStatusChange={(status) => handleSkillStatusChange(skill.id, status)}\n                                  onSupportsUpdate={(supports) => handleSkillSupportsUpdate(skill.id, supports)}\n                                  onKeyDown={(e) => handleKeyDown(e, skill.id, stretchNext.indexOf(skill))}\n                                  onFocus={() => handleSkillFocus(skill.id, stretchNext.indexOf(skill))}\n                                />\n                              ))}\n                            </div>\n                          </div>\n                        )}\n\n                        {/* Foundations Section */}\n                        {foundations.length > 0 && (\n                          <div>\n                            <h5 className=\"text-sm font-medium text-gray-900 mb-3 flex items-center\">\n                              <span className=\"w-2 h-2 bg-gray-500 rounded-full mr-2\"></span>\n                              Foundations ({foundations.length})\n                            </h5>\n                            <div className=\"space-y-2\">\n                              {foundations.map((skill) => (\n                                <SkillRow\n                                  key={skill.id}\n                                  skill={skill}\n                                  status={skillStatuses[skill.id] || 'Not yet'}\n                                  lastObserved={lastObservedDates[skill.id]}\n                                  supports={sampleSupportsUsed[skill.id] || []}\n                                  isSelected={selectedSkills.includes(skill.id)}\n                                  isFocused={focusedSkillId === skill.id}\n                                  index={foundations.indexOf(skill)}\n                                  onSelectionChange={(selected) => {\n                                    if (selected) {\n                                      setSelectedSkills(prev => [...prev, skill.id]);\n                                    } else {\n                                      setSelectedSkills(prev => prev.filter(id => id !== skill.id));\n                                    }\n                                  }}\n                                  onStatusChange={(status) => handleSkillStatusChange(skill.id, status)}\n                                  onSupportsUpdate={(supports) => handleSkillSupportsUpdate(skill.id, supports)}\n                                  onKeyDown={(e) => handleKeyDown(e, skill.id, foundations.indexOf(skill))}\n                                  onFocus={() => handleSkillFocus(skill.id, foundations.indexOf(skill))}\n                                />\n                              ))}\n                            </div>\n                          </div>\n                        )}\n\n                        {/* No Skills Message */}\n                        {suggested.length === 0 && stretchNext.length === 0 && foundations.length === 0 && (\n                          <div className=\"text-center py-8 text-gray-500\">\n                            <p>No skills match the current filters.</p>\n                            <p className=\"text-sm\">Try adjusting your search or filter criteria.</p>\n                          </div>\n                        )}\n                      </>\n                    );\n                  })()}\n                </div>\n\n                {/* Add Custom Skill */}\n                <div className=\"mt-6 pt-4 border-t border-gray-200\">\n                  <button\n                    onClick={() => setShowCustomSkillForm(true)}\n                    className=\"w-full px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                    aria-label=\"Add custom skill\"\n                  >\n                    + Add custom skill\n                  </button>\n                </div>\n              </div>\n\n              {/* Right Column - Care Ideas (30%, sticky) */}\n              <div \n                className=\"w-80 bg-white rounded-lg border border-gray-200 p-6 overflow-y-auto lg:sticky lg:top-6 lg:self-start\"\n                role=\"region\"\n                aria-label=\"Care Ideas\"\n              >\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h4 className=\"text-lg font-medium text-gray-900\">\n                    Care Ideas for {selectedDomainForDetail?.charAt(0).toUpperCase() + selectedDomainForDetail?.slice(1)}\n                  </h4>\n                  <button\n                    disabled\n                    className=\"px-3 py-1 text-xs font-medium text-gray-400 bg-gray-100 border border-gray-200 rounded cursor-not-allowed\"\n                    title=\"Coming soon\"\n                    aria-label=\"Generate care ideas using AI (coming soon)\"\n                  >\n                    Generate care ideas (AI)\n                  </button>\n                </div>\n                \n                {/* Personalize Bar */}\n                <div className=\"space-y-4 mb-6\">\n                  {/* Environment */}\n                  <div>\n                    <label className=\"block text-xs font-medium text-gray-700 mb-2\">Environment</label>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {['home', 'school', 'therapy', 'community'].map((env) => (\n                        <button\n                          key={env}\n                          onClick={() => {\n                            if (careIdeasEnvironment.includes(env)) {\n                              setCareIdeasEnvironment(prev => prev.filter(e => e !== env));\n                            } else {\n                              setCareIdeasEnvironment(prev => [...prev, env]);\n                            }\n                          }}\n                          className={`px-2 py-1 text-xs rounded-full border ${\n                            careIdeasEnvironment.includes(env)\n                              ? 'bg-blue-100 border-blue-300 text-blue-800'\n                              : 'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'\n                          }`}\n                          aria-label={`Filter by ${env} environment`}\n                        >\n                          {env.charAt(0).toUpperCase() + env.slice(1)}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                  \n                  {/* Supports Available */}\n                  <div>\n                    <label className=\"block text-xs font-medium text-gray-700 mb-2\">Supports available</label>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {['Visuals', 'AAC', 'Adaptive utensils', 'Orthotics', 'Timer', 'Sensory breaks'].map((support) => (\n                        <button\n                          key={support}\n                          onClick={() => {\n                            if (careIdeasSupports.includes(support.toLowerCase())) {\n                              setCareIdeasSupports(prev => prev.filter(s => s !== support.toLowerCase()));\n                            } else {\n                              setCareIdeasSupports(prev => [...prev, support.toLowerCase()]);\n                            }\n                          }}\n                          className={`px-2 py-1 text-xs rounded-full border ${\n                            careIdeasSupports.includes(support.toLowerCase())\n                              ? 'bg-green-100 border-green-300 text-green-800'\n                              : 'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'\n                          }`}\n                          aria-label={`Filter by ${support} support`}\n                        >\n                          {support}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                  \n                  {/* Time Available */}\n                  <div>\n                    <label className=\"block text-xs font-medium text-gray-700 mb-2\">Time available</label>\n                    <div className=\"flex gap-1\">\n                      {['5 min', '10-15 min', '20+ min'].map((time) => (\n                        <button\n                          key={time}\n                          onClick={() => setCareIdeasTimeAvailable(time)}\n                          className={`px-3 py-1 text-xs rounded-md border ${\n                            careIdeasTimeAvailable === time\n                              ? 'bg-purple-100 border-purple-300 text-purple-800'\n                              : 'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'\n                          }`}\n                          aria-label={`Select ${time} time available`}\n                        >\n                          {time}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n\n                {/* Care Ideas Cards */}\n                <div className=\"space-y-4\">\n                  {(() => {\n                    const filteredIdeas = getFilteredCareIdeas();\n                    \n                    if (filteredIdeas.length === 0) {\n                      return (\n                        <div className=\"text-center py-8 text-gray-500\">\n                          <p className=\"text-sm mb-3\">Log or update skills to see tailored ideas.</p>\n                          <button\n                            onClick={() => {\n                              // TODO: Navigate to skills section\n                              console.log('Navigate to skills');\n                            }}\n                            className=\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100\"\n                          >\n                            Go to Skills\n                          </button>\n                        </div>\n                      );\n                    }\n                    \n                    return filteredIdeas.map((idea) => (\n                      <div key={idea.id} className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n                        {/* Header */}\n                        <div className=\"flex items-start justify-between mb-3\">\n                          <h5 className=\"text-sm font-medium text-gray-900\">{idea.title}</h5>\n                          <button\n                            className=\"text-gray-400 hover:text-gray-600\"\n                            aria-label=\"Pin to shortcuts\"\n                            title=\"Pin to shortcuts\"\n                          >\n                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\" />\n                            </svg>\n                          </button>\n                        </div>\n                        \n                        {/* Tags */}\n                        <div className=\"flex flex-wrap gap-1 mb-3\">\n                          {idea.goalTags.map((tag) => (\n                            <span key={tag} className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                              {tag}\n                            </span>\n                          ))}\n                          <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${\n                            idea.levelTag === 'Suggested now' ? 'bg-green-100 text-green-800' :\n                            idea.levelTag === 'Stretch' ? 'bg-yellow-100 text-yellow-800' :\n                            'bg-gray-100 text-gray-800'\n                          }`}>\n                            {idea.levelTag}\n                          </span>\n                        </div>\n                        \n                        {/* Materials */}\n                        <div className=\"mb-3\">\n                          <span className=\"text-xs font-medium text-gray-700\">Materials: </span>\n                          <span className=\"text-xs text-gray-600\">{idea.materials.join(', ')}</span>\n                        </div>\n                        \n                        {/* Steps */}\n                        <div className=\"mb-3\">\n                          <span className=\"text-xs font-medium text-gray-700\">Steps:</span>\n                          <ul className=\"mt-1 space-y-1\">\n                            {idea.steps.map((step, index) => (\n                              <li key={index} className=\"text-xs text-gray-600 flex items-start\">\n                                <span className=\"text-gray-400 mr-1\">‚Ä¢</span>\n                                {step}\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                        \n                        {/* Adaptations */}\n                        {idea.adaptations.length > 0 && (\n                          <div className=\"mb-3\">\n                            <span className=\"text-xs font-medium text-gray-700\">Adaptations: </span>\n                            <div className=\"flex flex-wrap gap-1 mt-1\">\n                              {idea.adaptations.map((adaptation) => (\n                                <span key={adaptation} className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800\">\n                                  {adaptation}\n                                </span>\n                              ))}\n                            </div>\n                          </div>\n                        )}\n                        \n                        {/* Safety Note */}\n                        {idea.safetyNote && (\n                          <div className=\"mb-3 p-2 bg-red-50 border border-red-200 rounded\">\n                            <span className=\"text-xs font-medium text-red-800\">Safety: </span>\n                            <span className=\"text-xs text-red-700\">{idea.safetyNote}</span>\n                          </div>\n                        )}\n                        \n                        {/* Actions */}\n                        <div className=\"flex space-x-2 pt-3 border-t border-gray-200\">\n                          <button className=\"flex-1 px-2 py-1 text-xs font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded hover:bg-blue-100\">\n                            Save\n                          </button>\n                          <button className=\"flex-1 px-2 py-1 text-xs font-medium text-gray-600 bg-gray-50 border border-gray-200 rounded hover:bg-gray-100\">\n                            Print\n                          </button>\n                          <button className=\"flex-1 px-2 py-1 text-xs font-medium text-green-600 bg-green-50 border border-green-200 rounded hover:bg-green-100\">\n                            Share\n                          </button>\n                        </div>\n                      </div>\n                    ));\n                  })()}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Custom Skill Form Modal */}\n      {showCustomSkillForm && (\n        <div \n          className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"custom-skill-title\"\n        >\n          <div className=\"relative top-10 mx-auto p-6 border w-full max-w-md shadow-lg rounded-md bg-white\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 id=\"custom-skill-title\" className=\"text-lg font-semibold text-gray-900\">Add Custom Skill</h3>\n              <button\n                onClick={() => setShowCustomSkillForm(false)}\n                className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Close custom skill form\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              {/* Skill Name */}\n              <div>\n                <label htmlFor=\"custom-skill-name\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Skill Name *\n                </label>\n                <input\n                  id=\"custom-skill-name\"\n                  type=\"text\"\n                  value={customSkillForm.name}\n                  onChange={(e) => setCustomSkillForm(prev => ({ ...prev, name: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\"Enter skill name\"\n                  aria-describedby=\"skill-name-help\"\n                />\n                <p id=\"skill-name-help\" className=\"mt-1 text-sm text-gray-500\">\n                  Describe the specific skill you want to track\n                </p>\n              </div>\n\n              {/* Subdomain */}\n              <div>\n                <label htmlFor=\"custom-skill-subdomain\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Subdomain *\n                </label>\n                <select\n                  id=\"custom-skill-subdomain\"\n                  value={customSkillForm.subdomain}\n                  onChange={(e) => setCustomSkillForm(prev => ({ ...prev, subdomain: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"\">Select subdomain</option>\n                  {domainSubdomains[selectedDomainForDetail as keyof typeof domainSubdomains]?.map((subdomain) => (\n                    <option key={subdomain} value={subdomain.toLowerCase()}>\n                      {subdomain}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Level Band */}\n              <div>\n                <label htmlFor=\"custom-skill-level\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Level Band\n                </label>\n                <select\n                  id=\"custom-skill-level\"\n                  value={customSkillForm.levelBand}\n                  onChange={(e) => setCustomSkillForm(prev => ({ ...prev, levelBand: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"Early\">Early (0-12m)</option>\n                  <option value=\"Toddler\">Toddler (12-36m)</option>\n                  <option value=\"Preschool\">Preschool (3-5y)</option>\n                  <option value=\"School-age\">School-age (5+)</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex justify-end space-x-3 pt-6 border-t\">\n              <button\n                onClick={() => setShowCustomSkillForm(false)}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Cancel adding custom skill\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleAddCustomSkill}\n                disabled={!customSkillForm.name || !customSkillForm.subdomain}\n                className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                aria-label=\"Save custom skill\"\n              >\n                Save\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Skill History Drawer */}\n      {showSkillHistory && selectedSkillForHistory && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 z-50\">\n          <div className=\"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-xl\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-900\">\n                  {selectedSkillForHistory.name}\n                </h3>\n                <p className=\"text-sm text-gray-500 capitalize\">\n                  {selectedSkillForHistory.subdomain} ‚Ä¢ {selectedSkillForHistory.ageBand}\n                </p>\n              </div>\n              <button\n                onClick={() => setShowSkillHistory(false)}\n                className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Close skill history\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            {/* Content */}\n            <div className=\"flex-1 overflow-y-auto p-6\">\n              {/* Actions */}\n              <div className=\"flex space-x-2 mb-6\">\n                <button\n                  onClick={handleEditLastEntry}\n                  className=\"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                >\n                  Edit last entry\n                </button>\n                <button\n                  onClick={() => setShowAddNoteForm(true)}\n                  className=\"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-50 border border-gray-200 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n                >\n                  Add note\n                </button>\n              </div>\n\n              {/* Status Changes Timeline */}\n              <div className=\"mb-8\">\n                <h4 className=\"text-md font-medium text-gray-900 mb-4\">Status Changes</h4>\n                <div className=\"space-y-4\">\n                  {skillHistoryData[selectedSkillForHistory.id]?.statusChanges?.map((change, index) => (\n                    <div key={index} className=\"relative pl-6\">\n                      {/* Timeline dot */}\n                      <div className=\"absolute left-0 top-2 w-3 h-3 bg-blue-500 rounded-full\"></div>\n                      \n                      {/* Timeline line */}\n                      {index < (skillHistoryData[selectedSkillForHistory.id]?.statusChanges?.length || 0) - 1 && (\n                        <div className=\"absolute left-1.5 top-5 w-0.5 h-8 bg-gray-200\"></div>\n                      )}\n                      \n                      {/* Content */}\n                      <div className=\"bg-gray-50 rounded-lg p-3\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                          <span className=\"text-sm font-medium text-gray-900\">\n                            {change.status}\n                          </span>\n                          <span className=\"text-xs text-gray-500\">\n                            {new Date(change.date).toLocaleDateString()}\n                          </span>\n                        </div>\n                        \n                        {change.supports.length > 0 && (\n                          <div className=\"mb-2\">\n                            <span className=\"text-xs text-gray-600\">Supports: </span>\n                            <span className=\"text-xs text-gray-800\">\n                              {change.supports.join(', ')}\n                            </span>\n                          </div>\n                        )}\n                        \n                        <div className=\"text-xs text-gray-500\">\n                          Updated by {change.author}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                  \n                  {(!skillHistoryData[selectedSkillForHistory.id]?.statusChanges || skillHistoryData[selectedSkillForHistory.id].statusChanges.length === 0) && (\n                    <div className=\"text-center py-4 text-gray-500\">\n                      <p className=\"text-sm\">No status changes recorded yet.</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Notes */}\n              <div>\n                <h4 className=\"text-md font-medium text-gray-900 mb-4\">Notes</h4>\n                <div className=\"space-y-3\">\n                  {skillHistoryData[selectedSkillForHistory.id]?.notes?.map((note, index) => (\n                    <div key={index} className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\">\n                      <div className=\"flex items-start justify-between mb-2\">\n                        <span className=\"text-xs font-medium text-yellow-800\">\n                          {note.author}\n                        </span>\n                        <span className=\"text-xs text-yellow-600\">\n                          {new Date(note.timestamp).toLocaleString()}\n                        </span>\n                      </div>\n                      <p className=\"text-sm text-yellow-900\">{note.text}</p>\n                    </div>\n                  ))}\n                  \n                  {(!skillHistoryData[selectedSkillForHistory.id]?.notes || skillHistoryData[selectedSkillForHistory.id].notes.length === 0) && (\n                    <div className=\"text-center py-4 text-gray-500\">\n                      <p className=\"text-sm\">No notes yet.</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Add Note Form Modal */}\n      {showAddNoteForm && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 z-50 flex items-center justify-center\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Add Note</h3>\n              <button\n                onClick={() => setShowAddNoteForm(false)}\n                className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Close add note form\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"mb-4\">\n              <label htmlFor=\"note-text\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Note *\n              </label>\n              <textarea\n                id=\"note-text\"\n                value={newNoteText}\n                onChange={(e) => setNewNoteText(e.target.value)}\n                rows={4}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Enter your note about this skill...\"\n                aria-describedby=\"note-help\"\n              />\n              <p id=\"note-help\" className=\"mt-1 text-sm text-gray-500\">\n                Add observations, progress notes, or reminders about this skill.\n              </p>\n            </div>\n\n            <div className=\"flex justify-end space-x-3\">\n              <button\n                onClick={() => setShowAddNoteForm(false)}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleAddNote}\n                disabled={!newNoteText.trim()}\n                className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                Add Note\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Progress Timeline Section (Desktop) */}\n      <div className=\"hidden lg:block mt-8 bg-white rounded-lg border border-gray-200 p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h4 className=\"text-lg font-medium text-gray-900\">Progress Timeline</h4>\n          \n          {/* Progress Controls */}\n          <div className=\"flex items-center space-x-4\">\n            {/* Time Scope */}\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-sm text-gray-700\">Time scope:</span>\n              <div className=\"flex space-x-1\">\n                {['30 days', '90 days', 'Custom'].map((scope) => (\n                  <button\n                    key={scope}\n                    onClick={() => setProgressTimeScope(scope)}\n                    className={`px-3 py-1 text-xs rounded-md border ${\n                      progressTimeScope === scope\n                        ? 'bg-blue-100 border-blue-300 text-blue-800'\n                        : 'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'\n                    }`}\n                  >\n                    {scope}\n                  </button>\n                ))}\n              </div>\n              \n              {/* Custom Date Range */}\n              {progressTimeScope === 'Custom' && (\n                <div className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"date\"\n                    value={progressCustomStartDate}\n                    onChange={(e) => setProgressCustomStartDate(e.target.value)}\n                    className=\"text-xs border border-gray-300 rounded px-2 py-1\"\n                    placeholder=\"Start date\"\n                  />\n                  <span className=\"text-xs text-gray-500\">to</span>\n                  <input\n                    type=\"date\"\n                    value={progressCustomEndDate}\n                    onChange={(e) => setProgressCustomEndDate(e.target.value)}\n                    className=\"text-xs border border-gray-300 rounded px-2 py-1\"\n                    placeholder=\"End date\"\n                  />\n                </div>\n              )}\n            </div>\n            \n            {/* View Type */}\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-sm text-gray-700\">View:</span>\n              <div className=\"flex space-x-1\">\n                {['By date', 'By subdomain'].map((view) => (\n                  <button\n                    key={view}\n                    onClick={() => setProgressView(view as 'By date' | 'By subdomain')}\n                    className={`px-3 py-1 text-xs rounded-md border ${\n                      progressView === view\n                        ? 'bg-green-100 border-green-300 text-green-800'\n                        : 'bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200'\n                    }`}\n                  >\n                    {view}\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Progress Visualization */}\n        <div className=\"mb-6\">\n          {(() => {\n            const progressData = getProgressDataForDomain();\n            if (!progressData) {\n              return (\n                <div className=\"text-center py-8 text-gray-500\">\n                  <p className=\"text-sm\">No progress data available for this domain.</p>\n                </div>\n              );\n            }\n\n            if (progressView === 'By date') {\n              return (\n                <div>\n                  <h5 className=\"text-sm font-medium text-gray-900 mb-4\">Timeline View</h5>\n                  <div className=\"relative\">\n                    {/* Timeline line */}\n                    <div className=\"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200\"></div>\n                    \n                    {/* Timeline entries */}\n                    <div className=\"space-y-4\">\n                      {progressData.timeline.map((item, index) => (\n                        <div key={index} className=\"relative pl-12\">\n                          {/* Timeline dot */}\n                          <div className={`absolute left-4 top-2 w-4 h-4 rounded-full border-2 ${\n                            item.status === 'Observed' \n                              ? 'bg-green-500 border-green-600' \n                              : 'bg-yellow-500 border-yellow-600'\n                          }`}></div>\n                          \n                          {/* Content */}\n                          <div className=\"bg-gray-50 rounded-lg p-3\">\n                            <div className=\"flex items-center justify-between mb-2\">\n                              <span className=\"text-sm font-medium text-gray-900\">\n                                {item.skill}\n                              </span>\n                              <span className=\"text-xs text-gray-500\">\n                                {new Date(item.date).toLocaleDateString()}\n                              </span>\n                            </div>\n                            <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${\n                              item.status === 'Observed' \n                                ? 'bg-green-100 text-green-800' \n                                : 'bg-yellow-100 text-yellow-800'\n                            }`}>\n                              {item.status}\n                            </span>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              );\n            } else {\n              return (\n                <div>\n                  <h5 className=\"text-sm font-medium text-gray-900 mb-4\">Subdomain View</h5>\n                  <div className=\"grid grid-cols-2 gap-6\">\n                    {Object.entries(progressData.subdomains).map(([subdomain, counts]) => (\n                      <div key={subdomain} className=\"space-y-3\">\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-sm font-medium text-gray-700 capitalize\">\n                            {subdomain}\n                          </span>\n                          <span className=\"text-xs text-gray-500\">\n                            {counts.observed + counts.emerging} skills\n                          </span>\n                        </div>\n                        \n                        {/* Progress bars */}\n                        <div className=\"space-y-2\">\n                          <div className=\"flex items-center space-x-2\">\n                            <span className=\"text-xs text-gray-500 w-16\">Observed:</span>\n                            <div className=\"flex-1 bg-gray-200 rounded-full h-3\">\n                              <div \n                                className=\"bg-green-500 h-3 rounded-full transition-all duration-300\"\n                                style={{ width: `${(counts.observed / Math.max(counts.observed + counts.emerging, 1)) * 100}%` }}\n                              ></div>\n                            </div>\n                            <span className=\"text-xs text-gray-700 w-8\">{counts.observed}</span>\n                          </div>\n                          \n                          <div className=\"flex items-center space-x-2\">\n                            <span className=\"text-xs text-gray-500 w-16\">Emerging:</span>\n                            <div className=\"flex-1 bg-gray-200 rounded-full h-3\">\n                              <div \n                                className=\"bg-yellow-500 h-3 rounded-full transition-all duration-300\"\n                                style={{ width: `${(counts.emerging / Math.max(counts.observed + counts.emerging, 1)) * 100}%` }}\n                              ></div>\n                            </div>\n                            <span className=\"text-xs text-gray-700 w-8\">{counts.emerging}</span>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              );\n            }\n          })()}\n        </div>\n\n        {/* New Skills Added List */}\n        <div className=\"mb-6\">\n          <h5 className=\"text-sm font-medium text-gray-900 mb-4\">New skills added</h5>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n            {(() => {\n              const progressData = getProgressDataForDomain();\n              if (!progressData || progressData.timeline.length === 0) {\n                return (\n                  <div className=\"col-span-2 text-center py-4 text-gray-500\">\n                    <p className=\"text-sm\">No new skills in the selected time period.</p>\n                  </div>\n                );\n              }\n\n              return progressData.timeline\n                .filter(item => item.status === 'Observed')\n                .map((item, index) => (\n                  <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                    <div>\n                      <div className=\"text-sm font-medium text-gray-900\">{item.skill}</div>\n                      <div className=\"text-xs text-gray-500\">\n                        {new Date(item.date).toLocaleDateString()}\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <button\n                        onClick={() => {\n                          // TODO: Navigate to skill history\n                          console.log('Navigate to skill history for:', item.skill);\n                        }}\n                        className=\"text-xs text-blue-600 hover:text-blue-700 underline\"\n                      >\n                        View history\n                      </button>\n                      <button\n                        onClick={() => {\n                          if (visitPacketItems.has(item.skill)) {\n                            handleRemoveFromVisitPacket(item.skill, 'Progress item');\n                          } else {\n                            handleAddToVisitPacket(item.skill, 'Progress item');\n                          }\n                        }}\n                        className={`text-xs px-2 py-1 rounded ${\n                          visitPacketItems.has(item.skill)\n                            ? 'text-red-600 bg-red-50 border border-red-200'\n                            : 'text-green-600 bg-green-50 border border-green-200'\n                        }`}\n                      >\n                        {visitPacketItems.has(item.skill) ? 'Remove' : 'Add to Visit Packet'}\n                      </button>\n                    </div>\n                  </div>\n                ));\n            })()}\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex space-x-3\">\n          <button\n            onClick={handleExportDomainProgress}\n            className=\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n          >\n            Export domain progress (PDF)\n          </button>\n          <button\n            onClick={() => handleAddToVisitPacket('domain-progress', 'Domain progress')}\n            className=\"px-4 py-2 text-sm font-medium text-green-600 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n          >\n            Add to Visit Packet\n          </button>\n        </div>\n      </div>\n\n      {/* Export Domain Report Modal */}\n      {showExportReportModal && (\n        <div \n          className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"export-report-title\"\n        >\n          <div className=\"relative top-10 mx-auto p-6 border w-full max-w-2xl shadow-lg rounded-md bg-white\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 id=\"export-report-title\" className=\"text-lg font-semibold text-gray-900\">\n                Export Domain Report\n              </h3>\n              <button\n                onClick={() => {\n                  setShowExportReportModal(false);\n                  setExportReportStatus('options');\n                }}\n                className=\"text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                aria-label=\"Close export report modal\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            {/* Content based on status */}\n            {exportReportStatus === 'options' && (\n              <div className=\"space-y-6\">\n                {/* Date Range Picker */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-3\">Date Range</label>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label htmlFor=\"export-start-date\" className=\"block text-xs font-medium text-gray-600 mb-1\">\n                        Start Date\n                      </label>\n                      <input\n                        id=\"export-start-date\"\n                        type=\"date\"\n                        value={exportReportOptions.dateRange.start}\n                        onChange={(e) => setExportReportOptions(prev => ({\n                          ...prev,\n                          dateRange: { ...prev.dateRange, start: e.target.value }\n                        }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      />\n                    </div>\n                    <div>\n                      <label htmlFor=\"export-end-date\" className=\"block text-xs font-medium text-gray-600 mb-1\">\n                        End Date\n                      </label>\n                      <input\n                        id=\"export-end-date\"\n                        type=\"date\"\n                        value={exportReportOptions.dateRange.end}\n                        onChange={(e) => setExportReportOptions(prev => ({\n                          ...prev,\n                          dateRange: { ...prev.dateRange, end: e.target.value }\n                        }))}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                {/* Include Options */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-3\">Include</label>\n                  <div className=\"space-y-2\">\n                    {[\n                      { key: 'observed', label: 'Observed skills', description: 'Skills marked as observed in the selected time range' },\n                      { key: 'emerging', label: 'Emerging skills', description: 'Skills marked as emerging in the selected time range' },\n                      { key: 'notes', label: 'Notes and observations', description: 'All notes and observations for skills in the selected time range' }\n                    ].map((option) => (\n                      <label key={option.key} className=\"flex items-start\">\n                        <input\n                          type=\"checkbox\"\n                          checked={exportReportOptions.include[option.key as keyof typeof exportReportOptions.include]}\n                          onChange={(e) => setExportReportOptions(prev => ({\n                            ...prev,\n                            include: { ...prev.include, [option.key]: e.target.checked }\n                          }))}\n                          className=\"mt-1 mr-3 text-blue-600 focus:ring-blue-500\"\n                        />\n                        <div>\n                          <span className=\"text-sm font-medium text-gray-900\">{option.label}</span>\n                          <p className=\"text-xs text-gray-500\">{option.description}</p>\n                        </div>\n                      </label>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Sections */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-3\">Report Sections</label>\n                  <div className=\"space-y-2\">\n                    {[\n                      { key: 'skillsList', label: 'Skills List', description: 'Complete list of skills with current status and progress' },\n                      { key: 'careIdeasSnapshot', label: 'Care Ideas Snapshot', description: 'Current care ideas and activity suggestions' },\n                      { key: 'timelineChart', label: 'Timeline Chart', description: 'Visual timeline of skill development progress' }\n                    ].map((section) => (\n                      <label key={section.key} className=\"flex items-start\">\n                        <input\n                          type=\"checkbox\"\n                          checked={exportReportOptions.sections[section.key as keyof typeof exportReportOptions.sections]}\n                          onChange={(e) => setExportReportOptions(prev => ({\n                            ...prev,\n                            sections: { ...prev.sections, [section.key]: e.target.checked }\n                          }))}\n                          className=\"mt-1 mr-3 text-blue-600 focus:ring-blue-500\"\n                        />\n                        <div>\n                          <span className=\"text-sm font-medium text-gray-900\">{section.label}</span>\n                          <p className=\"text-xs text-gray-500\">{section.description}</p>\n                        </div>\n                      </label>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n                  <button\n                    onClick={() => {\n                      setShowExportReportModal(false);\n                      setExportReportStatus('options');\n                    }}\n                    className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={handleExportDomainReport}\n                    disabled={!exportReportOptions.dateRange.start || !exportReportOptions.dateRange.end}\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    Generate PDF\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* Generating Status */}\n            {exportReportStatus === 'generating' && (\n              <div className=\"text-center py-12\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n                <h4 className=\"text-lg font-medium text-gray-900 mb-2\">Generating Report</h4>\n                <p className=\"text-sm text-gray-500\">\n                  Creating your domain report with the selected options...\n                </p>\n              </div>\n            )}\n\n            {/* Ready Status */}\n            {exportReportStatus === 'ready' && (\n              <div className=\"text-center py-8\">\n                <div className=\"mx-auto mb-4 w-16 h-16 bg-green-100 rounded-full flex items-center justify-center\">\n                  <svg className=\"w-8 h-8 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                  </svg>\n                </div>\n                <h4 className=\"text-lg font-medium text-gray-900 mb-2\">Report Ready!</h4>\n                <p className=\"text-sm text-gray-500 mb-6\">\n                  Your domain report has been generated successfully.\n                </p>\n                \n                {/* Action Buttons */}\n                <div className=\"flex flex-col sm:flex-row justify-center space-y-3 sm:space-y-0 sm:space-x-3\">\n                  <button\n                    onClick={handleDownloadReport}\n                    className=\"px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    Download Report\n                  </button>\n                  <button\n                    onClick={handleSaveToVisitPacket}\n                    className=\"px-6 py-2 text-sm font-medium text-green-600 bg-green-50 border border-green-200 rounded-md hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n                  >\n                    Save to Visit Packet\n                  </button>\n                </div>\n                \n                {/* Close Button */}\n                <button\n                  onClick={() => {\n                    setShowExportReportModal(false);\n                    setExportReportStatus('options');\n                  }}\n                  className=\"mt-4 text-sm text-gray-500 hover:text-gray-700 underline\"\n                >\n                  Close\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Practice Plan Drawer */}\n      {showPracticePlanDrawer && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-xl\">\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">Practice Plan</h2>\n              <button\n                onClick={() => setShowPracticePlanDrawer(false)}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            \n            <div className=\"flex-1 overflow-y-auto\">\n              {practicePlanItems.length === 0 ? (\n                <div className=\"p-6 text-center\">\n                  <div className=\"text-gray-400 mb-4\">\n                    <svg className=\"mx-auto h-16 w-16\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n                    </svg>\n                  </div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                    Practice Plan\n                  </h3>\n                  <p className=\"text-gray-500 mb-6\">\n                    Add ideas from the library to build your practice plan.\n                  </p>\n                </div>\n              ) : (\n                <div className=\"p-6 space-y-4\">\n                  {practicePlanItems.map((item, index) => (\n                    <div key={item.id} className=\"bg-gray-50 rounded-lg p-4 border border-gray-200\">\n                      {/* Item Header */}\n                      <div className=\"flex items-start justify-between mb-3\">\n                        <div className=\"flex-1\">\n                          <h3 className=\"text-sm font-medium text-gray-900 mb-1\">{item.title}</h3>\n                          <div className=\"flex items-center space-x-3 text-xs text-gray-600 mb-2\">\n                            <span className=\"flex items-center\">\n                              <svg className=\"w-3 h-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                              </svg>\n                              {item.environment}\n                            </span>\n                            <span className=\"flex items-center\">\n                              <svg className=\"w-3 h-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                              </svg>\n                              {item.time}\n                            </span>\n                          </div>\n                          <span className=\"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full\">\n                            {item.domain}\n                          </span>\n                        </div>\n                        <button\n                          onClick={() => handleRemoveFromPlan(item.id)}\n                          className=\"text-gray-400 hover:text-red-600 p-1\"\n                        >\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                          </svg>\n                        </button>\n                      </div>\n\n                      {/* Notes */}\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">Notes (optional)</label>\n                        <textarea\n                          value={item.notes}\n                          onChange={(e) => handleUpdatePlanItemNotes(item.id, e.target.value)}\n                          placeholder=\"Add notes for this activity...\"\n                          maxLength={100}\n                          className=\"w-full px-3 py-2 text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none\"\n                          rows={2}\n                        />\n                        <div className=\"text-xs text-gray-500 text-right mt-1\">\n                          {item.notes.length}/100\n                        </div>\n                      </div>\n\n                      {/* Drag Handle */}\n                      <div className=\"mt-3 flex items-center justify-center\">\n                        <div className=\"w-8 h-1 bg-gray-300 rounded-full cursor-move\"></div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Actions Footer */}\n            {practicePlanItems.length > 0 && (\n              <div className=\"border-t border-gray-200 p-6 space-y-3\">\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <button\n                    onClick={handlePrintPlan}\n                    className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    Print plan\n                  </button>\n                  <button\n                    onClick={handleSharePlan}\n                    className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    Share with school/therapist\n                  </button>\n                </div>\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <button\n                    onClick={handleSavePlan}\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    Save as weekly plan\n                  </button>\n                  <button\n                    onClick={handleClearPlan}\n                    className=\"px-4 py-2 text-sm font-medium text-red-700 bg-red-50 border border-red-200 rounded-md hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                  >\n                    Clear plan\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Save Plan Modal */}\n      {showSavePlanModal && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-6 border w-96 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Save Weekly Plan</h3>\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Plan Name</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"e.g., Week 12\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  id=\"plan-name\"\n                />\n              </div>\n              <div className=\"flex justify-end space-x-3\">\n                <button\n                  onClick={() => setShowSavePlanModal(false)}\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={() => {\n                    const planName = (document.getElementById('plan-name') as HTMLInputElement)?.value;\n                    if (planName) {\n                      setSavedPlans(prev => [...prev, { name: planName, items: practicePlanItems }]);\n                      setShowSavePlanModal(false);\n                      // TODO: Show toast message\n                    }\n                  }}\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                >\n                  Save\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Toast Notification with live region */}\n      {showToast && (\n        <div \n          className={`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg border ${\n            toastType === 'success' ? 'bg-green-50 border-green-200 text-green-800' :\n            toastType === 'info' ? 'bg-blue-50 border-blue-200 text-blue-800' :\n            'bg-red-50 border-red-200 text-red-800'\n          }`}\n          role=\"alert\"\n          aria-live=\"polite\"\n          aria-atomic=\"true\"\n        >\n          <div className=\"flex items-center space-x-2\">\n            {toastType === 'success' && (\n              <svg className=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n              </svg>\n            )}\n            {toastType === 'info' && (\n              <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n            )}\n            {toastType === 'error' && (\n              <svg className=\"w-5 h-5 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n            )}\n            <span className=\"text-sm font-medium\">{toastMessage}</span>\n          </div>\n        </div>\n      )}\n\n      {/* Mobile Sticky Save/Update Bar */}\n      <div className=\"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-40\">\n        <div className=\"flex space-x-3\">\n          <button\n            onClick={() => {\n              // TODO: Save all changes\n              showToastMessage('Changes saved successfully');\n            }}\n            className=\"flex-1 px-4 py-3 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n          >\n            Save Changes\n          </button>\n          <button\n            onClick={() => {\n              // TODO: Reset changes\n              showToastMessage('Changes reset');\n            }}\n            className=\"px-4 py-3 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n          >\n            Reset\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default GrowthDevelopmentScreen; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}