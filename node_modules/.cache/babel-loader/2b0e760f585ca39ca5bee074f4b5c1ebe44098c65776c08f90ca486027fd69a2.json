{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';// Back arrow icon component\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BackArrowIcon=()=>/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 19l-7-7 7-7\"})});const MedicationTracker=_ref=>{let{onBack}=_ref;// State management\nconst[searchQuery,setSearchQuery]=useState('');const[debouncedSearchQuery,setDebouncedSearchQuery]=useState('');const[showLogModal,setShowLogModal]=useState(false);const[showAISuggestion,setShowAISuggestion]=useState(true);const[currentStep,setCurrentStep]=useState('search');const[selectedMedication,setSelectedMedication]=useState('');const[selectedTime,setSelectedTime]=useState('');const[selectedNotes,setSelectedNotes]=useState('');const[historyTimeFilter,setHistoryTimeFilter]=useState('7days');// Search dropdown state\nconst[showDropdown,setShowDropdown]=useState(false);const[selectedIndex,setSelectedIndex]=useState(-1);// History section state\nconst[isHistoryExpanded,setIsHistoryExpanded]=useState(false);const[showMoreHistory,setShowMoreHistory]=useState(false);// AI Suggestions state\nconst[currentSuggestion,setCurrentSuggestion]=useState(null);const[suggestionQueue,setSuggestionQueue]=useState([]);// Enhanced logging modal state\nconst[showAdvancedOptions,setShowAdvancedOptions]=useState(false);const[dosage,setDosage]=useState('');const[dosageUnit,setDosageUnit]=useState('mg');const[medicationForm,setMedicationForm]=useState('pill');const[schedule,setSchedule]=useState('once_daily');const[customSchedule,setCustomSchedule]=useState('');const[asNeeded,setAsNeeded]=useState(false);const[timeOfLastDose,setTimeOfLastDose]=useState(()=>{const now=new Date();return`${now.getHours().toString().padStart(2,'0')}:${now.getMinutes().toString().padStart(2,'0')}`;});const[startDate,setStartDate]=useState(()=>{const today=new Date();return today.toISOString().split('T')[0];});const[instructions,setInstructions]=useState('');const[uniqueIdentifier,setUniqueIdentifier]=useState('');const[showConfirmation,setShowConfirmation]=useState(false);const[errors,setErrors]=useState({});const[isSaving,setIsSaving]=useState(false);// Set Reminder modal state\nconst[showSetReminderModal,setShowSetReminderModal]=useState(false);const[reminderMedication,setReminderMedication]=useState('');const[reminderRepeatSchedule,setReminderRepeatSchedule]=useState('daily');const[reminderSpecificDays,setReminderSpecificDays]=useState([]);const[reminderEveryXHours,setReminderEveryXHours]=useState('24');const[reminderTimesPerDay,setReminderTimesPerDay]=useState(['breakfast']);const[reminderCustomTime,setReminderCustomTime]=useState('');const[reminderStartDate,setReminderStartDate]=useState(()=>{const today=new Date();return today.toISOString().split('T')[0];});const[reminderEndDate,setReminderEndDate]=useState('');const[reminderMethod,setReminderMethod]=useState('in_app');const[reminderNotes,setReminderNotes]=useState('');const[editingReminderId,setEditingReminderId]=useState(null);// Mock AI suggestions - would be provided by backend/AI\nconst mockSuggestions=[{id:'1',type:'refill',message:\"You're due for a refill on Clobazam.\",icon:'ðŸ””',action:'Request refill',priority:'high'},{id:'2',type:'compliance',message:\"Great job! You've taken Levetiracetam (Keppra) consistently for 7 days.\",icon:'ðŸ’¡',action:'View progress',priority:'low'},{id:'3',type:'appointment',message:\"Don't forget your follow-up appointment tomorrow at 2:30 PM.\",icon:'ðŸ“…',action:'View details',priority:'high'},{id:'4',type:'interaction',message:\"Consider taking Clobazam with food to reduce stomach upset.\",icon:'ðŸ’Š',action:'Learn more',priority:'medium'}];// Mock medication data\nconst[medicationHistory,setMedicationHistory]=useState([{id:'1',medicationName:'Clobazam',dosage:'10mg',frequency:'Twice daily',timeTaken:'9:00 AM',date:'2024-01-15',icon:'ðŸ’Š',status:'taken',notes:'Taken with breakfast'},{id:'2',medicationName:'Levetiracetam (Keppra)',dosage:'500mg',frequency:'Twice daily',timeTaken:'9:00 AM',date:'2024-01-15',icon:'ðŸ’Š',status:'taken'},{id:'3',medicationName:'Melatonin',dosage:'3mg',frequency:'Once daily at bedtime',timeTaken:'9:00 PM',date:'2024-01-14',icon:'ðŸŒ™',status:'taken'},{id:'4',medicationName:'Clobazam',dosage:'10mg',frequency:'Twice daily',timeTaken:'9:00 AM',date:'2024-01-14',icon:'ðŸ’Š',status:'missed',notes:'Forgot to take'}]);// Mock medication database - Complete 50 medications list\nconst medicationDatabase=[// Antiepileptic / Seizure Medications\n{name:'Clobazam',dosage:'10mg',frequency:'Twice daily'},{name:'Levetiracetam (Keppra)',dosage:'500mg',frequency:'Twice daily'},{name:'Valproic Acid (Depakote)',dosage:'250mg',frequency:'Twice daily'},{name:'Lamotrigine (Lamictal)',dosage:'25mg',frequency:'Once daily'},{name:'Topiramate (Topamax)',dosage:'25mg',frequency:'Twice daily'},{name:'Oxcarbazepine (Trileptal)',dosage:'300mg',frequency:'Twice daily'},{name:'Carbamazepine (Tegretol)',dosage:'200mg',frequency:'Twice daily'},{name:'Gabapentin (Neurontin)',dosage:'300mg',frequency:'Three times daily'},{name:'Lacosamide (Vimpat)',dosage:'50mg',frequency:'Twice daily'},{name:'Ethosuximide (Zarontin)',dosage:'250mg',frequency:'Twice daily'},// Sleep Aids / Melatonin Modulators\n{name:'Melatonin',dosage:'3mg',frequency:'Once daily at bedtime'},{name:'Clonidine',dosage:'0.1mg',frequency:'Twice daily'},{name:'Trazodone',dosage:'25mg',frequency:'Once daily at bedtime'},{name:'Mirtazapine',dosage:'15mg',frequency:'Once daily at bedtime'},{name:'Hydroxyzine',dosage:'25mg',frequency:'As needed'},// Behavioral / Mood Stabilizers\n{name:'Risperidone (Risperdal)',dosage:'0.5mg',frequency:'Twice daily'},{name:'Aripiprazole (Abilify)',dosage:'2mg',frequency:'Once daily'},{name:'Quetiapine (Seroquel)',dosage:'25mg',frequency:'Twice daily'},{name:'Olanzapine (Zyprexa)',dosage:'2.5mg',frequency:'Once daily'},{name:'Lithium',dosage:'300mg',frequency:'Twice daily'},{name:'Ziprasidone',dosage:'20mg',frequency:'Twice daily'},{name:'Lurasidone (Latuda)',dosage:'20mg',frequency:'Once daily'},// Stimulants / ADHD-Related\n{name:'Methylphenidate (Ritalin, Concerta)',dosage:'10mg',frequency:'Once daily'},{name:'Amphetamine/Dextroamphetamine (Adderall)',dosage:'5mg',frequency:'Once daily'},{name:'Lisdexamfetamine (Vyvanse)',dosage:'20mg',frequency:'Once daily'},{name:'Atomoxetine (Strattera)',dosage:'25mg',frequency:'Once daily'},{name:'Guanfacine',dosage:'1mg',frequency:'Once daily'},// Anxiety / Depression / OCD\n{name:'Sertraline (Zoloft)',dosage:'25mg',frequency:'Once daily'},{name:'Fluoxetine (Prozac)',dosage:'10mg',frequency:'Once daily'},{name:'Citalopram (Celexa)',dosage:'10mg',frequency:'Once daily'},{name:'Escitalopram (Lexapro)',dosage:'5mg',frequency:'Once daily'},{name:'Buspirone',dosage:'5mg',frequency:'Twice daily'},{name:'Duloxetine (Cymbalta)',dosage:'20mg',frequency:'Once daily'},// GI & Motility Support (Common in PMS)\n{name:'Polyethylene Glycol (MiraLAX)',dosage:'17g',frequency:'Once daily'},{name:'Lactulose',dosage:'15ml',frequency:'Twice daily'},{name:'Senna',dosage:'8.6mg',frequency:'Once daily'},{name:'Docusate Sodium',dosage:'100mg',frequency:'Once daily'},{name:'Ranitidine',dosage:'75mg',frequency:'Twice daily'},{name:'Famotidine (Pepcid)',dosage:'10mg',frequency:'Twice daily'},{name:'Omeprazole (Prilosec)',dosage:'20mg',frequency:'Once daily'},{name:'Esomeprazole (Nexium)',dosage:'20mg',frequency:'Once daily'},// Other Neurological / Supportive Medications\n{name:'Baclofen',dosage:'10mg',frequency:'Three times daily'},{name:'Diazepam',dosage:'2mg',frequency:'As needed'},{name:'Clonazepam',dosage:'0.25mg',frequency:'Twice daily'},{name:'Midazolam',dosage:'5mg',frequency:'Emergency use only'},{name:'Propranolol',dosage:'10mg',frequency:'Twice daily'},// Targeted / Investigational\n{name:'Insulin-like Growth Factor-1 (IGF-1)',dosage:'Varies',frequency:'As prescribed'},{name:'Ketamine',dosage:'Varies',frequency:'As prescribed'},{name:'Bumetanide',dosage:'0.5mg',frequency:'Once daily'},{name:'Cannabidiol (Epidiolex)',dosage:'5mg/kg',frequency:'Twice daily'}];// Quick log items - Show only 3-4 medications initially\nconst quickLogItems=[{id:'1',name:'Clobazam',icon:'ðŸ’Š',type:'medication',recentlyUsed:true,popular:true},{id:'2',name:'Levetiracetam (Keppra)',icon:'ðŸ’Š',type:'medication',recentlyUsed:true,popular:false},{id:'3',name:'Melatonin',icon:'ðŸŒ™',type:'medication',recentlyUsed:false,popular:true},{id:'4',name:'Risperidone (Risperdal)',icon:'ðŸ’Š',type:'medication',recentlyUsed:true,popular:false}];// Reminders data - would be provided by backend/AI\nconst[reminders,setReminders]=useState([{id:'1',type:'medication',name:'Clobazam',dose:'10mg',time:'8:00 AM',icon:'ðŸ’Š',status:'pending',notes:'Take with breakfast',repeatSchedule:'daily',timesPerDay:['breakfast'],startDate:'2024-01-01',endDate:'',method:'in_app',nextDose:'8:00 AM'},{id:'2',type:'medication',name:'Levetiracetam (Keppra)',dose:'500mg',time:'9:00 AM',icon:'ðŸ’Š',status:'pending',notes:'Take with food',repeatSchedule:'daily',timesPerDay:['breakfast','dinner'],startDate:'2024-01-01',endDate:'',method:'in_app',nextDose:'9:00 AM'},{id:'3',type:'appointment',name:'Dr. Smith - Follow-up',time:'2:30 PM',icon:'ðŸ“…',status:'pending',location:'Medical Center, Room 205',repeatSchedule:'as_needed',timesPerDay:[],startDate:'2024-01-01',endDate:'',method:'in_app',nextDose:'2:30 PM'},{id:'4',type:'medication',name:'Melatonin',dose:'3mg',time:'9:00 PM',icon:'ðŸŒ™',status:'taken',notes:'Taken at bedtime',repeatSchedule:'daily',timesPerDay:['bedtime'],startDate:'2024-01-01',endDate:'',method:'in_app',nextDose:'9:00 PM'}]);// Debounced search effect\nuseEffect(()=>{const timer=setTimeout(()=>{setDebouncedSearchQuery(searchQuery);},250);return()=>clearTimeout(timer);},[searchQuery]);// Get filtered medications based on debounced search\nconst filteredMedications=debouncedSearchQuery.trim()===''?[]:medicationDatabase.filter(med=>med.name.toLowerCase().includes(debouncedSearchQuery.toLowerCase())).slice(0,8);// Enhanced search suggestions with descriptors from new medication database\nconst searchSuggestions=[// Antiepileptic / Seizure Medications\n{name:'Clobazam',icon:'ðŸ’Š',descriptor:'Antiepileptic medication'},{name:'Levetiracetam (Keppra)',icon:'ðŸ’Š',descriptor:'Seizure control medication'},{name:'Valproic Acid (Depakote)',icon:'ðŸ’Š',descriptor:'Mood stabilizer & anticonvulsant'},{name:'Lamotrigine (Lamictal)',icon:'ðŸ’Š',descriptor:'Bipolar & epilepsy treatment'},{name:'Topiramate (Topamax)',icon:'ðŸ’Š',descriptor:'Migraine & seizure prevention'},{name:'Oxcarbazepine (Trileptal)',icon:'ðŸ’Š',descriptor:'Anticonvulsant medication'},{name:'Carbamazepine (Tegretol)',icon:'ðŸ’Š',descriptor:'Epilepsy & nerve pain treatment'},{name:'Gabapentin (Neurontin)',icon:'ðŸ’Š',descriptor:'Nerve pain & seizure control'},{name:'Lacosamide (Vimpat)',icon:'ðŸ’Š',descriptor:'Partial seizure treatment'},{name:'Ethosuximide (Zarontin)',icon:'ðŸ’Š',descriptor:'Absence seizure medication'},// Sleep Aids / Melatonin Modulators\n{name:'Melatonin',icon:'ðŸŒ™',descriptor:'Sleep regulation hormone'},{name:'Clonidine',icon:'ðŸ’Š',descriptor:'Blood pressure & sleep aid'},{name:'Trazodone',icon:'ðŸ’Š',descriptor:'Antidepressant & sleep aid'},{name:'Mirtazapine',icon:'ðŸ’Š',descriptor:'Antidepressant with sedating effects'},{name:'Hydroxyzine',icon:'ðŸ’Š',descriptor:'Antihistamine for anxiety & sleep'},// Behavioral / Mood Stabilizers\n{name:'Risperidone (Risperdal)',icon:'ðŸ’Š',descriptor:'Antipsychotic medication'},{name:'Aripiprazole (Abilify)',icon:'ðŸ’Š',descriptor:'Atypical antipsychotic'},{name:'Quetiapine (Seroquel)',icon:'ðŸ’Š',descriptor:'Antipsychotic & mood stabilizer'},{name:'Olanzapine (Zyprexa)',icon:'ðŸ’Š',descriptor:'Antipsychotic medication'},{name:'Lithium',icon:'ðŸ’Š',descriptor:'Classic mood stabilizer'},{name:'Ziprasidone',icon:'ðŸ’Š',descriptor:'Antipsychotic medication'},{name:'Lurasidone (Latuda)',icon:'ðŸ’Š',descriptor:'Atypical antipsychotic'},// Stimulants / ADHD-Related\n{name:'Methylphenidate (Ritalin, Concerta)',icon:'ðŸ’Š',descriptor:'ADHD treatment medication'},{name:'Amphetamine/Dextroamphetamine (Adderall)',icon:'ðŸ’Š',descriptor:'ADHD stimulant medication'},{name:'Lisdexamfetamine (Vyvanse)',icon:'ðŸ’Š',descriptor:'ADHD treatment medication'},{name:'Atomoxetine (Strattera)',icon:'ðŸ’Š',descriptor:'Non-stimulant ADHD treatment'},{name:'Guanfacine',icon:'ðŸ’Š',descriptor:'ADHD & blood pressure medication'},// Anxiety / Depression / OCD\n{name:'Sertraline (Zoloft)',icon:'ðŸ’Š',descriptor:'SSRI antidepressant'},{name:'Fluoxetine (Prozac)',icon:'ðŸ’Š',descriptor:'SSRI antidepressant'},{name:'Citalopram (Celexa)',icon:'ðŸ’Š',descriptor:'SSRI antidepressant'},{name:'Escitalopram (Lexapro)',icon:'ðŸ’Š',descriptor:'SSRI antidepressant'},{name:'Buspirone',icon:'ðŸ’Š',descriptor:'Anti-anxiety medication'},{name:'Duloxetine (Cymbalta)',icon:'ðŸ’Š',descriptor:'SNRI antidepressant'},// GI & Motility Support\n{name:'Polyethylene Glycol (MiraLAX)',icon:'ðŸ’Š',descriptor:'Laxative medication'},{name:'Lactulose',icon:'ðŸ’Š',descriptor:'Laxative medication'},{name:'Senna',icon:'ðŸ’Š',descriptor:'Natural laxative'},{name:'Docusate Sodium',icon:'ðŸ’Š',descriptor:'Stool softener'},{name:'Famotidine (Pepcid)',icon:'ðŸ’Š',descriptor:'Acid reducer'},{name:'Omeprazole (Prilosec)',icon:'ðŸ’Š',descriptor:'Proton pump inhibitor'},{name:'Esomeprazole (Nexium)',icon:'ðŸ’Š',descriptor:'Proton pump inhibitor'},// Other Neurological / Supportive\n{name:'Baclofen',icon:'ðŸ’Š',descriptor:'Muscle relaxant for spasticity'},{name:'Diazepam',icon:'ðŸ’Š',descriptor:'Benzodiazepine for anxiety'},{name:'Clonazepam',icon:'ðŸ’Š',descriptor:'Benzodiazepine for seizures'},{name:'Propranolol',icon:'ðŸ’Š',descriptor:'Beta blocker for anxiety'},// Targeted / Investigational\n{name:'Cannabidiol (Epidiolex)',icon:'ðŸ’Š',descriptor:'CBD medication for epilepsy'}].filter(suggestion=>suggestion.name.toLowerCase().includes(searchQuery.toLowerCase())||suggestion.descriptor.toLowerCase().includes(searchQuery.toLowerCase()));// Get filtered history based on time filter\nconst getFilteredHistory=()=>{const now=new Date();const filterDate=new Date();switch(historyTimeFilter){case'7days':filterDate.setDate(now.getDate()-7);break;case'30days':filterDate.setDate(now.getDate()-30);break;case'6months':filterDate.setMonth(now.getMonth()-6);break;case'1year':filterDate.setFullYear(now.getFullYear()-1);break;default:return medicationHistory;}return medicationHistory.filter(entry=>new Date(entry.date)>=filterDate);};// Get display text for time filter\nconst getTimeFilterDisplay=()=>{switch(historyTimeFilter){case'7days':return'Last 7 days';case'30days':return'Last 30 days';case'6months':return'Last 6 months';case'1year':return'Last 1 year';default:return'All time';}};// Get history entries to display (with progressive disclosure)\nconst getDisplayHistory=()=>{const filtered=getFilteredHistory();return showMoreHistory?filtered:filtered.slice(0,5);};// Handle search input change\nconst handleSearchChange=e=>{const value=e.target.value;setSearchQuery(value);setShowDropdown(value.trim()!=='');setSelectedIndex(-1);};// Handle keyboard navigation\nconst handleKeyDown=useCallback(e=>{if(!showDropdown||filteredMedications.length===0)return;switch(e.key){case'ArrowDown':e.preventDefault();setSelectedIndex(prev=>prev<filteredMedications.length-1?prev+1:prev);break;case'ArrowUp':e.preventDefault();setSelectedIndex(prev=>prev>0?prev-1:-1);break;case'Enter':e.preventDefault();if(selectedIndex>=0&&selectedIndex<filteredMedications.length){handleMedicationSelect(filteredMedications[selectedIndex].name);}break;case'Escape':setShowDropdown(false);setSelectedIndex(-1);break;}},[showDropdown,filteredMedications,selectedIndex]);// Handle medication selection from dropdown\nconst handleMedicationSelect=medication=>{setSelectedMedication(medication);const med=medicationDatabase.find(m=>m.name===medication);if(med){// Parse dosage to extract numeric value and unit\nconst dosageMatch=med.dosage.match(/(\\d+(?:\\.\\d+)?)\\s*(.+)/);if(dosageMatch){setDosage(dosageMatch[1]);setDosageUnit(dosageMatch[2].toLowerCase());}}setSearchQuery(medication);setShowDropdown(false);setSelectedIndex(-1);setShowLogModal(true);setCurrentStep('log');setErrors({});};// Handle logging medication\nconst handleLogMedication=()=>{// Set loading state\nsetIsSaving(true);// Validate required fields\nconst newErrors={};if(!selectedMedication.trim()){newErrors.medication='Medication name is required';}else if(selectedMedication.trim().length<2){newErrors.medication='Medication name must be at least 2 characters';}if(!dosage.trim()){newErrors.dosage='Dosage is required';}else if(isNaN(Number(dosage))||Number(dosage)<=0){newErrors.dosage='Dosage must be a positive number';}if(schedule==='custom'&&!customSchedule.trim()){newErrors.customSchedule='Custom schedule is required when \"Custom\" is selected';}if(Object.keys(newErrors).length>0){setErrors(newErrors);setIsSaving(false);return;}// Format schedule display\nlet scheduleDisplay='';if(asNeeded){scheduleDisplay='As needed';}else if(schedule==='custom'){scheduleDisplay=customSchedule||'Custom schedule';}else{scheduleDisplay=schedule.replace(/_/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase());}const newEntry={id:Date.now().toString(),medicationName:selectedMedication,dosage:`${dosage} ${dosageUnit}`,frequency:scheduleDisplay,timeTaken:timeOfLastDose,date:startDate,icon:'ðŸ’Š',status:'taken',notes:instructions||selectedNotes};setMedicationHistory(prev=>[newEntry,...prev]);setShowLogModal(false);setCurrentStep('search');// Reset form\nsetSelectedMedication('');setDosage('');setMedicationForm('pill');setSchedule('once_daily');setCustomSchedule('');setAsNeeded(false);setTimeOfLastDose(()=>{const now=new Date();return`${now.getHours().toString().padStart(2,'0')}:${now.getMinutes().toString().padStart(2,'0')}`;});setStartDate(()=>{const today=new Date();return today.toISOString().split('T')[0];});setInstructions('');setSelectedNotes('');setUniqueIdentifier('');setShowAdvancedOptions(false);setErrors({});// Show confirmation\nsetShowConfirmation(true);setTimeout(()=>setShowConfirmation(false),3000);// Reset loading state\nsetIsSaving(false);};// Handle history time filter change\nconst handleHistoryTimeFilterChange=value=>{setHistoryTimeFilter(value);setShowMoreHistory(false);// Reset show more when filter changes\n};// Handle marking reminder as taken\nconst handleMarkAsTaken=reminderId=>{setReminders(prev=>prev.map(reminder=>reminder.id===reminderId?{...reminder,status:'taken'}:reminder));// Add to medication history\nconst reminder=reminders.find(r=>r.id===reminderId);if(reminder&&reminder.type==='medication'){const newEntry={id:Date.now().toString(),medicationName:reminder.name,dosage:reminder.dose||'',frequency:'Once daily',timeTaken:reminder.time,date:new Date().toISOString().split('T')[0],icon:reminder.icon,status:'taken',notes:reminder.notes};setMedicationHistory(prev=>[newEntry,...prev]);}};// Handle viewing appointment details\nconst handleViewAppointmentDetails=reminderId=>{const reminder=reminders.find(r=>r.id===reminderId);if(reminder){// Handle appointment details view\nconsole.log('View appointment details:',reminder);}};// Get today's reminders\nconst getTodayReminders=()=>{return reminders.filter(reminder=>reminder.status==='pending');};// Determine if medication is supplement or medication\nconst getMedicationType=name=>{const supplementKeywords=['vitamin','supplement','omega','probiotic','magnesium','zinc','calcium'];return supplementKeywords.some(keyword=>name.toLowerCase().includes(keyword))?'supplement':'medication';};// Format date for display\nconst formatDate=dateString=>{const date=new Date(dateString);return date.toLocaleDateString('en-US',{weekday:'short',month:'short',day:'numeric'});};// Initialize AI suggestions (simulate backend/AI providing suggestions)\nReact.useEffect(()=>{// Simulate backend/AI providing suggestions\nsetSuggestionQueue(mockSuggestions);// Always show the Clobazam refill message as the first suggestion\nconst clobazamRefillSuggestion=mockSuggestions.find(s=>s.message.includes('Clobazam'));if(clobazamRefillSuggestion){setCurrentSuggestion(clobazamRefillSuggestion);}else if(mockSuggestions.length>0){setCurrentSuggestion(mockSuggestions[0]);}},[]);// Handle dismissing current suggestion\nconst handleDismissSuggestion=()=>{if(currentSuggestion){// Remove current suggestion from queue\nconst updatedQueue=suggestionQueue.filter(s=>s.id!==currentSuggestion.id);setSuggestionQueue(updatedQueue);// Show next suggestion if available\nif(updatedQueue.length>0){setCurrentSuggestion(updatedQueue[0]);}else{// If no more suggestions, always show the Clobazam refill message\nconst clobazamRefillSuggestion=mockSuggestions.find(s=>s.message.includes('Clobazam'));if(clobazamRefillSuggestion){setCurrentSuggestion(clobazamRefillSuggestion);setSuggestionQueue([clobazamRefillSuggestion]);}else{setCurrentSuggestion(null);}}}};// Handle suggestion action (optional tap on banner)\nconst handleSuggestionAction=()=>{if(currentSuggestion!==null&&currentSuggestion!==void 0&&currentSuggestion.action){// For MVP, just show an alert. In production, this would trigger specific actions\nalert(`Action: ${currentSuggestion.action}\\nSuggestion: ${currentSuggestion.message}`);}};// Get suggestion background color based on type and priority\nconst getSuggestionBackground=()=>{if(!currentSuggestion)return'';const{type,priority}=currentSuggestion;if(priority==='high'){return'bg-gradient-to-r from-amber-50 to-orange-50 border-amber-200';}switch(type){case'refill':return'bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200';case'appointment':return'bg-gradient-to-r from-purple-50 to-pink-50 border-purple-200';case'compliance':return'bg-gradient-to-r from-green-50 to-emerald-50 border-green-200';case'interaction':return'bg-gradient-to-r from-yellow-50 to-amber-50 border-yellow-200';default:return'bg-gradient-to-r from-gray-50 to-slate-50 border-gray-200';}};// Helper function to check if form is valid\nconst isFormValid=()=>{const hasRequiredFields=selectedMedication.trim().length>=2&&dosage.trim()!==''&&!isNaN(Number(dosage))&&Number(dosage)>0;const hasValidCustomSchedule=schedule!=='custom'||customSchedule.trim()!=='';return hasRequiredFields&&hasValidCustomSchedule;};// Reminder management functions\nconst handleCreateReminder=()=>{if(!reminderMedication.trim()){setErrors(prev=>({...prev,reminderMedication:'Medication name is required'}));return;}const newReminder={id:Date.now().toString(),type:'medication',name:reminderMedication,dose:'',time:reminderTimesPerDay.length>0?reminderTimesPerDay[0]:'Custom',icon:'ðŸ’Š',status:'pending',notes:reminderNotes,repeatSchedule:reminderRepeatSchedule,timesPerDay:reminderTimesPerDay,startDate:reminderStartDate,endDate:reminderEndDate,method:reminderMethod,nextDose:reminderTimesPerDay.length>0?reminderTimesPerDay[0]:'Custom'};setReminders(prev=>[...prev,newReminder]);handleCloseSetReminderModal();};const handleEditReminder=reminderId=>{const reminder=reminders.find(r=>r.id===reminderId);if(reminder){setEditingReminderId(reminderId);setReminderMedication(reminder.name);setReminderRepeatSchedule(reminder.repeatSchedule||'daily');setReminderSpecificDays(reminder.timesPerDay||[]);setReminderTimesPerDay(reminder.timesPerDay||['breakfast']);setReminderStartDate(reminder.startDate||'');setReminderEndDate(reminder.endDate||'');setReminderMethod(reminder.method||'in_app');setReminderNotes(reminder.notes||'');setShowSetReminderModal(true);}};const handleUpdateReminder=()=>{if(!reminderMedication.trim()){setErrors(prev=>({...prev,reminderMedication:'Medication name is required'}));return;}setReminders(prev=>prev.map(reminder=>reminder.id===editingReminderId?{...reminder,name:reminderMedication,notes:reminderNotes,repeatSchedule:reminderRepeatSchedule,timesPerDay:reminderTimesPerDay,startDate:reminderStartDate,endDate:reminderEndDate,method:reminderMethod}:reminder));handleCloseSetReminderModal();};const handleDeleteReminder=reminderId=>{setReminders(prev=>prev.filter(reminder=>reminder.id!==reminderId));};const handleCloseSetReminderModal=()=>{setShowSetReminderModal(false);setEditingReminderId(null);setReminderMedication('');setReminderRepeatSchedule('daily');setReminderSpecificDays([]);setReminderEveryXHours('24');setReminderTimesPerDay(['breakfast']);setReminderCustomTime('');setReminderStartDate(()=>{const today=new Date();return today.toISOString().split('T')[0];});setReminderEndDate('');setReminderMethod('in_app');setReminderNotes('');setErrors({});};const handleReminderTimeToggle=time=>{setReminderTimesPerDay(prev=>prev.includes(time)?prev.filter(t=>t!==time):[...prev,time]);};const handleReminderDayToggle=day=>{setReminderSpecificDays(prev=>prev.includes(day)?prev.filter(d=>d!==day):[...prev,day]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"style\",{children:`\n        .scrollbar-hide {\n          -ms-overflow-style: none;\n          scrollbar-width: none;\n        }\n        .scrollbar-hide::-webkit-scrollbar {\n          display: none;\n        }\n      `}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onBack,className:\"p-2 text-gray-600 hover:text-gray-800 transition-colors rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",\"aria-label\":\"Go back to previous screen\",children:/*#__PURE__*/_jsx(BackArrowIcon,{})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-900\",children:\"Medication\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Track and manage medications & appointments\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-10\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200 sticky top-[88px] z-40\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search medications or supplements\\u2026\",value:searchQuery,onChange:handleSearchChange,onKeyDown:handleKeyDown,onFocus:()=>setShowDropdown(searchQuery.trim()!==''),onBlur:()=>setTimeout(()=>setShowDropdown(false),200),className:\"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm\",\"aria-label\":\"Search medications or supplements\"}),searchQuery&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSearchQuery(''),className:\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors\",\"aria-label\":\"Clear search\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})}),showDropdown&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto\",children:filteredMedications.length>0?filteredMedications.map((medication,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleMedicationSelect(medication.name),className:`w-full px-4 py-3 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-inset transition-colors ${selectedIndex===index?'bg-indigo-100':''}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl\",children:\"\\uD83D\\uDC8A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:medication.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[medication.dosage,\" \\u2022 \",medication.frequency]})]})]})},index)):/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3 text-sm text-gray-500 text-center\",children:\"No medications found\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto px-4 sm:px-6 pt-[144px] pb-6 sm:pb-8 lg:max-w-7xl lg:px-8 lg:pt-8 lg:pb-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"lg:grid lg:grid-cols-3 lg:gap-8 lg:items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 lg:mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3 lg:mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 lg:text-xl\",children:\"Quick Log\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full lg:text-sm\",children:\"Recently Used\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full lg:text-sm\",children:\"Popular\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:hidden relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 overflow-x-auto scrollbar-hide pb-2\",children:[quickLogItems.map(item=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSelectedMedication(item.name);const med=medicationDatabase.find(m=>m.name===item.name);if(med){// Parse dosage to extract numeric value and unit\nconst dosageMatch=med.dosage.match(/(\\d+(?:\\.\\d+)?)\\s*(.+)/);if(dosageMatch){setDosage(dosageMatch[1]);setDosageUnit(dosageMatch[2].toLowerCase());}}setShowLogModal(true);setCurrentStep('log');},className:\"flex-shrink-0 flex items-center space-x-2 bg-white border border-gray-200 rounded-full px-4 py-2 hover:border-indigo-300 hover:shadow-sm transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:item.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900 truncate max-w-[120px]\",children:item.name}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-5 h-5 bg-indigo-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3 text-indigo-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 4v16m8-8H4\"})})})]},item.id)),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowLogModal(true),className:\"flex-shrink-0 flex items-center space-x-2 bg-indigo-50 border border-indigo-200 rounded-full px-4 py-2 hover:bg-indigo-100 hover:border-indigo-300 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"\\u2795\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-indigo-700\",children:\"Add New\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-0 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-gradient-to-r from-gray-50 to-transparent pointer-events-none rounded-l-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-0 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-gradient-to-l from-gray-50 to-transparent pointer-events-none rounded-r-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden lg:block space-y-3\",children:[quickLogItems.map(item=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSelectedMedication(item.name);const med=medicationDatabase.find(m=>m.name===item.name);if(med){const dosageMatch=med.dosage.match(/(\\d+(?:\\.\\d+)?)\\s*(.+)/);if(dosageMatch){setDosage(dosageMatch[1]);setDosageUnit(dosageMatch[2].toLowerCase());}}setShowLogModal(true);setCurrentStep('log');},className:\"w-full flex items-center space-x-3 bg-white border border-gray-200 rounded-lg px-4 py-3 hover:border-indigo-300 hover:shadow-sm transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl\",children:item.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900 flex-1 text-left\",children:item.name}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-6 h-6 bg-indigo-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-indigo-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 4v16m8-8H4\"})})})]},item.id)),searchQuery&&filteredMedications.length===0&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowLogModal(true),className:\"w-full flex items-center space-x-3 bg-indigo-50 border border-indigo-200 rounded-lg px-4 py-3 hover:bg-indigo-100 hover:border-indigo-300 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl\",children:\"\\u2795\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-indigo-700\",children:\"Add New Medication\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 lg:mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3 lg:mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 lg:text-xl\",children:\"Reminders\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSetReminderModal(true),className:\"p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors\",\"aria-label\":\"Add new reminder\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 4v16m8-8H4\"})})}),/*#__PURE__*/_jsx(\"button\",{className:\"text-sm text-indigo-600 hover:text-indigo-700 font-medium transition-colors lg:text-base\",children:\"View all reminders\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 lg:space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-blue-900 mb-2\",children:\"Today's Schedule\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:getTodayReminders().length>0?getTodayReminders().map(reminder=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600\",children:reminder.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-800 font-medium\",children:reminder.name}),reminder.dose&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-blue-600\",children:[\"(\",reminder.dose,\")\"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600 font-medium\",children:reminder.time})]},reminder.id)):/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-600 text-sm\",children:\"No reminders scheduled for today\"})})]}),getTodayReminders().length>0?getTodayReminders().map(reminder=>/*#__PURE__*/_jsx(\"div\",{className:`bg-white border rounded-lg p-4 transition-all lg:p-5 ${reminder.type==='medication'?'border-gray-200 hover:border-indigo-200':'border-gray-200 hover:border-blue-200'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center lg:w-12 lg:h-12 ${reminder.type==='medication'?'bg-indigo-100':'bg-blue-100'}`,children:/*#__PURE__*/_jsx(\"span\",{className:\"text-lg lg:text-xl\",children:reminder.icon})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-900 truncate lg:text-base\",children:reminder.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-xs text-gray-500 mt-1 lg:text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{children:reminder.time}),reminder.type==='medication'&&reminder.dose&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:reminder.dose})]})]}),reminder.repeatSchedule&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-400 mt-1\",children:[reminder.repeatSchedule==='daily'&&'Daily',reminder.repeatSchedule==='specific_days'&&`Every ${reminder.timesPerDay.join(', ')}`,reminder.repeatSchedule==='every_x_hours'&&`Every ${reminder.everyXHours||'24'} hours`,reminder.repeatSchedule==='as_needed'&&'As needed']}),reminder.notes&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:reminder.notes}),reminder.startDate&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-400 mt-1\",children:[\"From: \",new Date(reminder.startDate).toLocaleDateString(),reminder.endDate&&` To: ${new Date(reminder.endDate).toLocaleDateString()}`]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[reminder.type==='medication'?/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleMarkAsTaken(reminder.id),className:\"px-3 py-1.5 bg-indigo-600 text-white text-xs font-medium rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors\",children:\"Mark as taken\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewAppointmentDetails(reminder.id),className:\"px-3 py-1.5 bg-blue-600 text-white text-xs font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors\",children:\"View details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditReminder(reminder.id),className:\"p-1.5 text-gray-400 hover:text-indigo-600 transition-colors\",\"aria-label\":\"Edit reminder\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteReminder(reminder.id),className:\"p-1.5 text-gray-400 hover:text-red-600 transition-colors\",\"aria-label\":\"Delete reminder\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})})})]})]})},reminder.id)):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200 rounded-lg p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"No reminders scheduled for today.\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[showAISuggestion&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-8 lg:mb-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-100 relative\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAISuggestion(false),className:\"absolute top-2 right-2 text-blue-400 hover:text-blue-600 transition-colors\",\"aria-label\":\"Dismiss suggestion\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-blue-900 mb-1\",children:\"Medication Reminder\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-800\",children:\"Set up medication reminders to ensure consistent dosing. You can also track side effects and effectiveness over time.\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 lg:mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3 lg:mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 lg:text-xl\",children:\"Search Medication\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentStep('search'),className:\"text-sm text-indigo-600 hover:text-indigo-700 font-medium transition-colors lg:text-base\",children:\"View all medications\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 shadow-lg\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsHistoryExpanded(!isHistoryExpanded),className:\"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",\"aria-expanded\":isHistoryExpanded,\"aria-label\":\"Toggle history section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"History\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"(\",getTimeFilterDisplay(),\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[isHistoryExpanded&&/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"select\",{value:historyTimeFilter,onChange:e=>handleHistoryTimeFilterChange(e.target.value),className:\"appearance-none bg-white border border-gray-300 rounded-lg px-3 py-2 pr-8 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 cursor-pointer hover:border-gray-400 transition-colors\",\"aria-label\":\"Filter history by time period\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"option\",{value:\"7days\",children:\"Last 7 days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30days\",children:\"Last 30 days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6months\",children:\"Last 6 months\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1year\",children:\"Last 1 year\"}),/*#__PURE__*/_jsx(\"option\",{value:\"custom\",children:\"Custom\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})})]}),/*#__PURE__*/_jsx(\"svg\",{className:`w-5 h-5 text-gray-400 transition-transform ${isHistoryExpanded?'rotate-180':''}`,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]})]}),isHistoryExpanded&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-100\",children:getDisplayHistory().length>0?/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-gray-100\",children:getDisplayHistory().map(entry=>/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 hover:bg-gray-50 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900\",children:formatDate(entry.date)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:entry.icon}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-900 truncate\",children:entry.medicationName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-xs text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{children:entry.dosage}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:entry.timeTaken}),entry.notes&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:entry.notes})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${entry.status==='taken'?'bg-green-100 text-green-700':entry.status==='missed'?'bg-red-100 text-red-700':'bg-yellow-100 text-yellow-700'}`,children:entry.status})})]})},entry.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900 mb-1\",children:\"No medication entries for this period\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Start logging medications to see your history here\"})]})}),getFilteredHistory().length>5&&!showMoreHistory&&/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-3 border-t border-gray-100\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowMoreHistory(true),className:\"w-full text-sm text-indigo-600 hover:text-indigo-700 font-medium transition-colors\",children:[\"Show more (\",getFilteredHistory().length-5,\" more entries)\"]})}),showMoreHistory&&getFilteredHistory().length>5&&/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-3 border-t border-gray-100\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMoreHistory(false),className:\"w-full text-sm text-indigo-600 hover:text-indigo-700 font-medium transition-colors\",children:\"Show less\"})})]})]})]})]})}),showLogModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end sm:items-center justify-center p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-t-xl sm:rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:[\"Log \",selectedMedication?getMedicationType(selectedMedication):'Medication']}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowLogModal(false);setErrors({});setIsSaving(false);},className:\"text-gray-400 hover:text-gray-600 transition-colors\",\"aria-label\":\"Close modal\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),currentStep==='search'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Search Medication\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Type medication name...\",value:searchQuery,onChange:handleSearchChange,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"})]}),searchQuery&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:filteredMedications.map(medication=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleMedicationSelect(medication.name),className:\"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-gray-50 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl\",children:\"\\uD83D\\uDC8A\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:medication.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[medication.dosage,\" \\u2022 \",medication.frequency]})]})]})},medication.name))})]}),currentStep==='log'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-red-500 rounded-full\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-900\",children:\"Required Information\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"medication-name\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Medication Name *\"}),/*#__PURE__*/_jsx(\"input\",{id:\"medication-name\",type:\"text\",value:selectedMedication,onChange:e=>{setSelectedMedication(e.target.value);if(errors.medication){setErrors(prev=>({...prev,medication:''}));}},className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base ${errors.medication?'border-red-300':'border-gray-300'}`,placeholder:\"Start typing medication or supplement name...\",\"aria-describedby\":errors.medication?\"medication-error\":undefined,\"aria-invalid\":!!errors.medication}),errors.medication&&/*#__PURE__*/_jsx(\"p\",{id:\"medication-error\",className:\"text-sm text-red-600 mt-1\",role:\"alert\",children:errors.medication})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dosage-input\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Dosage *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"dosage-input\",type:\"number\",value:dosage,onChange:e=>{setDosage(e.target.value);if(errors.dosage){setErrors(prev=>({...prev,dosage:''}));}},className:`flex-1 px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base ${errors.dosage?'border-red-300':'border-gray-300'}`,placeholder:\"500\",min:\"0\",step:\"0.1\",\"aria-describedby\":errors.dosage?\"dosage-error\":undefined,\"aria-invalid\":!!errors.dosage}),/*#__PURE__*/_jsxs(\"select\",{id:\"dosage-unit\",value:dosageUnit,onChange:e=>setDosageUnit(e.target.value),className:\"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white text-base min-w-[100px]\",\"aria-label\":\"Dosage unit\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"mg\",children:\"mg\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ml\",children:\"mL\"}),/*#__PURE__*/_jsx(\"option\",{value:\"iu\",children:\"IU\"}),/*#__PURE__*/_jsx(\"option\",{value:\"drops\",children:\"drops\"}),/*#__PURE__*/_jsx(\"option\",{value:\"tablets\",children:\"tablets\"}),/*#__PURE__*/_jsx(\"option\",{value:\"capsules\",children:\"capsules\"}),/*#__PURE__*/_jsx(\"option\",{value:\"puffs\",children:\"puffs\"}),/*#__PURE__*/_jsx(\"option\",{value:\"units\",children:\"units\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mcg\",children:\"mcg\"}),/*#__PURE__*/_jsx(\"option\",{value:\"g\",children:\"g\"})]})]}),errors.dosage&&/*#__PURE__*/_jsx(\"p\",{id:\"dosage-error\",className:\"text-sm text-red-600 mt-1\",role:\"alert\",children:errors.dosage})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"medication-form\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Form *\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"medication-form\",value:medicationForm,onChange:e=>setMedicationForm(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white text-base\",\"aria-label\":\"Medication form\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"pill\",children:\"Pill\"}),/*#__PURE__*/_jsx(\"option\",{value:\"capsule\",children:\"Capsule\"}),/*#__PURE__*/_jsx(\"option\",{value:\"liquid\",children:\"Liquid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"injection\",children:\"Injection\"}),/*#__PURE__*/_jsx(\"option\",{value:\"patch\",children:\"Patch\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inhaler\",children:\"Inhaler\"}),/*#__PURE__*/_jsx(\"option\",{value:\"drops\",children:\"Drops\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cream\",children:\"Cream\"}),/*#__PURE__*/_jsx(\"option\",{value:\"suppository\",children:\"Suppository\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"medication-schedule\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Schedule *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"select\",{id:\"medication-schedule\",value:schedule,onChange:e=>setSchedule(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white text-base\",\"aria-label\":\"Medication schedule\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"once_daily\",children:\"Once daily\"}),/*#__PURE__*/_jsx(\"option\",{value:\"twice_daily\",children:\"Twice daily\"}),/*#__PURE__*/_jsx(\"option\",{value:\"three_times_daily\",children:\"Three times daily\"}),/*#__PURE__*/_jsx(\"option\",{value:\"every_6_hours\",children:\"Every 6 hours\"}),/*#__PURE__*/_jsx(\"option\",{value:\"every_8_hours\",children:\"Every 8 hours\"}),/*#__PURE__*/_jsx(\"option\",{value:\"every_12_hours\",children:\"Every 12 hours\"}),/*#__PURE__*/_jsx(\"option\",{value:\"weekly\",children:\"Weekly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"monthly\",children:\"Monthly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"custom\",children:\"Custom\"})]}),schedule==='custom'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:customSchedule,onChange:e=>{setCustomSchedule(e.target.value);if(errors.customSchedule){setErrors(prev=>({...prev,customSchedule:''}));}},className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base ${errors.customSchedule?'border-red-300':'border-gray-300'}`,placeholder:\"e.g., 8AM, 2PM, 8PM\",\"aria-describedby\":errors.customSchedule?\"custom-schedule-error\":undefined,\"aria-invalid\":!!errors.customSchedule}),errors.customSchedule&&/*#__PURE__*/_jsx(\"p\",{id:\"custom-schedule-error\",className:\"text-sm text-red-600 mt-1\",role:\"alert\",children:errors.customSchedule})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"asNeeded\",checked:asNeeded,onChange:e=>setAsNeeded(e.target.checked),className:\"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 focus:ring-2\",\"aria-label\":\"Take medication as needed\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"asNeeded\",className:\"text-sm text-gray-700 cursor-pointer\",children:\"As needed\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"time-last-dose\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Time of Last Dose\"}),/*#__PURE__*/_jsx(\"input\",{id:\"time-last-dose\",type:\"time\",value:timeOfLastDose,onChange:e=>setTimeOfLastDose(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\",\"aria-label\":\"Time of last dose\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"start-date\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Start Date\"}),/*#__PURE__*/_jsx(\"input\",{id:\"start-date\",type:\"date\",value:startDate,onChange:e=>setStartDate(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\",\"aria-label\":\"Start date\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"instructions\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Instructions\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"instructions\",value:instructions,onChange:e=>setInstructions(e.target.value),rows:3,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base resize-none\",placeholder:\"E.g., Take with food, avoid dairy...\",\"aria-label\":\"Medication instructions\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAdvancedOptions(!showAdvancedOptions),className:\"flex items-center justify-between w-full text-left p-0 bg-transparent border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 rounded-lg\",\"aria-expanded\":showAdvancedOptions,\"aria-controls\":\"advanced-options-content\",\"aria-label\":\"Toggle advanced options\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-900\",children:\"Advanced Options\"})]}),/*#__PURE__*/_jsx(\"svg\",{className:`w-5 h-5 text-gray-400 transition-transform ${showAdvancedOptions?'rotate-180':''}`,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),showAdvancedOptions&&/*#__PURE__*/_jsxs(\"div\",{id:\"advanced-options-content\",className:\"space-y-4 pl-4 border-l-2 border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"unique-identifier\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Unique Identifier\"}),/*#__PURE__*/_jsx(\"input\",{id:\"unique-identifier\",type:\"text\",value:uniqueIdentifier,onChange:e=>setUniqueIdentifier(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\",placeholder:\"e.g., Lot number, Batch ID\",\"aria-label\":\"Unique identifier\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"notes\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"notes\",value:selectedNotes,onChange:e=>setSelectedNotes(e.target.value),rows:3,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base resize-none\",placeholder:\"Any side effects, observations, or additional notes...\",\"aria-label\":\"Additional notes\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-6 border-t border-gray-200 space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleLogMedication,disabled:!isFormValid()||isSaving,className:\"w-full px-4 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed transition-colors font-medium text-base focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",\"aria-label\":\"Save medication entry\",children:isSaving?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-4 w-4 text-white\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),/*#__PURE__*/_jsx(\"span\",{children:\"Saving...\"})]}):'Save'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setCurrentStep('search');setErrors({});setIsSaving(false);},className:\"w-full px-4 py-3 text-gray-600 hover:text-gray-800 hover:bg-gray-50 transition-colors font-medium text-base focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\",\"aria-label\":\"Go back to search\",children:\"Cancel\"})]})]})]})})}),currentSuggestion&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-0 left-0 right-0 z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:`max-w-2xl mx-auto rounded-lg border shadow-lg ${getSuggestionBackground()} transition-all duration-300 ease-in-out`,children:/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 mt-0.5\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:currentSuggestion.icon})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 leading-relaxed\",children:currentSuggestion.message}),currentSuggestion.action&&/*#__PURE__*/_jsxs(\"button\",{onClick:handleSuggestionAction,className:\"mt-2 text-xs font-medium text-indigo-600 hover:text-indigo-700 transition-colors\",children:[currentSuggestion.action,\" \\u2192\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDismissSuggestion,className:\"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 transition-colors rounded-full hover:bg-white hover:bg-opacity-50\",\"aria-label\":\"Dismiss suggestion\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]})})})}),showConfirmation&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50\",role:\"alert\",\"aria-live\":\"polite\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 13l4 4L19 7\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Medication logged!\"})]})}),showSetReminderModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-6 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:editingReminderId?'Edit Reminder':'Set Reminder'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCloseSetReminderModal,className:\"text-gray-400 hover:text-gray-600 transition-colors\",\"aria-label\":\"Close modal\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"reminder-medication\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Medication Name *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"reminder-medication\",type:\"text\",value:reminderMedication,onChange:e=>{const value=e.target.value;setReminderMedication(value);if(errors.reminderMedication){setErrors(prev=>({...prev,reminderMedication:''}));}},onFocus:()=>setShowDropdown(true),onBlur:()=>setTimeout(()=>setShowDropdown(false),200),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base ${errors.reminderMedication?'border-red-300':'border-gray-300'}`,placeholder:\"Search medications or enter custom name...\",\"aria-describedby\":errors.reminderMedication?\"reminder-medication-error\":undefined,\"aria-invalid\":!!errors.reminderMedication}),showDropdown&&reminderMedication.trim()!==''&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto\",children:medicationDatabase.filter(med=>med.name.toLowerCase().includes(reminderMedication.toLowerCase())).slice(0,8).map((medication,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setReminderMedication(medication.name);setShowDropdown(false);},className:\"w-full px-4 py-3 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-inset transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl\",children:\"\\uD83D\\uDC8A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:medication.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[medication.dosage,\" \\u2022 \",medication.frequency]})]})]})},index))})]}),errors.reminderMedication&&/*#__PURE__*/_jsx(\"p\",{id:\"reminder-medication-error\",className:\"text-sm text-red-600 mt-1\",role:\"alert\",children:errors.reminderMedication})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"repeat-schedule\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Repeat Schedule\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"repeat-schedule\",value:reminderRepeatSchedule,onChange:e=>setReminderRepeatSchedule(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"daily\",children:\"Daily\"}),/*#__PURE__*/_jsx(\"option\",{value:\"specific_days\",children:\"Specific days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"every_x_hours\",children:\"Every X hours\"}),/*#__PURE__*/_jsx(\"option\",{value:\"as_needed\",children:\"As needed\"})]})]}),reminderRepeatSchedule==='specific_days'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Select Days\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-4 gap-2\",children:['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'].map(day=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleReminderDayToggle(day),className:`px-3 py-2 text-sm rounded-lg border transition-colors ${reminderSpecificDays.includes(day)?'bg-indigo-600 text-white border-indigo-600':'bg-white text-gray-700 border-gray-300 hover:border-indigo-300'}`,children:day.slice(0,3)},day))})]}),reminderRepeatSchedule==='every_x_hours'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"every-x-hours\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Every X Hours\"}),/*#__PURE__*/_jsx(\"input\",{id:\"every-x-hours\",type:\"number\",value:reminderEveryXHours,onChange:e=>setReminderEveryXHours(e.target.value),min:\"1\",max:\"168\",className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\",placeholder:\"24\"})]}),reminderRepeatSchedule!=='every_x_hours'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Times Per Day\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-2 mb-3\",children:['breakfast','lunch','dinner','bedtime'].map(time=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleReminderTimeToggle(time),className:`px-3 py-2 text-sm rounded-lg border transition-colors capitalize ${reminderTimesPerDay.includes(time)?'bg-indigo-600 text-white border-indigo-600':'bg-white text-gray-700 border-gray-300 hover:border-indigo-300'}`,children:time},time))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"custom-time\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Custom Time\"}),/*#__PURE__*/_jsx(\"input\",{id:\"custom-time\",type:\"time\",value:reminderCustomTime,onChange:e=>setReminderCustomTime(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\"}),reminderCustomTime&&/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>handleReminderTimeToggle(reminderCustomTime),className:`mt-2 px-3 py-2 text-sm rounded-lg border transition-colors ${reminderTimesPerDay.includes(reminderCustomTime)?'bg-indigo-600 text-white border-indigo-600':'bg-white text-gray-700 border-gray-300 hover:border-indigo-300'}`,children:[\"Add \",reminderCustomTime]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"reminder-start-date\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Start Date\"}),/*#__PURE__*/_jsx(\"input\",{id:\"reminder-start-date\",type:\"date\",value:reminderStartDate,onChange:e=>setReminderStartDate(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"reminder-end-date\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"End Date (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"reminder-end-date\",type:\"date\",value:reminderEndDate,onChange:e=>setReminderEndDate(e.target.value),min:reminderStartDate,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"reminder-method\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Reminder Method\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"reminder-method\",value:reminderMethod,onChange:e=>setReminderMethod(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"in_app\",children:\"In-app notification\"}),/*#__PURE__*/_jsx(\"option\",{value:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sms\",children:\"SMS\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"reminder-notes\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Notes (Optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"reminder-notes\",value:reminderNotes,onChange:e=>setReminderNotes(e.target.value),rows:3,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base resize-none\",placeholder:\"Additional notes about this reminder...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-3 p-6 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCloseSetReminderModal,className:\"px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-50 transition-colors font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:editingReminderId?handleUpdateReminder:handleCreateReminder,className:\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors font-medium\",children:editingReminderId?'Update Reminder':'Save Reminder'})]})]})})]});};export default MedicationTracker;","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BackArrowIcon","className","fill","stroke","viewBox","children","strokeLinecap","strokeLinejoin","strokeWidth","d","MedicationTracker","_ref","onBack","searchQuery","setSearchQuery","debouncedSearchQuery","setDebouncedSearchQuery","showLogModal","setShowLogModal","showAISuggestion","setShowAISuggestion","currentStep","setCurrentStep","selectedMedication","setSelectedMedication","selectedTime","setSelectedTime","selectedNotes","setSelectedNotes","historyTimeFilter","setHistoryTimeFilter","showDropdown","setShowDropdown","selectedIndex","setSelectedIndex","isHistoryExpanded","setIsHistoryExpanded","showMoreHistory","setShowMoreHistory","currentSuggestion","setCurrentSuggestion","suggestionQueue","setSuggestionQueue","showAdvancedOptions","setShowAdvancedOptions","dosage","setDosage","dosageUnit","setDosageUnit","medicationForm","setMedicationForm","schedule","setSchedule","customSchedule","setCustomSchedule","asNeeded","setAsNeeded","timeOfLastDose","setTimeOfLastDose","now","Date","getHours","toString","padStart","getMinutes","startDate","setStartDate","today","toISOString","split","instructions","setInstructions","uniqueIdentifier","setUniqueIdentifier","showConfirmation","setShowConfirmation","errors","setErrors","isSaving","setIsSaving","showSetReminderModal","setShowSetReminderModal","reminderMedication","setReminderMedication","reminderRepeatSchedule","setReminderRepeatSchedule","reminderSpecificDays","setReminderSpecificDays","reminderEveryXHours","setReminderEveryXHours","reminderTimesPerDay","setReminderTimesPerDay","reminderCustomTime","setReminderCustomTime","reminderStartDate","setReminderStartDate","reminderEndDate","setReminderEndDate","reminderMethod","setReminderMethod","reminderNotes","setReminderNotes","editingReminderId","setEditingReminderId","mockSuggestions","id","type","message","icon","action","priority","medicationHistory","setMedicationHistory","medicationName","frequency","timeTaken","date","status","notes","medicationDatabase","name","quickLogItems","recentlyUsed","popular","reminders","setReminders","dose","time","repeatSchedule","timesPerDay","endDate","method","nextDose","location","timer","setTimeout","clearTimeout","filteredMedications","trim","filter","med","toLowerCase","includes","slice","searchSuggestions","descriptor","suggestion","getFilteredHistory","filterDate","setDate","getDate","setMonth","getMonth","setFullYear","getFullYear","entry","getTimeFilterDisplay","getDisplayHistory","filtered","handleSearchChange","e","value","target","handleKeyDown","length","key","preventDefault","prev","handleMedicationSelect","medication","find","m","dosageMatch","match","handleLogMedication","newErrors","isNaN","Number","Object","keys","scheduleDisplay","replace","l","toUpperCase","newEntry","handleHistoryTimeFilterChange","handleMarkAsTaken","reminderId","map","reminder","r","handleViewAppointmentDetails","console","log","getTodayReminders","getMedicationType","supplementKeywords","some","keyword","formatDate","dateString","toLocaleDateString","weekday","month","day","clobazamRefillSuggestion","s","handleDismissSuggestion","updatedQueue","handleSuggestionAction","alert","getSuggestionBackground","isFormValid","hasRequiredFields","hasValidCustomSchedule","handleCreateReminder","newReminder","handleCloseSetReminderModal","handleEditReminder","handleUpdateReminder","handleDeleteReminder","handleReminderTimeToggle","t","handleReminderDayToggle","onClick","placeholder","onChange","onKeyDown","onFocus","onBlur","index","item","join","everyXHours","stopPropagation","htmlFor","undefined","role","min","step","checked","rows","disabled","cx","cy","max"],"sources":["C:/Users/girip/OneDrive/Desktop/PTS-Consulting/CareGene/src/components/MedicationTracker.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\n\n// Back arrow icon component\nconst BackArrowIcon = () => (\n  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n  </svg>\n);\n\ninterface MedicationEntry {\n  id: string;\n  medicationName: string;\n  dosage: string;\n  frequency: string;\n  timeTaken: string;\n  date: string;\n  icon: string;\n  status: 'taken' | 'missed' | 'scheduled';\n  notes?: string;\n}\n\ninterface Reminder {\n  id: string;\n  type: 'medication' | 'appointment';\n  name: string;\n  dose?: string;\n  time: string;\n  icon: string;\n  status: 'pending' | 'taken' | 'missed';\n  notes?: string;\n  location?: string;\n  repeatSchedule: string;\n  timesPerDay: string[];\n  startDate: string;\n  endDate: string;\n  method: string;\n  nextDose: string;\n  everyXHours?: string;\n}\n\nconst MedicationTracker: React.FC<{ onBack: () => void }> = ({ onBack }) => {\n  // State management\n  const [searchQuery, setSearchQuery] = useState('');\n  const [debouncedSearchQuery, setDebouncedSearchQuery] = useState('');\n  const [showLogModal, setShowLogModal] = useState(false);\n  const [showAISuggestion, setShowAISuggestion] = useState(true);\n  const [currentStep, setCurrentStep] = useState<'search' | 'log' | 'confirm'>('search');\n  const [selectedMedication, setSelectedMedication] = useState<string>('');\n  const [selectedTime, setSelectedTime] = useState<string>('');\n  const [selectedNotes, setSelectedNotes] = useState<string>('');\n  const [historyTimeFilter, setHistoryTimeFilter] = useState('7days');\n  \n  // Search dropdown state\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState(-1);\n  \n  // History section state\n  const [isHistoryExpanded, setIsHistoryExpanded] = useState(false);\n  const [showMoreHistory, setShowMoreHistory] = useState(false);\n  \n  // AI Suggestions state\n  const [currentSuggestion, setCurrentSuggestion] = useState<{\n    id: string;\n    type: 'refill' | 'appointment' | 'compliance' | 'interaction' | 'general';\n    message: string;\n    icon: string;\n    action?: string;\n    priority: 'low' | 'medium' | 'high';\n  } | null>(null);\n  const [suggestionQueue, setSuggestionQueue] = useState<Array<{\n    id: string;\n    type: 'refill' | 'appointment' | 'compliance' | 'interaction' | 'general';\n    message: string;\n    icon: string;\n    action?: string;\n    priority: 'low' | 'medium' | 'high';\n  }>>([]);\n  \n  // Enhanced logging modal state\n  const [showAdvancedOptions, setShowAdvancedOptions] = useState(false);\n  const [dosage, setDosage] = useState<string>('');\n  const [dosageUnit, setDosageUnit] = useState<string>('mg');\n  const [medicationForm, setMedicationForm] = useState<string>('pill');\n  const [schedule, setSchedule] = useState<string>('once_daily');\n  const [customSchedule, setCustomSchedule] = useState<string>('');\n  const [asNeeded, setAsNeeded] = useState<boolean>(false);\n  const [timeOfLastDose, setTimeOfLastDose] = useState<string>(() => {\n    const now = new Date();\n    return `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;\n  });\n  const [startDate, setStartDate] = useState<string>(() => {\n    const today = new Date();\n    return today.toISOString().split('T')[0];\n  });\n  const [instructions, setInstructions] = useState<string>('');\n  const [uniqueIdentifier, setUniqueIdentifier] = useState<string>('');\n  const [showConfirmation, setShowConfirmation] = useState(false);\n  const [errors, setErrors] = useState<{[key: string]: string}>({});\n  const [isSaving, setIsSaving] = useState(false);\n\n  // Set Reminder modal state\n  const [showSetReminderModal, setShowSetReminderModal] = useState(false);\n  const [reminderMedication, setReminderMedication] = useState<string>('');\n  const [reminderRepeatSchedule, setReminderRepeatSchedule] = useState<string>('daily');\n  const [reminderSpecificDays, setReminderSpecificDays] = useState<string[]>([]);\n  const [reminderEveryXHours, setReminderEveryXHours] = useState<string>('24');\n  const [reminderTimesPerDay, setReminderTimesPerDay] = useState<string[]>(['breakfast']);\n  const [reminderCustomTime, setReminderCustomTime] = useState<string>('');\n  const [reminderStartDate, setReminderStartDate] = useState<string>(() => {\n    const today = new Date();\n    return today.toISOString().split('T')[0];\n  });\n  const [reminderEndDate, setReminderEndDate] = useState<string>('');\n  const [reminderMethod, setReminderMethod] = useState<string>('in_app');\n  const [reminderNotes, setReminderNotes] = useState<string>('');\n  const [editingReminderId, setEditingReminderId] = useState<string | null>(null);\n\n  // Mock AI suggestions - would be provided by backend/AI\n  const mockSuggestions = [\n    {\n      id: '1',\n      type: 'refill' as const,\n      message: \"You're due for a refill on Clobazam.\",\n      icon: 'ðŸ””',\n      action: 'Request refill',\n      priority: 'high' as const\n    },\n    {\n      id: '2',\n      type: 'compliance' as const,\n      message: \"Great job! You've taken Levetiracetam (Keppra) consistently for 7 days.\",\n      icon: 'ðŸ’¡',\n      action: 'View progress',\n      priority: 'low' as const\n    },\n    {\n      id: '3',\n      type: 'appointment' as const,\n      message: \"Don't forget your follow-up appointment tomorrow at 2:30 PM.\",\n      icon: 'ðŸ“…',\n      action: 'View details',\n      priority: 'high' as const\n    },\n    {\n      id: '4',\n      type: 'interaction' as const,\n      message: \"Consider taking Clobazam with food to reduce stomach upset.\",\n      icon: 'ðŸ’Š',\n      action: 'Learn more',\n      priority: 'medium' as const\n    }\n  ];\n\n  // Mock medication data\n  const [medicationHistory, setMedicationHistory] = useState<MedicationEntry[]>([\n    {\n      id: '1',\n      medicationName: 'Clobazam',\n      dosage: '10mg',\n      frequency: 'Twice daily',\n      timeTaken: '9:00 AM',\n      date: '2024-01-15',\n      icon: 'ðŸ’Š',\n      status: 'taken',\n      notes: 'Taken with breakfast'\n    },\n    {\n      id: '2',\n      medicationName: 'Levetiracetam (Keppra)',\n      dosage: '500mg',\n      frequency: 'Twice daily',\n      timeTaken: '9:00 AM',\n      date: '2024-01-15',\n      icon: 'ðŸ’Š',\n      status: 'taken'\n    },\n    {\n      id: '3',\n      medicationName: 'Melatonin',\n      dosage: '3mg',\n      frequency: 'Once daily at bedtime',\n      timeTaken: '9:00 PM',\n      date: '2024-01-14',\n      icon: 'ðŸŒ™',\n      status: 'taken'\n    },\n    {\n      id: '4',\n      medicationName: 'Clobazam',\n      dosage: '10mg',\n      frequency: 'Twice daily',\n      timeTaken: '9:00 AM',\n      date: '2024-01-14',\n      icon: 'ðŸ’Š',\n      status: 'missed',\n      notes: 'Forgot to take'\n    }\n  ]);\n\n  // Mock medication database - Complete 50 medications list\n  const medicationDatabase = [\n    // Antiepileptic / Seizure Medications\n    { name: 'Clobazam', dosage: '10mg', frequency: 'Twice daily' },\n    { name: 'Levetiracetam (Keppra)', dosage: '500mg', frequency: 'Twice daily' },\n    { name: 'Valproic Acid (Depakote)', dosage: '250mg', frequency: 'Twice daily' },\n    { name: 'Lamotrigine (Lamictal)', dosage: '25mg', frequency: 'Once daily' },\n    { name: 'Topiramate (Topamax)', dosage: '25mg', frequency: 'Twice daily' },\n    { name: 'Oxcarbazepine (Trileptal)', dosage: '300mg', frequency: 'Twice daily' },\n    { name: 'Carbamazepine (Tegretol)', dosage: '200mg', frequency: 'Twice daily' },\n    { name: 'Gabapentin (Neurontin)', dosage: '300mg', frequency: 'Three times daily' },\n    { name: 'Lacosamide (Vimpat)', dosage: '50mg', frequency: 'Twice daily' },\n    { name: 'Ethosuximide (Zarontin)', dosage: '250mg', frequency: 'Twice daily' },\n    \n    // Sleep Aids / Melatonin Modulators\n    { name: 'Melatonin', dosage: '3mg', frequency: 'Once daily at bedtime' },\n    { name: 'Clonidine', dosage: '0.1mg', frequency: 'Twice daily' },\n    { name: 'Trazodone', dosage: '25mg', frequency: 'Once daily at bedtime' },\n    { name: 'Mirtazapine', dosage: '15mg', frequency: 'Once daily at bedtime' },\n    { name: 'Hydroxyzine', dosage: '25mg', frequency: 'As needed' },\n    \n    // Behavioral / Mood Stabilizers\n    { name: 'Risperidone (Risperdal)', dosage: '0.5mg', frequency: 'Twice daily' },\n    { name: 'Aripiprazole (Abilify)', dosage: '2mg', frequency: 'Once daily' },\n    { name: 'Quetiapine (Seroquel)', dosage: '25mg', frequency: 'Twice daily' },\n    { name: 'Olanzapine (Zyprexa)', dosage: '2.5mg', frequency: 'Once daily' },\n    { name: 'Lithium', dosage: '300mg', frequency: 'Twice daily' },\n    { name: 'Ziprasidone', dosage: '20mg', frequency: 'Twice daily' },\n    { name: 'Lurasidone (Latuda)', dosage: '20mg', frequency: 'Once daily' },\n    \n    // Stimulants / ADHD-Related\n    { name: 'Methylphenidate (Ritalin, Concerta)', dosage: '10mg', frequency: 'Once daily' },\n    { name: 'Amphetamine/Dextroamphetamine (Adderall)', dosage: '5mg', frequency: 'Once daily' },\n    { name: 'Lisdexamfetamine (Vyvanse)', dosage: '20mg', frequency: 'Once daily' },\n    { name: 'Atomoxetine (Strattera)', dosage: '25mg', frequency: 'Once daily' },\n    { name: 'Guanfacine', dosage: '1mg', frequency: 'Once daily' },\n    \n    // Anxiety / Depression / OCD\n    { name: 'Sertraline (Zoloft)', dosage: '25mg', frequency: 'Once daily' },\n    { name: 'Fluoxetine (Prozac)', dosage: '10mg', frequency: 'Once daily' },\n    { name: 'Citalopram (Celexa)', dosage: '10mg', frequency: 'Once daily' },\n    { name: 'Escitalopram (Lexapro)', dosage: '5mg', frequency: 'Once daily' },\n    { name: 'Buspirone', dosage: '5mg', frequency: 'Twice daily' },\n    { name: 'Duloxetine (Cymbalta)', dosage: '20mg', frequency: 'Once daily' },\n    \n    // GI & Motility Support (Common in PMS)\n    { name: 'Polyethylene Glycol (MiraLAX)', dosage: '17g', frequency: 'Once daily' },\n    { name: 'Lactulose', dosage: '15ml', frequency: 'Twice daily' },\n    { name: 'Senna', dosage: '8.6mg', frequency: 'Once daily' },\n    { name: 'Docusate Sodium', dosage: '100mg', frequency: 'Once daily' },\n    { name: 'Ranitidine', dosage: '75mg', frequency: 'Twice daily' },\n    { name: 'Famotidine (Pepcid)', dosage: '10mg', frequency: 'Twice daily' },\n    { name: 'Omeprazole (Prilosec)', dosage: '20mg', frequency: 'Once daily' },\n    { name: 'Esomeprazole (Nexium)', dosage: '20mg', frequency: 'Once daily' },\n    \n    // Other Neurological / Supportive Medications\n    { name: 'Baclofen', dosage: '10mg', frequency: 'Three times daily' },\n    { name: 'Diazepam', dosage: '2mg', frequency: 'As needed' },\n    { name: 'Clonazepam', dosage: '0.25mg', frequency: 'Twice daily' },\n    { name: 'Midazolam', dosage: '5mg', frequency: 'Emergency use only' },\n    { name: 'Propranolol', dosage: '10mg', frequency: 'Twice daily' },\n    \n    // Targeted / Investigational\n    { name: 'Insulin-like Growth Factor-1 (IGF-1)', dosage: 'Varies', frequency: 'As prescribed' },\n    { name: 'Ketamine', dosage: 'Varies', frequency: 'As prescribed' },\n    { name: 'Bumetanide', dosage: '0.5mg', frequency: 'Once daily' },\n    { name: 'Cannabidiol (Epidiolex)', dosage: '5mg/kg', frequency: 'Twice daily' }\n  ];\n\n  // Quick log items - Show only 3-4 medications initially\n  const quickLogItems = [\n    { id: '1', name: 'Clobazam', icon: 'ðŸ’Š', type: 'medication', recentlyUsed: true, popular: true },\n    { id: '2', name: 'Levetiracetam (Keppra)', icon: 'ðŸ’Š', type: 'medication', recentlyUsed: true, popular: false },\n    { id: '3', name: 'Melatonin', icon: 'ðŸŒ™', type: 'medication', recentlyUsed: false, popular: true },\n    { id: '4', name: 'Risperidone (Risperdal)', icon: 'ðŸ’Š', type: 'medication', recentlyUsed: true, popular: false }\n  ];\n\n  // Reminders data - would be provided by backend/AI\n  const [reminders, setReminders] = useState<Reminder[]>([\n    {\n      id: '1',\n      type: 'medication',\n      name: 'Clobazam',\n      dose: '10mg',\n      time: '8:00 AM',\n      icon: 'ðŸ’Š',\n      status: 'pending',\n      notes: 'Take with breakfast',\n      repeatSchedule: 'daily',\n      timesPerDay: ['breakfast'],\n      startDate: '2024-01-01',\n      endDate: '',\n      method: 'in_app',\n      nextDose: '8:00 AM'\n    },\n    {\n      id: '2',\n      type: 'medication',\n      name: 'Levetiracetam (Keppra)',\n      dose: '500mg',\n      time: '9:00 AM',\n      icon: 'ðŸ’Š',\n      status: 'pending',\n      notes: 'Take with food',\n      repeatSchedule: 'daily',\n      timesPerDay: ['breakfast', 'dinner'],\n      startDate: '2024-01-01',\n      endDate: '',\n      method: 'in_app',\n      nextDose: '9:00 AM'\n    },\n    {\n      id: '3',\n      type: 'appointment',\n      name: 'Dr. Smith - Follow-up',\n      time: '2:30 PM',\n      icon: 'ðŸ“…',\n      status: 'pending',\n      location: 'Medical Center, Room 205',\n      repeatSchedule: 'as_needed',\n      timesPerDay: [],\n      startDate: '2024-01-01',\n      endDate: '',\n      method: 'in_app',\n      nextDose: '2:30 PM'\n    },\n    {\n      id: '4',\n      type: 'medication',\n      name: 'Melatonin',\n      dose: '3mg',\n      time: '9:00 PM',\n      icon: 'ðŸŒ™',\n      status: 'taken',\n      notes: 'Taken at bedtime',\n      repeatSchedule: 'daily',\n      timesPerDay: ['bedtime'],\n      startDate: '2024-01-01',\n      endDate: '',\n      method: 'in_app',\n      nextDose: '9:00 PM'\n    }\n  ]);\n\n  // Debounced search effect\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedSearchQuery(searchQuery);\n    }, 250);\n\n    return () => clearTimeout(timer);\n  }, [searchQuery]);\n\n  // Get filtered medications based on debounced search\n  const filteredMedications = debouncedSearchQuery.trim() === '' ? [] : \n    medicationDatabase.filter(med =>\n      med.name.toLowerCase().includes(debouncedSearchQuery.toLowerCase())\n    ).slice(0, 8);\n\n  // Enhanced search suggestions with descriptors from new medication database\n  const searchSuggestions = [\n    // Antiepileptic / Seizure Medications\n    { name: 'Clobazam', icon: 'ðŸ’Š', descriptor: 'Antiepileptic medication' },\n    { name: 'Levetiracetam (Keppra)', icon: 'ðŸ’Š', descriptor: 'Seizure control medication' },\n    { name: 'Valproic Acid (Depakote)', icon: 'ðŸ’Š', descriptor: 'Mood stabilizer & anticonvulsant' },\n    { name: 'Lamotrigine (Lamictal)', icon: 'ðŸ’Š', descriptor: 'Bipolar & epilepsy treatment' },\n    { name: 'Topiramate (Topamax)', icon: 'ðŸ’Š', descriptor: 'Migraine & seizure prevention' },\n    { name: 'Oxcarbazepine (Trileptal)', icon: 'ðŸ’Š', descriptor: 'Anticonvulsant medication' },\n    { name: 'Carbamazepine (Tegretol)', icon: 'ðŸ’Š', descriptor: 'Epilepsy & nerve pain treatment' },\n    { name: 'Gabapentin (Neurontin)', icon: 'ðŸ’Š', descriptor: 'Nerve pain & seizure control' },\n    { name: 'Lacosamide (Vimpat)', icon: 'ðŸ’Š', descriptor: 'Partial seizure treatment' },\n    { name: 'Ethosuximide (Zarontin)', icon: 'ðŸ’Š', descriptor: 'Absence seizure medication' },\n    \n    // Sleep Aids / Melatonin Modulators\n    { name: 'Melatonin', icon: 'ðŸŒ™', descriptor: 'Sleep regulation hormone' },\n    { name: 'Clonidine', icon: 'ðŸ’Š', descriptor: 'Blood pressure & sleep aid' },\n    { name: 'Trazodone', icon: 'ðŸ’Š', descriptor: 'Antidepressant & sleep aid' },\n    { name: 'Mirtazapine', icon: 'ðŸ’Š', descriptor: 'Antidepressant with sedating effects' },\n    { name: 'Hydroxyzine', icon: 'ðŸ’Š', descriptor: 'Antihistamine for anxiety & sleep' },\n    \n    // Behavioral / Mood Stabilizers\n    { name: 'Risperidone (Risperdal)', icon: 'ðŸ’Š', descriptor: 'Antipsychotic medication' },\n    { name: 'Aripiprazole (Abilify)', icon: 'ðŸ’Š', descriptor: 'Atypical antipsychotic' },\n    { name: 'Quetiapine (Seroquel)', icon: 'ðŸ’Š', descriptor: 'Antipsychotic & mood stabilizer' },\n    { name: 'Olanzapine (Zyprexa)', icon: 'ðŸ’Š', descriptor: 'Antipsychotic medication' },\n    { name: 'Lithium', icon: 'ðŸ’Š', descriptor: 'Classic mood stabilizer' },\n    { name: 'Ziprasidone', icon: 'ðŸ’Š', descriptor: 'Antipsychotic medication' },\n    { name: 'Lurasidone (Latuda)', icon: 'ðŸ’Š', descriptor: 'Atypical antipsychotic' },\n    \n    // Stimulants / ADHD-Related\n    { name: 'Methylphenidate (Ritalin, Concerta)', icon: 'ðŸ’Š', descriptor: 'ADHD treatment medication' },\n    { name: 'Amphetamine/Dextroamphetamine (Adderall)', icon: 'ðŸ’Š', descriptor: 'ADHD stimulant medication' },\n    { name: 'Lisdexamfetamine (Vyvanse)', icon: 'ðŸ’Š', descriptor: 'ADHD treatment medication' },\n    { name: 'Atomoxetine (Strattera)', icon: 'ðŸ’Š', descriptor: 'Non-stimulant ADHD treatment' },\n    { name: 'Guanfacine', icon: 'ðŸ’Š', descriptor: 'ADHD & blood pressure medication' },\n    \n    // Anxiety / Depression / OCD\n    { name: 'Sertraline (Zoloft)', icon: 'ðŸ’Š', descriptor: 'SSRI antidepressant' },\n    { name: 'Fluoxetine (Prozac)', icon: 'ðŸ’Š', descriptor: 'SSRI antidepressant' },\n    { name: 'Citalopram (Celexa)', icon: 'ðŸ’Š', descriptor: 'SSRI antidepressant' },\n    { name: 'Escitalopram (Lexapro)', icon: 'ðŸ’Š', descriptor: 'SSRI antidepressant' },\n    { name: 'Buspirone', icon: 'ðŸ’Š', descriptor: 'Anti-anxiety medication' },\n    { name: 'Duloxetine (Cymbalta)', icon: 'ðŸ’Š', descriptor: 'SNRI antidepressant' },\n    \n    // GI & Motility Support\n    { name: 'Polyethylene Glycol (MiraLAX)', icon: 'ðŸ’Š', descriptor: 'Laxative medication' },\n    { name: 'Lactulose', icon: 'ðŸ’Š', descriptor: 'Laxative medication' },\n    { name: 'Senna', icon: 'ðŸ’Š', descriptor: 'Natural laxative' },\n    { name: 'Docusate Sodium', icon: 'ðŸ’Š', descriptor: 'Stool softener' },\n    { name: 'Famotidine (Pepcid)', icon: 'ðŸ’Š', descriptor: 'Acid reducer' },\n    { name: 'Omeprazole (Prilosec)', icon: 'ðŸ’Š', descriptor: 'Proton pump inhibitor' },\n    { name: 'Esomeprazole (Nexium)', icon: 'ðŸ’Š', descriptor: 'Proton pump inhibitor' },\n    \n    // Other Neurological / Supportive\n    { name: 'Baclofen', icon: 'ðŸ’Š', descriptor: 'Muscle relaxant for spasticity' },\n    { name: 'Diazepam', icon: 'ðŸ’Š', descriptor: 'Benzodiazepine for anxiety' },\n    { name: 'Clonazepam', icon: 'ðŸ’Š', descriptor: 'Benzodiazepine for seizures' },\n    { name: 'Propranolol', icon: 'ðŸ’Š', descriptor: 'Beta blocker for anxiety' },\n    \n    // Targeted / Investigational\n    { name: 'Cannabidiol (Epidiolex)', icon: 'ðŸ’Š', descriptor: 'CBD medication for epilepsy' }\n  ].filter(suggestion =>\n    suggestion.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    suggestion.descriptor.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  // Get filtered history based on time filter\n  const getFilteredHistory = () => {\n    const now = new Date();\n    const filterDate = new Date();\n    \n    switch (historyTimeFilter) {\n      case '7days':\n        filterDate.setDate(now.getDate() - 7);\n        break;\n      case '30days':\n        filterDate.setDate(now.getDate() - 30);\n        break;\n      case '6months':\n        filterDate.setMonth(now.getMonth() - 6);\n        break;\n      case '1year':\n        filterDate.setFullYear(now.getFullYear() - 1);\n        break;\n      default:\n        return medicationHistory;\n    }\n    \n    return medicationHistory.filter(entry => new Date(entry.date) >= filterDate);\n  };\n\n  // Get display text for time filter\n  const getTimeFilterDisplay = () => {\n    switch (historyTimeFilter) {\n      case '7days': return 'Last 7 days';\n      case '30days': return 'Last 30 days';\n      case '6months': return 'Last 6 months';\n      case '1year': return 'Last 1 year';\n      default: return 'All time';\n    }\n  };\n\n  // Get history entries to display (with progressive disclosure)\n  const getDisplayHistory = () => {\n    const filtered = getFilteredHistory();\n    return showMoreHistory ? filtered : filtered.slice(0, 5);\n  };\n\n  // Handle search input change\n  const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setSearchQuery(value);\n    setShowDropdown(value.trim() !== '');\n    setSelectedIndex(-1);\n  };\n\n  // Handle keyboard navigation\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (!showDropdown || filteredMedications.length === 0) return;\n\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        setSelectedIndex(prev => \n          prev < filteredMedications.length - 1 ? prev + 1 : prev\n        );\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        setSelectedIndex(prev => prev > 0 ? prev - 1 : -1);\n        break;\n      case 'Enter':\n        e.preventDefault();\n        if (selectedIndex >= 0 && selectedIndex < filteredMedications.length) {\n          handleMedicationSelect(filteredMedications[selectedIndex].name);\n        }\n        break;\n      case 'Escape':\n        setShowDropdown(false);\n        setSelectedIndex(-1);\n        break;\n    }\n  }, [showDropdown, filteredMedications, selectedIndex]);\n\n  // Handle medication selection from dropdown\n  const handleMedicationSelect = (medication: string) => {\n    setSelectedMedication(medication);\n    const med = medicationDatabase.find(m => m.name === medication);\n    if (med) {\n      // Parse dosage to extract numeric value and unit\n      const dosageMatch = med.dosage.match(/(\\d+(?:\\.\\d+)?)\\s*(.+)/);\n      if (dosageMatch) {\n        setDosage(dosageMatch[1]);\n        setDosageUnit(dosageMatch[2].toLowerCase());\n      }\n    }\n    setSearchQuery(medication);\n    setShowDropdown(false);\n    setSelectedIndex(-1);\n    setShowLogModal(true);\n    setCurrentStep('log');\n    setErrors({});\n  };\n\n  // Handle logging medication\n  const handleLogMedication = () => {\n    // Set loading state\n    setIsSaving(true);\n    \n    // Validate required fields\n    const newErrors: {[key: string]: string} = {};\n    \n    if (!selectedMedication.trim()) {\n      newErrors.medication = 'Medication name is required';\n    } else if (selectedMedication.trim().length < 2) {\n      newErrors.medication = 'Medication name must be at least 2 characters';\n    }\n    \n    if (!dosage.trim()) {\n      newErrors.dosage = 'Dosage is required';\n    } else if (isNaN(Number(dosage)) || Number(dosage) <= 0) {\n      newErrors.dosage = 'Dosage must be a positive number';\n    }\n    \n    if (schedule === 'custom' && !customSchedule.trim()) {\n      newErrors.customSchedule = 'Custom schedule is required when \"Custom\" is selected';\n    }\n    \n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      setIsSaving(false);\n      return;\n    }\n\n    // Format schedule display\n    let scheduleDisplay = '';\n    if (asNeeded) {\n      scheduleDisplay = 'As needed';\n    } else if (schedule === 'custom') {\n      scheduleDisplay = customSchedule || 'Custom schedule';\n    } else {\n      scheduleDisplay = schedule.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n    }\n\n    const newEntry: MedicationEntry = {\n      id: Date.now().toString(),\n      medicationName: selectedMedication,\n      dosage: `${dosage} ${dosageUnit}`,\n      frequency: scheduleDisplay,\n      timeTaken: timeOfLastDose,\n      date: startDate,\n      icon: 'ðŸ’Š',\n      status: 'taken',\n      notes: instructions || selectedNotes\n    };\n\n    setMedicationHistory(prev => [newEntry, ...prev]);\n    setShowLogModal(false);\n    setCurrentStep('search');\n    \n    // Reset form\n    setSelectedMedication('');\n    setDosage('');\n    setMedicationForm('pill');\n    setSchedule('once_daily');\n    setCustomSchedule('');\n    setAsNeeded(false);\n    setTimeOfLastDose(() => {\n      const now = new Date();\n      return `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;\n    });\n    setStartDate(() => {\n      const today = new Date();\n      return today.toISOString().split('T')[0];\n    });\n    setInstructions('');\n    setSelectedNotes('');\n    setUniqueIdentifier('');\n    setShowAdvancedOptions(false);\n    setErrors({});\n    \n    // Show confirmation\n    setShowConfirmation(true);\n    setTimeout(() => setShowConfirmation(false), 3000);\n    \n    // Reset loading state\n    setIsSaving(false);\n  };\n\n  // Handle history time filter change\n  const handleHistoryTimeFilterChange = (value: string) => {\n    setHistoryTimeFilter(value);\n    setShowMoreHistory(false); // Reset show more when filter changes\n  };\n\n  // Handle marking reminder as taken\n  const handleMarkAsTaken = (reminderId: string) => {\n    setReminders(prev => prev.map(reminder => \n      reminder.id === reminderId \n        ? { ...reminder, status: 'taken' }\n        : reminder\n    ));\n    \n    // Add to medication history\n    const reminder = reminders.find(r => r.id === reminderId);\n    if (reminder && reminder.type === 'medication') {\n      const newEntry: MedicationEntry = {\n        id: Date.now().toString(),\n        medicationName: reminder.name,\n        dosage: reminder.dose || '',\n        frequency: 'Once daily',\n        timeTaken: reminder.time,\n        date: new Date().toISOString().split('T')[0],\n        icon: reminder.icon,\n        status: 'taken',\n        notes: reminder.notes\n      };\n      setMedicationHistory(prev => [newEntry, ...prev]);\n    }\n  };\n\n  // Handle viewing appointment details\n  const handleViewAppointmentDetails = (reminderId: string) => {\n    const reminder = reminders.find(r => r.id === reminderId);\n    if (reminder) {\n      // Handle appointment details view\n      console.log('View appointment details:', reminder);\n    }\n  };\n\n  // Get today's reminders\n  const getTodayReminders = () => {\n    return reminders.filter(reminder => reminder.status === 'pending');\n  };\n\n  // Determine if medication is supplement or medication\n  const getMedicationType = (name: string) => {\n    const supplementKeywords = ['vitamin', 'supplement', 'omega', 'probiotic', 'magnesium', 'zinc', 'calcium'];\n    return supplementKeywords.some(keyword => name.toLowerCase().includes(keyword)) ? 'supplement' : 'medication';\n  };\n\n  // Format date for display\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', { \n      weekday: 'short', \n      month: 'short', \n      day: 'numeric' \n    });\n  };\n\n  // Initialize AI suggestions (simulate backend/AI providing suggestions)\n  React.useEffect(() => {\n    // Simulate backend/AI providing suggestions\n    setSuggestionQueue(mockSuggestions);\n    // Always show the Clobazam refill message as the first suggestion\n    const clobazamRefillSuggestion = mockSuggestions.find(s => s.message.includes('Clobazam'));\n    if (clobazamRefillSuggestion) {\n      setCurrentSuggestion(clobazamRefillSuggestion);\n    } else if (mockSuggestions.length > 0) {\n      setCurrentSuggestion(mockSuggestions[0]);\n    }\n  }, []);\n\n  // Handle dismissing current suggestion\n  const handleDismissSuggestion = () => {\n    if (currentSuggestion) {\n      // Remove current suggestion from queue\n      const updatedQueue = suggestionQueue.filter(s => s.id !== currentSuggestion.id);\n      setSuggestionQueue(updatedQueue);\n      \n      // Show next suggestion if available\n      if (updatedQueue.length > 0) {\n        setCurrentSuggestion(updatedQueue[0]);\n      } else {\n        // If no more suggestions, always show the Clobazam refill message\n        const clobazamRefillSuggestion = mockSuggestions.find(s => s.message.includes('Clobazam'));\n        if (clobazamRefillSuggestion) {\n          setCurrentSuggestion(clobazamRefillSuggestion);\n          setSuggestionQueue([clobazamRefillSuggestion]);\n        } else {\n          setCurrentSuggestion(null);\n        }\n      }\n    }\n  };\n\n  // Handle suggestion action (optional tap on banner)\n  const handleSuggestionAction = () => {\n    if (currentSuggestion?.action) {\n      // For MVP, just show an alert. In production, this would trigger specific actions\n      alert(`Action: ${currentSuggestion.action}\\nSuggestion: ${currentSuggestion.message}`);\n    }\n  };\n\n  // Get suggestion background color based on type and priority\n  const getSuggestionBackground = () => {\n    if (!currentSuggestion) return '';\n    \n    const { type, priority } = currentSuggestion;\n    \n    if (priority === 'high') {\n      return 'bg-gradient-to-r from-amber-50 to-orange-50 border-amber-200';\n    }\n    \n    switch (type) {\n      case 'refill':\n        return 'bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200';\n      case 'appointment':\n        return 'bg-gradient-to-r from-purple-50 to-pink-50 border-purple-200';\n      case 'compliance':\n        return 'bg-gradient-to-r from-green-50 to-emerald-50 border-green-200';\n      case 'interaction':\n        return 'bg-gradient-to-r from-yellow-50 to-amber-50 border-yellow-200';\n      default:\n        return 'bg-gradient-to-r from-gray-50 to-slate-50 border-gray-200';\n    }\n  };\n\n  // Helper function to check if form is valid\n  const isFormValid = () => {\n    const hasRequiredFields = selectedMedication.trim().length >= 2 && \n                             dosage.trim() !== '' && \n                             !isNaN(Number(dosage)) && \n                             Number(dosage) > 0;\n    \n    const hasValidCustomSchedule = schedule !== 'custom' || customSchedule.trim() !== '';\n    \n    return hasRequiredFields && hasValidCustomSchedule;\n  };\n\n  // Reminder management functions\n  const handleCreateReminder = () => {\n    if (!reminderMedication.trim()) {\n      setErrors(prev => ({ ...prev, reminderMedication: 'Medication name is required' }));\n      return;\n    }\n\n    const newReminder = {\n      id: Date.now().toString(),\n      type: 'medication' as const,\n      name: reminderMedication,\n      dose: '',\n      time: reminderTimesPerDay.length > 0 ? reminderTimesPerDay[0] : 'Custom',\n      icon: 'ðŸ’Š',\n      status: 'pending' as const,\n      notes: reminderNotes,\n      repeatSchedule: reminderRepeatSchedule,\n      timesPerDay: reminderTimesPerDay,\n      startDate: reminderStartDate,\n      endDate: reminderEndDate,\n      method: reminderMethod,\n      nextDose: reminderTimesPerDay.length > 0 ? reminderTimesPerDay[0] : 'Custom'\n    };\n\n    setReminders(prev => [...prev, newReminder]);\n    handleCloseSetReminderModal();\n  };\n\n  const handleEditReminder = (reminderId: string) => {\n    const reminder = reminders.find(r => r.id === reminderId);\n    if (reminder) {\n      setEditingReminderId(reminderId);\n      setReminderMedication(reminder.name);\n      setReminderRepeatSchedule(reminder.repeatSchedule || 'daily');\n      setReminderSpecificDays(reminder.timesPerDay || []);\n      setReminderTimesPerDay(reminder.timesPerDay || ['breakfast']);\n      setReminderStartDate(reminder.startDate || '');\n      setReminderEndDate(reminder.endDate || '');\n      setReminderMethod(reminder.method || 'in_app');\n      setReminderNotes(reminder.notes || '');\n      setShowSetReminderModal(true);\n    }\n  };\n\n  const handleUpdateReminder = () => {\n    if (!reminderMedication.trim()) {\n      setErrors(prev => ({ ...prev, reminderMedication: 'Medication name is required' }));\n      return;\n    }\n\n    setReminders(prev => prev.map(reminder => \n      reminder.id === editingReminderId \n        ? {\n            ...reminder,\n            name: reminderMedication,\n            notes: reminderNotes,\n            repeatSchedule: reminderRepeatSchedule,\n            timesPerDay: reminderTimesPerDay,\n            startDate: reminderStartDate,\n            endDate: reminderEndDate,\n            method: reminderMethod\n          }\n        : reminder\n    ));\n\n    handleCloseSetReminderModal();\n  };\n\n  const handleDeleteReminder = (reminderId: string) => {\n    setReminders(prev => prev.filter(reminder => reminder.id !== reminderId));\n  };\n\n  const handleCloseSetReminderModal = () => {\n    setShowSetReminderModal(false);\n    setEditingReminderId(null);\n    setReminderMedication('');\n    setReminderRepeatSchedule('daily');\n    setReminderSpecificDays([]);\n    setReminderEveryXHours('24');\n    setReminderTimesPerDay(['breakfast']);\n    setReminderCustomTime('');\n    setReminderStartDate(() => {\n      const today = new Date();\n      return today.toISOString().split('T')[0];\n    });\n    setReminderEndDate('');\n    setReminderMethod('in_app');\n    setReminderNotes('');\n    setErrors({});\n  };\n\n  const handleReminderTimeToggle = (time: string) => {\n    setReminderTimesPerDay(prev => \n      prev.includes(time) \n        ? prev.filter(t => t !== time)\n        : [...prev, time]\n    );\n  };\n\n  const handleReminderDayToggle = (day: string) => {\n    setReminderSpecificDays(prev => \n      prev.includes(day) \n        ? prev.filter(d => d !== day)\n        : [...prev, day]\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <style>{`\n        .scrollbar-hide {\n          -ms-overflow-style: none;\n          scrollbar-width: none;\n        }\n        .scrollbar-hide::-webkit-scrollbar {\n          display: none;\n        }\n      `}</style>\n      {/* Fixed Top Bar */}\n      <div className=\"bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-50\">\n        <div className=\"px-4 py-4\">\n          <div className=\"flex items-center justify-between\">\n            {/* Back button and title */}\n            <div className=\"flex items-center space-x-3\">\n              <button\n                onClick={onBack}\n                className=\"p-2 text-gray-600 hover:text-gray-800 transition-colors rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                aria-label=\"Go back to previous screen\"\n              >\n                <BackArrowIcon />\n              </button>\n              <div>\n                <h1 className=\"text-xl font-bold text-gray-900\">Medication</h1>\n                <p className=\"text-sm text-gray-500\">Track and manage medications & appointments</p>\n              </div>\n            </div>\n            {/* Future settings icon placeholder */}\n            <div className=\"w-10\"></div>\n          </div>\n        </div>\n      </div>\n\n      {/* Sticky Search Bar */}\n      <div className=\"bg-white border-b border-gray-200 sticky top-[88px] z-40\">\n        <div className=\"px-4 py-3\">\n          <div className=\"relative\">\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n              <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n            </div>\n            <input\n              type=\"text\"\n              placeholder=\"Search medications or supplementsâ€¦\"\n              value={searchQuery}\n              onChange={handleSearchChange}\n              onKeyDown={handleKeyDown}\n              onFocus={() => setShowDropdown(searchQuery.trim() !== '')}\n              onBlur={() => setTimeout(() => setShowDropdown(false), 200)}\n              className=\"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm\"\n              aria-label=\"Search medications or supplements\"\n            />\n            {searchQuery && (\n              <button\n                onClick={() => setSearchQuery('')}\n                className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors\"\n                aria-label=\"Clear search\"\n              >\n                <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            )}\n            \n                        {/* Autosuggest Dropdown */}\n            {showDropdown && (\n              <div className=\"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto\">\n                {filteredMedications.length > 0 ? (\n                  filteredMedications.map((medication, index) => (\n                    <button\n                      key={index}\n                      onClick={() => handleMedicationSelect(medication.name)}\n                      className={`w-full px-4 py-3 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-inset transition-colors ${\n                        selectedIndex === index ? 'bg-indigo-100' : ''\n                      }`}\n                    >\n                      <div className=\"flex items-center space-x-3\">\n                        <span className=\"text-xl\">ðŸ’Š</span>\n                        <div className=\"flex-1 min-w-0\">\n                          <p className=\"text-sm font-medium text-gray-900\">{medication.name}</p>\n                          <p className=\"text-xs text-gray-500\">{medication.dosage} â€¢ {medication.frequency}</p>\n                        </div>\n                      </div>\n                    </button>\n                  ))\n                ) : (\n                  <div className=\"px-4 py-3 text-sm text-gray-500 text-center\">\n                    No medications found\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content Area */}\n      <div className=\"max-w-2xl mx-auto px-4 sm:px-6 pt-[144px] pb-6 sm:pb-8 lg:max-w-7xl lg:px-8 lg:pt-8 lg:pb-12\">\n        {/* Desktop Layout - Two Column Grid */}\n        <div className=\"lg:grid lg:grid-cols-3 lg:gap-8 lg:items-start\">\n          {/* Left Column - Quick Log and Reminders */}\n          <div className=\"lg:col-span-1\">\n            {/* Quick Log Section */}\n            <div className=\"mb-6 lg:mb-8\">\n              <div className=\"flex items-center justify-between mb-3 lg:mb-4\">\n                <h2 className=\"text-lg font-semibold text-gray-900 lg:text-xl\">Quick Log</h2>\n                <div className=\"flex items-center space-x-2\">\n                  <span className=\"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full lg:text-sm\">Recently Used</span>\n                  <span className=\"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full lg:text-sm\">Popular</span>\n                </div>\n              </div>\n              \n              {/* Horizontal Scrollable Chips - Mobile */}\n              <div className=\"lg:hidden relative\">\n                <div className=\"flex space-x-3 overflow-x-auto scrollbar-hide pb-2\">\n                  {quickLogItems.map((item) => (\n                    <button\n                      key={item.id}\n                      onClick={() => {\n                        setSelectedMedication(item.name);\n                        const med = medicationDatabase.find(m => m.name === item.name);\n                        if (med) {\n                          // Parse dosage to extract numeric value and unit\n                          const dosageMatch = med.dosage.match(/(\\d+(?:\\.\\d+)?)\\s*(.+)/);\n                          if (dosageMatch) {\n                            setDosage(dosageMatch[1]);\n                            setDosageUnit(dosageMatch[2].toLowerCase());\n                          }\n                        }\n                        setShowLogModal(true);\n                        setCurrentStep('log');\n                      }}\n                      className=\"flex-shrink-0 flex items-center space-x-2 bg-white border border-gray-200 rounded-full px-4 py-2 hover:border-indigo-300 hover:shadow-sm transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                    >\n                      <span className=\"text-lg\">{item.icon}</span>\n                      <span className=\"text-sm font-medium text-gray-900 truncate max-w-[120px]\">{item.name}</span>\n                      <div className=\"flex-shrink-0 w-5 h-5 bg-indigo-100 rounded-full flex items-center justify-center\">\n                        <svg className=\"w-3 h-3 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                        </svg>\n                      </div>\n                    </button>\n                  ))}\n                  \n                  {/* Add New Chip */}\n                  <button\n                    onClick={() => setShowLogModal(true)}\n                    className=\"flex-shrink-0 flex items-center space-x-2 bg-indigo-50 border border-indigo-200 rounded-full px-4 py-2 hover:bg-indigo-100 hover:border-indigo-300 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                  >\n                    <span className=\"text-lg\">âž•</span>\n                    <span className=\"text-sm font-medium text-indigo-700\">Add New</span>\n                  </button>\n                </div>\n                \n                {/* Scroll Indicators */}\n                <div className=\"absolute left-0 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-gradient-to-r from-gray-50 to-transparent pointer-events-none rounded-l-full\"></div>\n                <div className=\"absolute right-0 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-gradient-to-l from-gray-50 to-transparent pointer-events-none rounded-r-full\"></div>\n              </div>\n\n              {/* Desktop Vertical Layout */}\n              <div className=\"hidden lg:block space-y-3\">\n                {quickLogItems.map((item) => (\n                  <button\n                    key={item.id}\n                    onClick={() => {\n                      setSelectedMedication(item.name);\n                      const med = medicationDatabase.find(m => m.name === item.name);\n                      if (med) {\n                        const dosageMatch = med.dosage.match(/(\\d+(?:\\.\\d+)?)\\s*(.+)/);\n                        if (dosageMatch) {\n                          setDosage(dosageMatch[1]);\n                          setDosageUnit(dosageMatch[2].toLowerCase());\n                        }\n                      }\n                      setShowLogModal(true);\n                      setCurrentStep('log');\n                    }}\n                    className=\"w-full flex items-center space-x-3 bg-white border border-gray-200 rounded-lg px-4 py-3 hover:border-indigo-300 hover:shadow-sm transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                  >\n                    <span className=\"text-xl\">{item.icon}</span>\n                    <span className=\"text-sm font-medium text-gray-900 flex-1 text-left\">{item.name}</span>\n                    <div className=\"flex-shrink-0 w-6 h-6 bg-indigo-100 rounded-full flex items-center justify-center\">\n                      <svg className=\"w-4 h-4 text-indigo-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                      </svg>\n                    </div>\n                  </button>\n                ))}\n                \n                {/* Show \"Add New Medication\" only when search has no results */}\n                {searchQuery && filteredMedications.length === 0 && (\n                  <button\n                    onClick={() => setShowLogModal(true)}\n                    className=\"w-full flex items-center space-x-3 bg-indigo-50 border border-indigo-200 rounded-lg px-4 py-3 hover:bg-indigo-100 hover:border-indigo-300 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                  >\n                    <span className=\"text-xl\">âž•</span>\n                    <span className=\"text-sm font-medium text-indigo-700\">Add New Medication</span>\n                  </button>\n                )}\n              </div>\n            </div>\n\n            {/* Reminders Section */}\n            <div className=\"mb-6 lg:mb-8\">\n              <div className=\"flex items-center justify-between mb-3 lg:mb-4\">\n                <h2 className=\"text-lg font-semibold text-gray-900 lg:text-xl\">Reminders</h2>\n                <div className=\"flex items-center space-x-3\">\n                  <button \n                    onClick={() => setShowSetReminderModal(true)}\n                    className=\"p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors\"\n                    aria-label=\"Add new reminder\"\n                  >\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                    </svg>\n                  </button>\n                  <button className=\"text-sm text-indigo-600 hover:text-indigo-700 font-medium transition-colors lg:text-base\">\n                    View all reminders\n                  </button>\n                </div>\n              </div>\n              \n              {/* Reminders List */}\n              <div className=\"space-y-3 lg:space-y-4\">\n                {/* Today's Schedule Summary */}\n                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                  <h3 className=\"text-sm font-medium text-blue-900 mb-2\">Today's Schedule</h3>\n                  <div className=\"space-y-2\">\n                    {getTodayReminders().length > 0 ? (\n                      getTodayReminders().map((reminder) => (\n                        <div key={reminder.id} className=\"flex items-center justify-between text-sm\">\n                          <div className=\"flex items-center space-x-2\">\n                            <span className=\"text-blue-600\">{reminder.icon}</span>\n                            <span className=\"text-blue-800 font-medium\">{reminder.name}</span>\n                            {reminder.dose && (\n                              <span className=\"text-blue-600\">({reminder.dose})</span>\n                            )}\n                          </div>\n                          <span className=\"text-blue-600 font-medium\">{reminder.time}</span>\n                        </div>\n                      ))\n                    ) : (\n                      <p className=\"text-blue-600 text-sm\">No reminders scheduled for today</p>\n                    )}\n                  </div>\n                </div>\n\n                {getTodayReminders().length > 0 ? (\n                  getTodayReminders().map((reminder) => (\n                    <div \n                      key={reminder.id} \n                      className={`bg-white border rounded-lg p-4 transition-all lg:p-5 ${\n                        reminder.type === 'medication' \n                          ? 'border-gray-200 hover:border-indigo-200' \n                          : 'border-gray-200 hover:border-blue-200'\n                      }`}\n                    >\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center space-x-3\">\n                          <div className={`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center lg:w-12 lg:h-12 ${\n                            reminder.type === 'medication' ? 'bg-indigo-100' : 'bg-blue-100'\n                          }`}>\n                            <span className=\"text-lg lg:text-xl\">{reminder.icon}</span>\n                          </div>\n                          <div className=\"flex-1 min-w-0\">\n                            <h3 className=\"text-sm font-medium text-gray-900 truncate lg:text-base\">\n                              {reminder.name}\n                            </h3>\n                            <div className=\"flex items-center space-x-2 text-xs text-gray-500 mt-1 lg:text-sm\">\n                              <span>{reminder.time}</span>\n                              {reminder.type === 'medication' && reminder.dose && (\n                                <>\n                                  <span>â€¢</span>\n                                  <span>{reminder.dose}</span>\n                                </>\n                              )}\n                            </div>\n                            {reminder.repeatSchedule && (\n                              <div className=\"text-xs text-gray-400 mt-1\">\n                                {reminder.repeatSchedule === 'daily' && 'Daily'}\n                                {reminder.repeatSchedule === 'specific_days' && `Every ${reminder.timesPerDay.join(', ')}`}\n                                {reminder.repeatSchedule === 'every_x_hours' && `Every ${reminder.everyXHours || '24'} hours`}\n                                {reminder.repeatSchedule === 'as_needed' && 'As needed'}\n                              </div>\n                            )}\n                            {reminder.notes && (\n                              <p className=\"text-xs text-gray-400 mt-1\">{reminder.notes}</p>\n                            )}\n                            {reminder.startDate && (\n                              <div className=\"text-xs text-gray-400 mt-1\">\n                                From: {new Date(reminder.startDate).toLocaleDateString()}\n                                {reminder.endDate && ` To: ${new Date(reminder.endDate).toLocaleDateString()}`}\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                        \n                        <div className=\"flex items-center space-x-2\">\n                          {reminder.type === 'medication' ? (\n                            <button\n                              onClick={() => handleMarkAsTaken(reminder.id)}\n                              className=\"px-3 py-1.5 bg-indigo-600 text-white text-xs font-medium rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors\"\n                            >\n                              Mark as taken\n                            </button>\n                          ) : (\n                            <button\n                              onClick={() => handleViewAppointmentDetails(reminder.id)}\n                              className=\"px-3 py-1.5 bg-blue-600 text-white text-xs font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors\"\n                            >\n                              View details\n                            </button>\n                          )}\n                          <button\n                            onClick={() => handleEditReminder(reminder.id)}\n                            className=\"p-1.5 text-gray-400 hover:text-indigo-600 transition-colors\"\n                            aria-label=\"Edit reminder\"\n                          >\n                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                            </svg>\n                          </button>\n                          <button\n                            onClick={() => handleDeleteReminder(reminder.id)}\n                            className=\"p-1.5 text-gray-400 hover:text-red-600 transition-colors\"\n                            aria-label=\"Delete reminder\"\n                          >\n                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                            </svg>\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ))\n                ) : (\n                  <div className=\"bg-white border border-gray-200 rounded-lg p-8 text-center\">\n                    <div className=\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3\">\n                      <svg className=\"w-6 h-6 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                    </div>\n                    <p className=\"text-sm text-gray-500\">No reminders scheduled for today.</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Right Column - Search, AI Suggestion, and History */}\n          <div className=\"lg:col-span-2\">\n            {/* AI-Powered Suggestion/Tip Banner */}\n            {showAISuggestion && (\n              <div className=\"mb-8 lg:mb-12\">\n                <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-100 relative\">\n                  <button\n                    onClick={() => setShowAISuggestion(false)}\n                    className=\"absolute top-2 right-2 text-blue-400 hover:text-blue-600 transition-colors\"\n                    aria-label=\"Dismiss suggestion\"\n                  >\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                  </button>\n                  <div className=\"flex items-start space-x-3\">\n                    <div className=\"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center\" aria-hidden=\"true\">\n                      <svg className=\"w-3 h-3 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <h4 className=\"text-sm font-medium text-blue-900 mb-1\">Medication Reminder</h4>\n                      <p className=\"text-sm text-blue-800\">\n                        Set up medication reminders to ensure consistent dosing. You can also track side effects and effectiveness over time.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Search Medication Section */}\n            <div className=\"mb-6 lg:mb-8\">\n              <div className=\"flex items-center justify-between mb-3 lg:mb-4\">\n                <h2 className=\"text-lg font-semibold text-gray-900 lg:text-xl\">Search Medication</h2>\n                <button\n                  onClick={() => setCurrentStep('search')}\n                  className=\"text-sm text-indigo-600 hover:text-indigo-700 font-medium transition-colors lg:text-base\"\n                >\n                  View all medications\n                </button>\n              </div>\n              \n              {/* Search functionality moved to main search bar above */}\n            </div>\n\n            {/* History Section - Collapsible at bottom */}\n            <div className=\"bg-white rounded-xl border border-gray-200 shadow-lg\">\n              {/* Collapsible Header */}\n              <button\n                onClick={() => setIsHistoryExpanded(!isHistoryExpanded)}\n                className=\"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                aria-expanded={isHistoryExpanded}\n                aria-label=\"Toggle history section\"\n              >\n                <div className=\"flex items-center space-x-3\">\n                  <h2 className=\"text-lg font-semibold text-gray-900\">History</h2>\n                  <span className=\"text-sm text-gray-500\">({getTimeFilterDisplay()})</span>\n                </div>\n                <div className=\"flex items-center space-x-3\">\n                  {/* Time Filter Dropdown - Only visible when expanded */}\n                  {isHistoryExpanded && (\n                    <div className=\"relative\">\n                      <select \n                        value={historyTimeFilter}\n                        onChange={(e) => handleHistoryTimeFilterChange(e.target.value)}\n                        className=\"appearance-none bg-white border border-gray-300 rounded-lg px-3 py-2 pr-8 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 cursor-pointer hover:border-gray-400 transition-colors\"\n                        aria-label=\"Filter history by time period\"\n                        onClick={(e) => e.stopPropagation()}\n                      >\n                        <option value=\"7days\">Last 7 days</option>\n                        <option value=\"30days\">Last 30 days</option>\n                        <option value=\"6months\">Last 6 months</option>\n                        <option value=\"1year\">Last 1 year</option>\n                        <option value=\"custom\">Custom</option>\n                      </select>\n                      <div className=\"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none\">\n                        <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                        </svg>\n                      </div>\n                    </div>\n                  )}\n                  {/* Expand/Collapse Icon */}\n                  <svg \n                    className={`w-5 h-5 text-gray-400 transition-transform ${isHistoryExpanded ? 'rotate-180' : ''}`}\n                    fill=\"none\" \n                    stroke=\"currentColor\" \n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </div>\n              </button>\n\n              {/* Expanded History Content */}\n              {isHistoryExpanded && (\n                <>\n                  {/* History Entries List */}\n                  <div className=\"border-t border-gray-100\">\n                    {getDisplayHistory().length > 0 ? (\n                      <div className=\"divide-y divide-gray-100\">\n                        {getDisplayHistory().map((entry) => (\n                          <div key={entry.id} className=\"px-6 py-4 hover:bg-gray-50 transition-colors\">\n                            <div className=\"flex items-start space-x-3\">\n                              {/* Date */}\n                              <div className=\"flex-shrink-0\">\n                                <span className=\"text-sm font-medium text-gray-900\">\n                                  {formatDate(entry.date)}\n                                </span>\n                              </div>\n                              \n                              {/* Entry Details */}\n                              <div className=\"flex-1 min-w-0\">\n                                <div className=\"flex items-center space-x-2 mb-1\">\n                                  <span className=\"text-lg\">{entry.icon}</span>\n                                  <h5 className=\"text-sm font-medium text-gray-900 truncate\">\n                                    {entry.medicationName}\n                                  </h5>\n                                </div>\n                                \n                                <div className=\"flex items-center space-x-2 text-xs text-gray-500\">\n                                  <span>{entry.dosage}</span>\n                                  <span>â€¢</span>\n                                  <span>{entry.timeTaken}</span>\n                                  {entry.notes && (\n                                    <>\n                                      <span>â€¢</span>\n                                      <span className=\"text-gray-400\">{entry.notes}</span>\n                                    </>\n                                  )}\n                                </div>\n                              </div>\n                              \n                              {/* Status Badge */}\n                              <div className=\"flex-shrink-0\">\n                                <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${\n                                  entry.status === 'taken' ? 'bg-green-100 text-green-700' :\n                                  entry.status === 'missed' ? 'bg-red-100 text-red-700' :\n                                  'bg-yellow-100 text-yellow-700'\n                                }`}>\n                                  {entry.status}\n                                </span>\n                              </div>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    ) : (\n                      <div className=\"px-6 py-8 text-center\">\n                        <div className=\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3\" aria-hidden=\"true\">\n                          <svg className=\"w-6 h-6 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                          </svg>\n                        </div>\n                        <h4 className=\"text-sm font-medium text-gray-900 mb-1\">No medication entries for this period</h4>\n                        <p className=\"text-sm text-gray-500\">Start logging medications to see your history here</p>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Show More Button */}\n                  {getFilteredHistory().length > 5 && !showMoreHistory && (\n                    <div className=\"px-6 py-3 border-t border-gray-100\">\n                      <button\n                        onClick={() => setShowMoreHistory(true)}\n                        className=\"w-full text-sm text-indigo-600 hover:text-indigo-700 font-medium transition-colors\"\n                      >\n                        Show more ({getFilteredHistory().length - 5} more entries)\n                      </button>\n                    </div>\n                  )}\n\n                  {/* Show Less Button */}\n                  {showMoreHistory && getFilteredHistory().length > 5 && (\n                    <div className=\"px-6 py-3 border-t border-gray-100\">\n                      <button\n                        onClick={() => setShowMoreHistory(false)}\n                        className=\"w-full text-sm text-indigo-600 hover:text-indigo-700 font-medium transition-colors\"\n                      >\n                        Show less\n                      </button>\n                    </div>\n                  )}\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n             {/* Enhanced Medication Logging Modal/Drawer */}\n       {showLogModal && (\n         <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end sm:items-center justify-center p-4\">\n           <div className=\"bg-white rounded-t-xl sm:rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto\">\n             <div className=\"p-6\">\n               <div className=\"flex items-center justify-between mb-6\">\n                 <h2 className=\"text-lg font-semibold text-gray-900\">\n                   Log {selectedMedication ? getMedicationType(selectedMedication) : 'Medication'}\n                 </h2>\n                 <button\n                   onClick={() => {\n                     setShowLogModal(false);\n                     setErrors({});\n                     setIsSaving(false);\n                   }}\n                   className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n                   aria-label=\"Close modal\"\n                 >\n                   <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                     <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                   </svg>\n                 </button>\n               </div>\n\n               {currentStep === 'search' && (\n                 <div className=\"space-y-4\">\n                   <div>\n                     <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                       Search Medication\n                     </label>\n                     <input\n                       type=\"text\"\n                       placeholder=\"Type medication name...\"\n                       value={searchQuery}\n                       onChange={handleSearchChange}\n                       className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                     />\n                   </div>\n                   \n                   {searchQuery && (\n                     <div className=\"space-y-2\">\n                       {filteredMedications.map((medication) => (\n                         <button\n                           key={medication.name}\n                           onClick={() => handleMedicationSelect(medication.name)}\n                           className=\"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-gray-50 transition-colors\"\n                         >\n                           <div className=\"flex items-center space-x-3\">\n                             <span className=\"text-xl\">ðŸ’Š</span>\n                             <div>\n                               <p className=\"font-medium text-gray-900\">{medication.name}</p>\n                               <p className=\"text-sm text-gray-500\">{medication.dosage} â€¢ {medication.frequency}</p>\n                             </div>\n                           </div>\n                         </button>\n                       ))}\n                     </div>\n                   )}\n                 </div>\n               )}\n\n               {currentStep === 'log' && (\n                 <div className=\"space-y-6\">\n                   {/* Required Fields Section */}\n                   <div className=\"space-y-4\">\n                     <div className=\"flex items-center space-x-2\">\n                       <div className=\"w-2 h-2 bg-red-500 rounded-full\"></div>\n                       <h3 className=\"text-sm font-semibold text-gray-900\">Required Information</h3>\n                     </div>\n                     \n                     {/* Medication Name */}\n                     <div>\n                       <label htmlFor=\"medication-name\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                         Medication Name *\n                       </label>\n                       <input\n                         id=\"medication-name\"\n                         type=\"text\"\n                         value={selectedMedication}\n                         onChange={(e) => {\n                           setSelectedMedication(e.target.value);\n                           if (errors.medication) {\n                             setErrors(prev => ({ ...prev, medication: '' }));\n                           }\n                         }}\n                         className={`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base ${\n                           errors.medication ? 'border-red-300' : 'border-gray-300'\n                         }`}\n                         placeholder=\"Start typing medication or supplement name...\"\n                         aria-describedby={errors.medication ? \"medication-error\" : undefined}\n                         aria-invalid={!!errors.medication}\n                       />\n                       {errors.medication && (\n                         <p id=\"medication-error\" className=\"text-sm text-red-600 mt-1\" role=\"alert\">{errors.medication}</p>\n                       )}\n                     </div>\n\n                     {/* Dosage */}\n                     <div>\n                       <label htmlFor=\"dosage-input\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                         Dosage *\n                       </label>\n                       <div className=\"flex space-x-3\">\n                         <input\n                           id=\"dosage-input\"\n                           type=\"number\"\n                           value={dosage}\n                           onChange={(e) => {\n                             setDosage(e.target.value);\n                             if (errors.dosage) {\n                               setErrors(prev => ({ ...prev, dosage: '' }));\n                             }\n                           }}\n                           className={`flex-1 px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base ${\n                             errors.dosage ? 'border-red-300' : 'border-gray-300'\n                           }`}\n                           placeholder=\"500\"\n                           min=\"0\"\n                           step=\"0.1\"\n                           aria-describedby={errors.dosage ? \"dosage-error\" : undefined}\n                           aria-invalid={!!errors.dosage}\n                         />\n                         <select\n                           id=\"dosage-unit\"\n                           value={dosageUnit}\n                           onChange={(e) => setDosageUnit(e.target.value)}\n                           className=\"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white text-base min-w-[100px]\"\n                           aria-label=\"Dosage unit\"\n                         >\n                           <option value=\"mg\">mg</option>\n                           <option value=\"ml\">mL</option>\n                           <option value=\"iu\">IU</option>\n                           <option value=\"drops\">drops</option>\n                           <option value=\"tablets\">tablets</option>\n                           <option value=\"capsules\">capsules</option>\n                           <option value=\"puffs\">puffs</option>\n                           <option value=\"units\">units</option>\n                           <option value=\"mcg\">mcg</option>\n                           <option value=\"g\">g</option>\n                         </select>\n                       </div>\n                       {errors.dosage && (\n                         <p id=\"dosage-error\" className=\"text-sm text-red-600 mt-1\" role=\"alert\">{errors.dosage}</p>\n                       )}\n                     </div>\n\n                     {/* Form */}\n                     <div>\n                       <label htmlFor=\"medication-form\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                         Form *\n                       </label>\n                       <select\n                         id=\"medication-form\"\n                         value={medicationForm}\n                         onChange={(e) => setMedicationForm(e.target.value)}\n                         className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white text-base\"\n                         aria-label=\"Medication form\"\n                       >\n                         <option value=\"pill\">Pill</option>\n                         <option value=\"capsule\">Capsule</option>\n                         <option value=\"liquid\">Liquid</option>\n                         <option value=\"injection\">Injection</option>\n                         <option value=\"patch\">Patch</option>\n                         <option value=\"inhaler\">Inhaler</option>\n                         <option value=\"drops\">Drops</option>\n                         <option value=\"cream\">Cream</option>\n                         <option value=\"suppository\">Suppository</option>\n                         <option value=\"other\">Other</option>\n                       </select>\n                     </div>\n\n                     {/* Schedule */}\n                     <div>\n                       <label htmlFor=\"medication-schedule\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                         Schedule *\n                       </label>\n                       <div className=\"space-y-3\">\n                         <select\n                           id=\"medication-schedule\"\n                           value={schedule}\n                           onChange={(e) => setSchedule(e.target.value)}\n                           className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white text-base\"\n                           aria-label=\"Medication schedule\"\n                         >\n                           <option value=\"once_daily\">Once daily</option>\n                           <option value=\"twice_daily\">Twice daily</option>\n                           <option value=\"three_times_daily\">Three times daily</option>\n                           <option value=\"every_6_hours\">Every 6 hours</option>\n                           <option value=\"every_8_hours\">Every 8 hours</option>\n                           <option value=\"every_12_hours\">Every 12 hours</option>\n                           <option value=\"weekly\">Weekly</option>\n                           <option value=\"monthly\">Monthly</option>\n                           <option value=\"custom\">Custom</option>\n                         </select>\n                         \n                         {schedule === 'custom' && (\n                           <div>\n                             <input\n                               type=\"text\"\n                               value={customSchedule}\n                               onChange={(e) => {\n                                 setCustomSchedule(e.target.value);\n                                 if (errors.customSchedule) {\n                                   setErrors(prev => ({ ...prev, customSchedule: '' }));\n                                 }\n                               }}\n                               className={`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base ${\n                                 errors.customSchedule ? 'border-red-300' : 'border-gray-300'\n                               }`}\n                               placeholder=\"e.g., 8AM, 2PM, 8PM\"\n                               aria-describedby={errors.customSchedule ? \"custom-schedule-error\" : undefined}\n                               aria-invalid={!!errors.customSchedule}\n                             />\n                             {errors.customSchedule && (\n                               <p id=\"custom-schedule-error\" className=\"text-sm text-red-600 mt-1\" role=\"alert\">{errors.customSchedule}</p>\n                             )}\n                           </div>\n                         )}\n                         \n                         <div className=\"flex items-center space-x-2\">\n                           <input\n                             type=\"checkbox\"\n                             id=\"asNeeded\"\n                             checked={asNeeded}\n                             onChange={(e) => setAsNeeded(e.target.checked)}\n                             className=\"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500 focus:ring-2\"\n                             aria-label=\"Take medication as needed\"\n                           />\n                           <label htmlFor=\"asNeeded\" className=\"text-sm text-gray-700 cursor-pointer\">\n                             As needed\n                           </label>\n                         </div>\n                       </div>\n                     </div>\n\n                     {/* Time of Last Dose */}\n                     <div>\n                       <label htmlFor=\"time-last-dose\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                         Time of Last Dose\n                       </label>\n                       <input\n                         id=\"time-last-dose\"\n                         type=\"time\"\n                         value={timeOfLastDose}\n                         onChange={(e) => setTimeOfLastDose(e.target.value)}\n                         className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\"\n                         aria-label=\"Time of last dose\"\n                       />\n                     </div>\n\n                     {/* Start Date */}\n                     <div>\n                       <label htmlFor=\"start-date\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                         Start Date\n                       </label>\n                       <input\n                         id=\"start-date\"\n                         type=\"date\"\n                         value={startDate}\n                         onChange={(e) => setStartDate(e.target.value)}\n                         className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\"\n                         aria-label=\"Start date\"\n                       />\n                     </div>\n\n                     {/* Instructions */}\n                     <div>\n                       <label htmlFor=\"instructions\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                         Instructions\n                       </label>\n                       <textarea\n                         id=\"instructions\"\n                         value={instructions}\n                         onChange={(e) => setInstructions(e.target.value)}\n                         rows={3}\n                         className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base resize-none\"\n                         placeholder=\"E.g., Take with food, avoid dairy...\"\n                         aria-label=\"Medication instructions\"\n                       />\n                     </div>\n                   </div>\n\n                   {/* Divider */}\n                   <div className=\"border-t border-gray-200\"></div>\n\n                   {/* Advanced Options Section */}\n                   <div className=\"space-y-4\">\n                     <button\n                       onClick={() => setShowAdvancedOptions(!showAdvancedOptions)}\n                       className=\"flex items-center justify-between w-full text-left p-0 bg-transparent border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 rounded-lg\"\n                       aria-expanded={showAdvancedOptions}\n                       aria-controls=\"advanced-options-content\"\n                       aria-label=\"Toggle advanced options\"\n                     >\n                       <div className=\"flex items-center space-x-2\">\n                         <div className=\"w-2 h-2 bg-gray-400 rounded-full\"></div>\n                         <h3 className=\"text-sm font-semibold text-gray-900\">Advanced Options</h3>\n                       </div>\n                       <svg \n                         className={`w-5 h-5 text-gray-400 transition-transform ${showAdvancedOptions ? 'rotate-180' : ''}`}\n                         fill=\"none\" \n                         stroke=\"currentColor\" \n                         viewBox=\"0 0 24 24\"\n                         aria-hidden=\"true\"\n                       >\n                         <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                       </svg>\n                     </button>\n\n                     {/* Advanced options content */}\n                     {showAdvancedOptions && (\n                       <div id=\"advanced-options-content\" className=\"space-y-4 pl-4 border-l-2 border-gray-100\">\n                         {/* Unique identifier */}\n                         <div>\n                           <label htmlFor=\"unique-identifier\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                             Unique Identifier\n                           </label>\n                           <input\n                             id=\"unique-identifier\"\n                             type=\"text\"\n                             value={uniqueIdentifier}\n                             onChange={(e) => setUniqueIdentifier(e.target.value)}\n                             className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\"\n                             placeholder=\"e.g., Lot number, Batch ID\"\n                             aria-label=\"Unique identifier\"\n                           />\n                         </div>\n\n                         {/* Notes */}\n                         <div>\n                           <label htmlFor=\"notes\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                             Notes\n                           </label>\n                           <textarea\n                             id=\"notes\"\n                             value={selectedNotes}\n                             onChange={(e) => setSelectedNotes(e.target.value)}\n                             rows={3}\n                             className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base resize-none\"\n                             placeholder=\"Any side effects, observations, or additional notes...\"\n                             aria-label=\"Additional notes\"\n                           />\n                         </div>\n                       </div>\n                     )}\n                   </div>\n\n                   {/* Action buttons */}\n                   <div className=\"pt-6 border-t border-gray-200 space-y-3\">\n                     <button\n                       onClick={handleLogMedication}\n                       disabled={!isFormValid() || isSaving}\n                       className=\"w-full px-4 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed transition-colors font-medium text-base focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                       aria-label=\"Save medication entry\"\n                     >\n                       {isSaving ? (\n                         <div className=\"flex items-center justify-center space-x-2\">\n                           <svg className=\"animate-spin h-4 w-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\">\n                             <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                             <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                           </svg>\n                           <span>Saving...</span>\n                         </div>\n                       ) : (\n                         'Save'\n                       )}\n                     </button>\n                     <button\n                       onClick={() => {\n                         setCurrentStep('search');\n                         setErrors({});\n                         setIsSaving(false);\n                       }}\n                       className=\"w-full px-4 py-3 text-gray-600 hover:text-gray-800 hover:bg-gray-50 transition-colors font-medium text-base focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\n                       aria-label=\"Go back to search\"\n                     >\n                       Cancel\n                     </button>\n                   </div>\n                 </div>\n               )}\n             </div>\n           </div>\n         </div>\n       )}\n\n               {/* AI-Powered Suggestions Banner - Fixed at bottom */}\n        {currentSuggestion && (\n          <div className=\"fixed bottom-0 left-0 right-0 z-50 p-4\">\n            <div className={`max-w-2xl mx-auto rounded-lg border shadow-lg ${getSuggestionBackground()} transition-all duration-300 ease-in-out`}>\n              <div className=\"p-4\">\n                <div className=\"flex items-start space-x-3\">\n                  {/* Suggestion Icon */}\n                  <div className=\"flex-shrink-0 mt-0.5\">\n                    <span className=\"text-lg\">{currentSuggestion.icon}</span>\n                  </div>\n                  \n                  {/* Suggestion Content */}\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"text-sm font-medium text-gray-900 leading-relaxed\">\n                      {currentSuggestion.message}\n                    </p>\n                    {currentSuggestion.action && (\n                      <button\n                        onClick={handleSuggestionAction}\n                        className=\"mt-2 text-xs font-medium text-indigo-600 hover:text-indigo-700 transition-colors\"\n                      >\n                        {currentSuggestion.action} â†’\n                      </button>\n                    )}\n                  </div>\n                  \n                  {/* Dismiss Button */}\n                  <button\n                    onClick={handleDismissSuggestion}\n                    className=\"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 transition-colors rounded-full hover:bg-white hover:bg-opacity-50\"\n                    aria-label=\"Dismiss suggestion\"\n                  >\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Confirmation Toast */}\n        {showConfirmation && (\n          <div className=\"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50\" role=\"alert\" aria-live=\"polite\">\n            <div className=\"bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg flex items-center space-x-2\">\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n              </svg>\n              <span className=\"font-medium\">Medication logged!</span>\n            </div>\n          </div>\n        )}\n\n        {/* Set Reminder Modal */}\n        {showSetReminderModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n              {/* Modal Header */}\n              <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n                <h2 className=\"text-xl font-semibold text-gray-900\">\n                  {editingReminderId ? 'Edit Reminder' : 'Set Reminder'}\n                </h2>\n                <button\n                  onClick={handleCloseSetReminderModal}\n                  className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n                  aria-label=\"Close modal\"\n                >\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n\n              {/* Modal Content */}\n              <div className=\"p-6 space-y-6\">\n                {/* Medication Name */}\n                <div>\n                  <label htmlFor=\"reminder-medication\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Medication Name *\n                  </label>\n                  <div className=\"relative\">\n                    <input\n                      id=\"reminder-medication\"\n                      type=\"text\"\n                      value={reminderMedication}\n                      onChange={(e) => {\n                        const value = e.target.value;\n                        setReminderMedication(value);\n                        if (errors.reminderMedication) {\n                          setErrors(prev => ({ ...prev, reminderMedication: '' }));\n                        }\n                      }}\n                      onFocus={() => setShowDropdown(true)}\n                      onBlur={() => setTimeout(() => setShowDropdown(false), 200)}\n                      className={`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base ${\n                        errors.reminderMedication ? 'border-red-300' : 'border-gray-300'\n                      }`}\n                      placeholder=\"Search medications or enter custom name...\"\n                      aria-describedby={errors.reminderMedication ? \"reminder-medication-error\" : undefined}\n                      aria-invalid={!!errors.reminderMedication}\n                    />\n                    \n                    {/* Medication Search Dropdown */}\n                    {showDropdown && reminderMedication.trim() !== '' && (\n                      <div className=\"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto\">\n                        {medicationDatabase\n                          .filter(med => \n                            med.name.toLowerCase().includes(reminderMedication.toLowerCase())\n                          )\n                          .slice(0, 8)\n                          .map((medication, index) => (\n                            <button\n                              key={index}\n                              onClick={() => {\n                                setReminderMedication(medication.name);\n                                setShowDropdown(false);\n                              }}\n                              className=\"w-full px-4 py-3 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-inset transition-colors\"\n                            >\n                              <div className=\"flex items-center space-x-3\">\n                                <span className=\"text-xl\">ðŸ’Š</span>\n                                <div className=\"flex-1 min-w-0\">\n                                  <p className=\"text-sm font-medium text-gray-900\">{medication.name}</p>\n                                  <p className=\"text-xs text-gray-500\">{medication.dosage} â€¢ {medication.frequency}</p>\n                                </div>\n                              </div>\n                            </button>\n                          ))}\n                      </div>\n                    )}\n                  </div>\n                  {errors.reminderMedication && (\n                    <p id=\"reminder-medication-error\" className=\"text-sm text-red-600 mt-1\" role=\"alert\">\n                      {errors.reminderMedication}\n                    </p>\n                  )}\n                </div>\n\n                {/* Repeat Schedule */}\n                <div>\n                  <label htmlFor=\"repeat-schedule\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Repeat Schedule\n                  </label>\n                  <select\n                    id=\"repeat-schedule\"\n                    value={reminderRepeatSchedule}\n                    onChange={(e) => setReminderRepeatSchedule(e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\"\n                  >\n                    <option value=\"daily\">Daily</option>\n                    <option value=\"specific_days\">Specific days</option>\n                    <option value=\"every_x_hours\">Every X hours</option>\n                    <option value=\"as_needed\">As needed</option>\n                  </select>\n                </div>\n\n                {/* Specific Days (conditional) */}\n                {reminderRepeatSchedule === 'specific_days' && (\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Select Days\n                    </label>\n                    <div className=\"grid grid-cols-4 gap-2\">\n                      {['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'].map((day) => (\n                        <button\n                          key={day}\n                          type=\"button\"\n                          onClick={() => handleReminderDayToggle(day)}\n                          className={`px-3 py-2 text-sm rounded-lg border transition-colors ${\n                            reminderSpecificDays.includes(day)\n                              ? 'bg-indigo-600 text-white border-indigo-600'\n                              : 'bg-white text-gray-700 border-gray-300 hover:border-indigo-300'\n                          }`}\n                        >\n                          {day.slice(0, 3)}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Every X Hours (conditional) */}\n                {reminderRepeatSchedule === 'every_x_hours' && (\n                  <div>\n                    <label htmlFor=\"every-x-hours\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Every X Hours\n                    </label>\n                    <input\n                      id=\"every-x-hours\"\n                      type=\"number\"\n                      value={reminderEveryXHours}\n                      onChange={(e) => setReminderEveryXHours(e.target.value)}\n                      min=\"1\"\n                      max=\"168\"\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\"\n                      placeholder=\"24\"\n                    />\n                  </div>\n                )}\n\n                {/* Multiple Times Per Day */}\n                {reminderRepeatSchedule !== 'every_x_hours' && (\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Times Per Day\n                    </label>\n                    <div className=\"grid grid-cols-2 gap-2 mb-3\">\n                      {['breakfast', 'lunch', 'dinner', 'bedtime'].map((time) => (\n                        <button\n                          key={time}\n                          type=\"button\"\n                          onClick={() => handleReminderTimeToggle(time)}\n                          className={`px-3 py-2 text-sm rounded-lg border transition-colors capitalize ${\n                            reminderTimesPerDay.includes(time)\n                              ? 'bg-indigo-600 text-white border-indigo-600'\n                              : 'bg-white text-gray-700 border-gray-300 hover:border-indigo-300'\n                          }`}\n                        >\n                          {time}\n                        </button>\n                      ))}\n                    </div>\n                    <div>\n                      <label htmlFor=\"custom-time\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Custom Time\n                      </label>\n                      <input\n                        id=\"custom-time\"\n                        type=\"time\"\n                        value={reminderCustomTime}\n                        onChange={(e) => setReminderCustomTime(e.target.value)}\n                        className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\"\n                      />\n                      {reminderCustomTime && (\n                        <button\n                          type=\"button\"\n                          onClick={() => handleReminderTimeToggle(reminderCustomTime)}\n                          className={`mt-2 px-3 py-2 text-sm rounded-lg border transition-colors ${\n                            reminderTimesPerDay.includes(reminderCustomTime)\n                              ? 'bg-indigo-600 text-white border-indigo-600'\n                              : 'bg-white text-gray-700 border-gray-300 hover:border-indigo-300'\n                          }`}\n                        >\n                          Add {reminderCustomTime}\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                )}\n\n                {/* Start Date */}\n                <div>\n                  <label htmlFor=\"reminder-start-date\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Start Date\n                  </label>\n                  <input\n                    id=\"reminder-start-date\"\n                    type=\"date\"\n                    value={reminderStartDate}\n                    onChange={(e) => setReminderStartDate(e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\"\n                  />\n                </div>\n\n                {/* End Date (optional) */}\n                <div>\n                  <label htmlFor=\"reminder-end-date\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    End Date (Optional)\n                  </label>\n                  <input\n                    id=\"reminder-end-date\"\n                    type=\"date\"\n                    value={reminderEndDate}\n                    onChange={(e) => setReminderEndDate(e.target.value)}\n                    min={reminderStartDate}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\"\n                  />\n                </div>\n\n                {/* Reminder Method */}\n                <div>\n                  <label htmlFor=\"reminder-method\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Reminder Method\n                  </label>\n                  <select\n                    id=\"reminder-method\"\n                    value={reminderMethod}\n                    onChange={(e) => setReminderMethod(e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base\"\n                  >\n                    <option value=\"in_app\">In-app notification</option>\n                    <option value=\"email\">Email</option>\n                    <option value=\"sms\">SMS</option>\n                  </select>\n                </div>\n\n                {/* Notes */}\n                <div>\n                  <label htmlFor=\"reminder-notes\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Notes (Optional)\n                  </label>\n                  <textarea\n                    id=\"reminder-notes\"\n                    value={reminderNotes}\n                    onChange={(e) => setReminderNotes(e.target.value)}\n                    rows={3}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base resize-none\"\n                    placeholder=\"Additional notes about this reminder...\"\n                  />\n                </div>\n              </div>\n\n              {/* Modal Footer */}\n              <div className=\"flex items-center justify-end space-x-3 p-6 border-t border-gray-200\">\n                <button\n                  onClick={handleCloseSetReminderModal}\n                  className=\"px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-50 transition-colors font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={editingReminderId ? handleUpdateReminder : handleCreateReminder}\n                  className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors font-medium\"\n                >\n                  {editingReminderId ? 'Update Reminder' : 'Save Reminder'}\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n     </div>\n   );\n };\n\nexport default MedicationTracker; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}